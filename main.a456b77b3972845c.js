"use strict";(self.webpackChunk_7house=self.webpackChunk_7house||[]).push([[179],{2011:(Mt,je,R)=>{R.d(je,{Dh:()=>ye,GT:()=>Ee,cc:()=>Se,hO:()=>qe,on:()=>W,pX:()=>de,xv:()=>Ce});var u=R(4650),$=R(1274),k=R(4799);Mt=R.hmd(Mt);const ae=["ngOnDestroy"],de=(fe,Ct,ft,Fe={})=>new Proxy(fe,{get:(Ae,Me)=>ft.runOutsideAngular(()=>{var nt;if(fe[Me])return!(null===(nt=Fe?.spy)||void 0===nt)&&nt.get&&Fe.spy.get(Me,fe[Me]),fe[Me];if(ae.indexOf(Me)>-1)return()=>{};const Xe=Ct.toPromise().then(K=>{const be=K&&K[Me];return"function"==typeof be?be.bind(K):be&&be.then?be.then(Ze=>ft.run(()=>Ze)):ft.run(()=>be)});return new Proxy(()=>{},{get:(K,be)=>Xe[be],apply:(K,be,Ze)=>Xe.then(rt=>{var Nt;const st=rt&&rt(...Ze);return!(null===(Nt=Fe?.spy)||void 0===Nt)&&Nt.apply&&Fe.spy.apply(Me,Ze,st),st})})})}),Ee=(fe,Ct)=>{Ct.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Fe=>{Object.defineProperty(fe.prototype,Fe,Object.getOwnPropertyDescriptor(ft.prototype||ft,Fe))})})};class ge{constructor(Ct){return Ct}}const ye=new u.OlP("angularfire2.app.options"),Ce=new u.OlP("angularfire2.app.name");function W(fe,Ct,ft){const Ae="object"==typeof ft&&ft||{};Ae.name=Ae.name||"string"==typeof ft&&ft||"[DEFAULT]";const nt=$.Z.apps.filter(Xe=>Xe&&Xe.name===Ae.name)[0]||Ct.runOutsideAngular(()=>$.Z.initializeApp(fe,Ae));try{JSON.stringify(fe)!==JSON.stringify(nt.options)&&q("error",`${nt.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(nt)}const q=(fe,...Ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[fe](...Ct)},X={provide:ge,useFactory:W,deps:[ye,u.R0b,[new u.FiY,Ce]]};let qe=(()=>{class fe{constructor(ft){$.Z.registerVersion("angularfire",k.q4.full,"core"),$.Z.registerVersion("angularfire",k.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,ft.toString())}static initializeApp(ft,Fe){return{ngModule:fe,providers:[{provide:ye,useValue:ft},{provide:Ce,useValue:Fe}]}}}return fe.\u0275fac=function(ft){return new(ft||fe)(u.LFG(u.Lbi))},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({providers:[X]}),fe})();function Se(fe,Ct,ft,Fe,Ae){const[,Me,nt]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===fe)||[];if(Me)return function Oe(fe,Ct){try{return fe.toString()===Ct.toString()}catch{return fe===Ct}}(Ae,nt)||(De("error",`${Ct} was already initialized on the ${ft} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Ae,was:nt})),Me;{const Xe=Fe();return globalThis.\u0275AngularfireInstanceCache.push([fe,Xe,Ae]),Xe}}const lt=!!Mt.hot,De=(fe,...Ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[fe](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4799:(Mt,je,R)=>{R.d(je,{q4:()=>qs,iC:()=>$o,HU:()=>Ks,vb:()=>mc,JM:()=>fl,n1:()=>ju,u3:()=>gl});var u=R(4650),$=R(8140),k=R(5861),ae=R(9681),de=R(2090),Ee=R(4859),ge=R(1877);R(4727);const Ce="@firebase/remote-config",W="0.4.4",Se=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dn{constructor(U,Y,me,ke){this.client=U,this.storage=Y,this.storageCache=me,this.logger=ke}isCachedDataFresh(U,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-Y,ke=me<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${ke}.`),ke}fetch(U){var Y=this;return(0,k.Z)(function*(){const[me,ke]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(ke&&Y.isCachedDataFresh(U.cacheMaxAgeMillis,me))return ke;U.eTag=ke&&ke.eTag;const Ge=yield Y.client.fetch(U),it=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&it.push(Y.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(it),Ge})()}}function fr(j=navigator){return j.languages&&j.languages[0]||j.language}class se{constructor(U,Y,me,ke,Ge,it){this.firebaseInstallations=U,this.sdkVersion=Y,this.namespace=me,this.projectId=ke,this.apiKey=Ge,this.appId=it}fetch(U){var Y=this;return(0,k.Z)(function*(){const[me,ke]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Je={sdk_version:Y.sdkVersion,app_instance_id:me,app_instance_id_token:ke,app_id:Y.appId,language_code:fr()},sn={method:"POST",headers:Yt,body:JSON.stringify(Je)},Mn=fetch(it,sn),ti=new Promise((Ue,an)=>{U.signal.addEventListener(()=>{const ml=new Error("The operation was aborted.");ml.name="AbortError",an(ml)})});let Pi;try{yield Promise.race([Mn,ti]),Pi=yield Mn}catch(Ue){let an="fetch-client-network";throw"AbortError"===Ue?.name&&(an="fetch-timeout"),Se.create(an,{originalErrorMessage:Ue?.message})}let Kr=Pi.status;const ho=Pi.headers.get("ETag")||void 0;let Ma,Ho;if(200===Pi.status){let Ue;try{Ue=yield Pi.json()}catch(an){throw Se.create("fetch-client-parse",{originalErrorMessage:an?.message})}Ma=Ue.entries,Ho=Ue.state}if("INSTANCE_STATE_UNSPECIFIED"===Ho?Kr=500:"NO_CHANGE"===Ho?Kr=304:("NO_TEMPLATE"===Ho||"EMPTY_CONFIG"===Ho)&&(Ma={}),304!==Kr&&200!==Kr)throw Se.create("fetch-status",{httpStatus:Kr});return{status:Kr,eTag:ho,config:Ma}})()}}class le{constructor(U,Y){this.client=U,this.storage=Y}fetch(U){var Y=this;return(0,k.Z)(function*(){const me=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(U,me)})()}attemptFetch(U,{throttleEndTimeMillis:Y,backoffCount:me}){var ke=this;return(0,k.Z)(function*(){yield function oe(j,U){return new Promise((Y,me)=>{const ke=Math.max(U-Date.now(),0),Ge=setTimeout(Y,ke);j.addEventListener(()=>{clearTimeout(Ge),me(Se.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Y);try{const Ge=yield ke.client.fetch(U);return yield ke.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function Te(j){if(!(j instanceof de.ZR&&j.customData))return!1;const U=Number(j.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Ge))throw Ge;const it={throttleEndTimeMillis:Date.now()+(0,de.$s)(me),backoffCount:me+1};return yield ke.storage.setThrottleMetadata(it),ke.attemptFetch(U,it)}})()}}class _t{constructor(U,Y,me,ke,Ge){this.app=U,this._client=Y,this._storageCache=me,this._storage=ke,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(j,U){const Y=j.target.error||void 0;return Se.create(U,{originalErrorMessage:Y&&Y?.message})}const qt="app_namespace_store";class wn{constructor(U,Y,me,ke=function nn(){return new Promise((j,U)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=me=>{U(Tt(me,"storage-open"))},Y.onsuccess=me=>{j(me.target.result)},Y.onupgradeneeded=me=>{0===me.oldVersion&&me.target.result.createObjectStore(qt,{keyPath:"compositeKey"})}}catch(Y){U(Se.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=U,this.appName=Y,this.namespace=me,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Y=this;return(0,k.Z)(function*(){const me=yield Y.openDbPromise;return new Promise((ke,Ge)=>{const Yt=me.transaction([qt],"readonly").objectStore(qt),Je=Y.createCompositeKey(U);try{const sn=Yt.get(Je);sn.onerror=Mn=>{Ge(Tt(Mn,"storage-get"))},sn.onsuccess=Mn=>{const ti=Mn.target.result;ke(ti?ti.value:void 0)}}catch(sn){Ge(Se.create("storage-get",{originalErrorMessage:sn?.message}))}})})()}set(U,Y){var me=this;return(0,k.Z)(function*(){const ke=yield me.openDbPromise;return new Promise((Ge,it)=>{const Je=ke.transaction([qt],"readwrite").objectStore(qt),sn=me.createCompositeKey(U);try{const Mn=Je.put({compositeKey:sn,value:Y});Mn.onerror=ti=>{it(Tt(ti,"storage-set"))},Mn.onsuccess=()=>{Ge()}}catch(Mn){it(Se.create("storage-set",{originalErrorMessage:Mn?.message}))}})})()}delete(U){var Y=this;return(0,k.Z)(function*(){const me=yield Y.openDbPromise;return new Promise((ke,Ge)=>{const Yt=me.transaction([qt],"readwrite").objectStore(qt),Je=Y.createCompositeKey(U);try{const sn=Yt.delete(Je);sn.onerror=Mn=>{Ge(Tt(Mn,"storage-delete"))},sn.onsuccess=()=>{ke()}}catch(sn){Ge(Se.create("storage-delete",{originalErrorMessage:sn?.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class er{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,k.Z)(function*(){const Y=U.storage.getLastFetchStatus(),me=U.storage.getLastSuccessfulFetchTimestampMillis(),ke=U.storage.getActiveConfig(),Ge=yield Y;Ge&&(U.lastFetchStatus=Ge);const it=yield me;it&&(U.lastSuccessfulFetchTimestampMillis=it);const Yt=yield ke;Yt&&(U.activeConfig=Yt)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function xr(){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function bn(){(0,ae.Xd)(new Ee.wA("remote-config",function j(U,{instanceIdentifier:Y}){const me=U.getProvider("app").getImmediate(),ke=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Se.create("registration-window");if(!(0,de.hl)())throw Se.create("indexed-db-unavailable");const{projectId:Ge,apiKey:it,appId:Yt}=me.options;if(!Ge)throw Se.create("registration-project-id");if(!it)throw Se.create("registration-api-key");if(!Yt)throw Se.create("registration-app-id");const Je=new wn(Yt,me.name,Y=Y||"firebase"),sn=new er(Je),Mn=new ge.Yd(Ce);Mn.logLevel=ge.in.ERROR;const ti=new se(ke,ae.Jn,Y,Ge,it,Yt),Pi=new le(ti,Je),Kr=new Dn(Pi,Je,sn,Mn),ho=new _t(me,Kr,sn,Je,Mn);return function nt(j){const U=(0,de.m9)(j);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,ae.KN)(Ce,W),(0,ae.KN)(Ce,W,"esm2017")}();var jn=R(8628);const Fn="analytics",tr="firebase_id",dn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jt="https://www.googletagmanager.com/gtag/js",kt=new ge.Yd("@firebase/analytics"),ct=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function on(j){if(!j.startsWith(Jt)){const U=ct.create("invalid-gtag-resource",{gtagURL:j});return kt.warn(U.message),""}return j}function Ln(j){return Promise.all(j.map(U=>U.catch(Y=>Y)))}function Gn(j,U){const Y=function qn(j,U){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(j,U)),Y}("firebase-js-sdk-policy",{createScriptURL:on}),me=document.createElement("script"),ke=`${Jt}?l=${j}&id=${U}`;me.src=Y?Y?.createScriptURL(ke):ke,me.async=!0,document.head.appendChild(me)}function br(j,U,Y,me,ke,Ge){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,k.Z)(function*(j,U,Y,me,ke,Ge){const it=me[ke];try{if(it)yield U[it];else{const Je=(yield Ln(Y)).find(sn=>sn.measurementId===ke);Je&&(yield U[Je.appId])}}catch(Yt){kt.error(Yt)}j("config",ke,Ge)})).apply(this,arguments)}function Pr(j,U,Y,me,ke){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(j,U,Y,me,ke){try{let Ge=[];if(ke&&ke.send_to){let it=ke.send_to;Array.isArray(it)||(it=[it]);const Yt=yield Ln(Y);for(const Je of it){const sn=Yt.find(ti=>ti.measurementId===Je),Mn=sn&&U[sn.appId];if(!Mn){Ge=[];break}Ge.push(Mn)}}0===Ge.length&&(Ge=Object.values(U)),yield Promise.all(Ge),j("event",me,ke||{})}catch(Ge){kt.error(Ge)}})).apply(this,arguments)}function _e(j){const U=window.document.getElementsByTagName("script");for(const Y of Object.values(U))if(Y.src&&Y.src.includes(Jt)&&Y.src.includes(j))return Y;return null}const dt=new class We{constructor(U={},Y=1e3){this.throttleMetadata=U,this.intervalMillis=Y}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Y){this.throttleMetadata[U]=Y}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function bt(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function vn(j){return G.apply(this,arguments)}function G(){return(G=(0,k.Z)(function*(j){var U;const{appId:Y,apiKey:me}=j,ke={method:"GET",headers:bt(me)},Ge=dn.replace("{app-id}",Y),it=yield fetch(Ge,ke);if(200!==it.status&&304!==it.status){let Yt="";try{const Je=yield it.json();null!==(U=Je.error)&&void 0!==U&&U.message&&(Yt=Je.error.message)}catch{}throw ct.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Yt})}return it.json()})).apply(this,arguments)}function z(j){return N.apply(this,arguments)}function N(){return(N=(0,k.Z)(function*(j,U=dt,Y){const{appId:me,apiKey:ke,measurementId:Ge}=j.options;if(!me)throw ct.create("no-app-id");if(!ke){if(Ge)return{measurementId:Ge,appId:me};throw ct.create("no-api-key")}const it=U.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new at;return setTimeout((0,k.Z)(function*(){Yt.abort()}),void 0!==Y?Y:6e4),O({appId:me,apiKey:ke,measurementId:Ge},it,Yt,U)})).apply(this,arguments)}function O(j,U,Y){return x.apply(this,arguments)}function x(){return(x=(0,k.Z)(function*(j,{throttleEndTimeMillis:U,backoffCount:Y},me,ke=dt){var Ge;const{appId:it,measurementId:Yt}=j;try{yield ne(me,U)}catch(Je){if(Yt)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:it,measurementId:Yt};throw Je}try{const Je=yield vn(j);return ke.deleteThrottleMetadata(it),Je}catch(Je){const sn=Je;if(!Re(sn)){if(ke.deleteThrottleMetadata(it),Yt)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:it,measurementId:Yt};throw Je}const Mn=503===Number(null===(Ge=sn?.customData)||void 0===Ge?void 0:Ge.httpStatus)?(0,de.$s)(Y,ke.intervalMillis,30):(0,de.$s)(Y,ke.intervalMillis),ti={throttleEndTimeMillis:Date.now()+Mn,backoffCount:Y+1};return ke.setThrottleMetadata(it,ti),kt.debug(`Calling attemptFetch again in ${Mn} millis`),O(j,ti,me,ke)}})).apply(this,arguments)}function ne(j,U){return new Promise((Y,me)=>{const ke=Math.max(U-Date.now(),0),Ge=setTimeout(Y,ke);j.addEventListener(()=>{clearTimeout(Ge),me(ct.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function Re(j){if(!(j instanceof de.ZR&&j.customData))return!1;const U=Number(j.customData.httpStatus);return 429===U||500===U||503===U||504===U}class at{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let St,Si;function ut(){return(ut=(0,k.Z)(function*(j,U,Y,me,ke){if(ke&&ke.global)j("event",Y,me);else{const Ge=yield U;j("event",Y,Object.assign(Object.assign({},me),{send_to:Ge}))}})).apply(this,arguments)}function es(j){Si=j}function Ai(j){St=j}function Yn(){return gi.apply(this,arguments)}function gi(){return(gi=(0,k.Z)(function*(){if(!(0,de.hl)())return kt.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(j){return kt.warn(ct.create("indexeddb-unavailable",{errorInfo:j?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wr(){return(Wr=(0,k.Z)(function*(j,U,Y,me,ke,Ge,it){var Yt;const Je=z(j);Je.then(Kr=>{Y[Kr.measurementId]=Kr.appId,j.options.measurementId&&Kr.measurementId!==j.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${Kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kr=>kt.error(Kr)),U.push(Je);const sn=Yn().then(Kr=>{if(Kr)return me.getId()}),[Mn,ti]=yield Promise.all([Je,sn]);_e(Ge)||Gn(Ge,Mn.measurementId),Si&&(ke("consent","default",Si),es(void 0)),ke("js",new Date);const Pi=null!==(Yt=it?.config)&&void 0!==Yt?Yt:{};return Pi.origin="firebase",Pi.update=!0,null!=ti&&(Pi[tr]=ti),ke("config",Mn.measurementId,Pi),St&&(ke("set",St),Ai(void 0)),Mn.measurementId})).apply(this,arguments)}class Hi{constructor(U){this.app=U}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},mn=[];const gs={};let sr,or,Ws="dataLayer",ms=!1;function ee(j,U,Y){!function B(){const j=[];if((0,de.ru)()&&j.push("This is a browser extension environment."),(0,de.zI)()||j.push("Cookies are not available."),j.length>0){const U=j.map((me,ke)=>`(${ke+1}) ${me}`).join(" "),Y=ct.create("invalid-analytics-context",{errorInfo:U});kt.warn(Y.message)}}();const me=j.options.appId;if(!me)throw ct.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw ct.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[me])throw ct.create("already-exists",{id:me});if(!ms){!function $t(j){let U=[];Array.isArray(window[j])?U=window[j]:window[j]=U}(Ws);const{wrappedGtag:Ge,gtagCore:it}=function Sn(j,U,Y,me,ke){let Ge=function(...it){window[me].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Ge=window[ke]),window[ke]=function Wn(j,U,Y,me){function Ge(){return(Ge=(0,k.Z)(function*(it,...Yt){try{if("event"===it){const[Je,sn]=Yt;yield Pr(j,U,Y,Je,sn)}else if("config"===it){const[Je,sn]=Yt;yield br(j,U,Y,me,Je,sn)}else if("consent"===it){const[Je]=Yt;j("consent","update",Je)}else if("get"===it){const[Je,sn,Mn]=Yt;j("get",Je,sn,Mn)}else if("set"===it){const[Je]=Yt;j("set",Je)}else j(it,...Yt)}catch(Je){kt.error(Je)}})).apply(this,arguments)}return function ke(it){return Ge.apply(this,arguments)}}(Ge,j,U,Y),{gtagCore:Ge,wrappedGtag:window[ke]}}(Or,mn,gs,Ws,"gtag");or=Ge,sr=it,ms=!0}return Or[me]=function xi(j,U,Y,me,ke,Ge,it){return Wr.apply(this,arguments)}(j,mn,gs,U,sr,Ws,Y),new Hi(j)}function Pt(){return L.apply(this,arguments)}function L(){return(L=(0,k.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Ts="@firebase/analytics";!function ku(){(0,ae.Xd)(new Ee.wA(Fn,(U,{options:Y})=>ee(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,ae.Xd)(new Ee.wA("analytics-internal",function j(U){try{const Y=U.getProvider(Fn).getImmediate();return{logEvent:(me,ke,Ge)=>function $n(j,U,Y,me){j=(0,de.m9)(j),function Pe(j,U,Y,me,ke){return ut.apply(this,arguments)}(or,Or[j.app.options.appId],U,Y,me).catch(ke=>kt.error(ke))}(Y,me,ke,Ge)}}catch(Y){throw ct.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,ae.KN)(Ts,"0.10.0"),(0,ae.KN)(Ts,"0.10.0","esm2017")}();var Fu=R(4408),Vu=R(7565);const Ag=new class Uu extends Vu.v{}(class Lu extends Fu.o{constructor(U,Y){super(U,Y),this.scheduler=U,this.work=Y}schedule(U,Y=0){return Y>0?super.schedule(U,Y):(this.delay=Y,this.state=U,this.scheduler.flush(this),this)}execute(U,Y){return Y>0||this.closed?super.execute(U,Y):this._execute(U,Y)}requestAsyncId(U,Y,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(U,Y,me):(U.flush(this),0)}});var xg=R(4986),gc=R(9751),Bu=R(8505),Bo=R(9468),Ta=R(5363);const qs=new u.GfV("7.6.1"),hl="__angularfire_symbol__analyticsIsSupportedValue",_s="__angularfire_symbol__analyticsIsSupported",Gi="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",jo="__angularfire_symbol__messagingIsSupportedValue",Sa="__angularfire_symbol__messagingIsSupported";globalThis[_s]||(globalThis[_s]=Pt().then(j=>globalThis[hl]=j).catch(()=>globalThis[hl]=!1)),globalThis[Sa]||(globalThis[Sa]=(0,jn.Gb)().then(j=>globalThis[jo]=j).catch(()=>globalThis[jo]=!1)),globalThis[Da]||(globalThis[Da]=xr().then(j=>globalThis[Gi]=j).catch(()=>globalThis[Gi]=!1));const ju={async:()=>globalThis[Sa],sync:()=>{const j=globalThis[jo];if(void 0===j)throw new Error((j=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${j} in the constructor, first ensure that ${j} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${j})\`.`)("Messaging"));return j}};function fl(j,U,Y){if(U){if(1===U.length)return U[0];const Ge=U.filter(it=>it.app===Y);if(1===Ge.length)return Ge[0]}return Y.container.getProvider(j).getImmediate({optional:!0})}const mc=(j,U)=>{const Y=U?[U]:(0,$.C6)(),me=[];return Y.forEach(ke=>{ke.container.getProvider(j).instances.forEach(it=>{me.includes(it)||me.push(it)})}),me};function ur(){}class pl{constructor(U,Y=Ag){this.zone=U,this.delegate=Y}now(){return this.delegate.now()}schedule(U,Y,me){const ke=this.zone;return this.delegate.schedule(function(it){ke.runGuarded(()=>{U.apply(this,[it])})},Y,me)}}class Mg{constructor(U){this.zone=U,this.task=null}call(U,Y){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ur,{},ur,ur)),Y.pipe((0,Bu.b)({next:me,complete:me,error:me})).subscribe(U).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ks=(()=>{class j{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=Y.run(()=>new pl(Zone.current,xg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(Y){return new(Y||j)(u.LFG(u.R0b))},j.\u0275prov=u.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function Aa(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function jh(j){return Aa().ngZone.runOutsideAngular(()=>j())}function xn(j){return Aa().ngZone.run(()=>j())}function $o(j){return Aa(),function Mi(j){return function(Y){return(Y=Y.lift(new Mg(j.ngZone))).pipe((0,Bo.R)(j.outsideAngular),(0,Ta.Q)(j.insideAngular))}}(Aa())(j)}const Pg=(j,U)=>function(){const me=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),xn(()=>j.apply(void 0,me))},gl=(j,U)=>function(){let Y;const me=arguments;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof me[Ge]&&(U&&(Y||(Y=xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ur,{},ur,ur)))),me[Ge]=Pg(me[Ge],Y));const ke=jh(()=>j.apply(this,me));if(!U){if(ke instanceof gc.y){const Ge=Aa();return ke.pipe((0,Bo.R)(Ge.outsideAngular),(0,Ta.Q)(Ge.insideAngular))}return xn(()=>ke)}return ke instanceof gc.y?ke.pipe($o):ke instanceof Promise?xn(()=>new Promise((Ge,it)=>ke.then(Yt=>xn(()=>Ge(Yt)),Yt=>xn(()=>it(Yt))))):"function"==typeof ke&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),ke.apply(this,arguments)}:xn(()=>ke)}},9500:(Mt,je,R)=>{R.d(je,{$:()=>zo,A:()=>q,D:()=>Se,I:()=>B,J:()=>L,L:()=>Gi,N:()=>bt,P:()=>Vt,Q:()=>jh,R:()=>ns,U:()=>$o,V:()=>Mi,W:()=>Pg,X:()=>_c,Y:()=>Y,Z:()=>me,_:()=>Je,a:()=>Zo,a0:()=>Gu,a1:()=>Ly,a2:()=>Wi,a3:()=>Vy,a4:()=>Ng,a5:()=>Hh,a6:()=>Go,a7:()=>Uy,a8:()=>zh,a9:()=>By,aA:()=>K,aB:()=>hf,aC:()=>We,aD:()=>vn,aE:()=>xl,aF:()=>uf,aG:()=>Rc,aH:()=>sr,aL:()=>Il,aO:()=>j,aa:()=>kg,ab:()=>LE,ac:()=>VE,ad:()=>UE,ae:()=>BE,af:()=>jE,ai:()=>qu,aj:()=>jy,ak:()=>$E,an:()=>Kr,ao:()=>Zu,aq:()=>Cl,ar:()=>Qu,as:()=>Ze,at:()=>Pe,au:()=>Re,av:()=>Fe,aw:()=>ja,ax:()=>po,ay:()=>ut,az:()=>Ae,b:()=>$g,c:()=>Sl,d:()=>Qt,e:()=>Br,f:()=>df,g:()=>qi,h:()=>Js,i:()=>Ky,j:()=>li,k:()=>na,l:()=>JE,m:()=>wf,p:()=>ye,r:()=>XE,s:()=>xS,u:()=>ar});var u=R(5861),$=R(2090),k=R(9752),ae=R(7582),de=R(1877);R(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Se=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Oe=qe,lt=new $.LL("auth","Firebase",qe()),fe=new de.Yd("@firebase/auth");function ft(w,...p){fe.logLevel<=de.in.ERROR&&fe.error(`Auth (${k.SDK_VERSION}): ${w}`,...p)}function Fe(w,...p){throw Xe(w,...p)}function Ae(w,...p){return Xe(w,...p)}function Me(w,p,_){const E=Object.assign(Object.assign({},Oe()),{[p]:_});return new $.LL("auth","Firebase",E).create(p,{appName:w.name})}function nt(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Fe(w,"argument-error"),Me(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(w,...p){if("string"!=typeof w){const _=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(_,...E)}return lt.create(w,...p)}function K(w,p,..._){if(!w)throw Xe(p,..._)}function be(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ft(p),new Error(p)}function Ze(w,p){w||be(p)}function rt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Nt(){return"http:"===st()||"https:"===st()}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Dn{constructor(p,_){this.shortDelay=p,this.longDelay=_,Ze(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fr(w,p){Ze(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class se{static initialize(p,_,E){this.fetchImpl=p,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new Dn(3e4,6e4);function le(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Ne(w,p,_,E){return Be.apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(w,p,_,E,S={}){return _t(w,S,(0,u.Z)(function*(){let P={},te={};E&&("GET"===p?te=E:P={body:JSON.stringify(E)});const ve=(0,$.xO)(Object.assign({key:w.config.apiKey},te)).slice(1),et=yield w._getAdditionalHeaders();return et["Content-Type"]="application/json",w.languageCode&&(et["X-Firebase-Locale"]=w.languageCode),se.fetch()(un(w,w.config.apiHost,_,ve),Object.assign({method:p,headers:et,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function _t(w,p,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(w,p,_){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},oe),p);try{const S=new nn(w),P=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const te=yield P.json();if("needConfirmation"in te)throw wn(w,"account-exists-with-different-credential",te);if(P.ok&&!("errorMessage"in te))return te;{const ve=P.ok?te.errorMessage:te.error.message,[et,mt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw wn(w,"credential-already-in-use",te);if("EMAIL_EXISTS"===et)throw wn(w,"email-already-in-use",te);if("USER_DISABLED"===et)throw wn(w,"user-disabled",te);const Ut=E[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw Me(w,Ut,mt);Fe(w,Ut)}}catch(S){if(S instanceof $.ZR)throw S;Fe(w,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function qt(w,p,_,E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(w,p,_,E,S={}){const P=yield Ne(w,p,_,E,S);return"mfaPendingCredential"in P&&Fe(w,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function un(w,p,_,E){const S=`${p}${_}?${E}`;return w.config.emulator?fr(w.config,S):`${w.config.apiScheme}://${S}`}class nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Ae(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(w,p,_){const E={appName:w.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const S=Ae(w,p,E);return S.customData._tokenResponse=_,S}function bn(){return(bn=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(w,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xr(w,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function jn(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Mr(){return(Mr=(0,u.Z)(function*(w,p=!1){const _=(0,$.m9)(w),E=yield _.getIdToken(p),S=dn(E);K(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,te=P?.sign_in_provider;return{claims:S,token:E,authTime:jn(mr(S.auth_time)),issuedAtTime:jn(mr(S.iat)),expirationTime:jn(mr(S.exp)),signInProvider:te||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function mr(w){return 1e3*Number(w)}function dn(w){const[p,_,E]=w.split(".");if(void 0===p||void 0===_||void 0===E)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,$.tV)(_);return S?JSON.parse(S):(ft("Failed to decode base64 JWT payload"),null)}catch(S){return ft("Caught error parsing JWT payload as JSON",S?.toString()),null}}function kt(w,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(E){throw E instanceof $.ZR&&ct(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function ct({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class on{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Ln{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(w){var p;const _=w.auth,E=yield w.getIdToken(),S=yield kt(w,xr(_,{idToken:E}));K(S?.users.length,_,"internal-error");const P=S.users[0];w._notifyReloadListener(P);const te=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?Pr(P.providerUserInfo):[],ve=Ft(w.providerData,te),Ut=!!w.isAnonymous&&!(w.email&&P.passwordHash||ve?.length),An={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ve,metadata:new Ln(P.createdAt,P.lastLoginAt),isAnonymous:Ut};Object.assign(w,An)})).apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(w){const p=(0,$.m9)(w);yield qn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ft(w,p){return[...w.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}function Pr(w){return w.map(p=>{var{providerId:_}=p,E=(0,ae._T)(p,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Wn(){return(Wn=(0,u.Z)(function*(w,p){const _=yield _t(w,{},(0,u.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=w.config,te=un(w,S,"/v1/token",`key=${P}`),ve=yield w._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",se.fetch()(te,{method:"POST",headers:ve,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Sn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){K(p.idToken,"internal-error"),K(typeof p.idToken<"u","internal-error"),K(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Jt(w){const p=dn(w);return K(p,"internal-error"),K(typeof p.exp<"u","internal-error"),K(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var E=this;return(0,u.Z)(function*(){return K(!E.accessToken||E.refreshToken,p,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var E=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:te}=yield function rn(w,p){return Wn.apply(this,arguments)}(p,_);E.updateTokensAndExpiration(S,P,Number(te))})()}updateTokensAndExpiration(p,_,E){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,_){const{refreshToken:E,accessToken:S,expirationTime:P}=_,te=new Sn;return E&&(K("string"==typeof E,"internal-error",{appName:p}),te.refreshToken=E),S&&(K("string"==typeof S,"internal-error",{appName:p}),te.accessToken=S),P&&(K("number"==typeof P,"internal-error",{appName:p}),te.expirationTime=P),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Sn,this.toJSON())}_performRefresh(){return be("not implemented")}}function _e(w,p){K("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Z{constructor(p){var{uid:_,auth:E,stsTokenManager:S}=p,P=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ln(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,u.Z)(function*(){const E=yield kt(_,_.stsTokenManager.getToken(_.auth,p));return K(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(p){return function tr(w){return Mr.apply(this,arguments)}(this,p)}reload(){return function $t(w){return br.apply(this,arguments)}(this)}_assign(p){this!==p&&(K(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Z(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var E=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield qn(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const _=yield p.getIdToken();return yield kt(p,function er(w,p){return bn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var E,S,P,te,ve,et,mt,Ut;const An=null!==(E=_.displayName)&&void 0!==E?E:void 0,Zi=null!==(S=_.email)&&void 0!==S?S:void 0,ra=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,go=null!==(te=_.photoURL)&&void 0!==te?te:void 0,ia=null!==(ve=_.tenantId)&&void 0!==ve?ve:void 0,mo=null!==(et=_._redirectEventId)&&void 0!==et?et:void 0,Hc=null!==(mt=_.createdAt)&&void 0!==mt?mt:void 0,Cf=null!==(Ut=_.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:_d,emailVerified:sa,isAnonymous:bf,providerData:_o,stsTokenManager:yd}=_;K(_d&&yd,p,"internal-error");const dm=Sn.fromJSON(this.name,yd);K("string"==typeof _d,p,"internal-error"),_e(An,p.name),_e(Zi,p.name),K("boolean"==typeof sa,p,"internal-error"),K("boolean"==typeof bf,p,"internal-error"),_e(ra,p.name),_e(go,p.name),_e(ia,p.name),_e(mo,p.name),_e(Hc,p.name),_e(Cf,p.name);const zc=new Z({uid:_d,auth:p,email:Zi,emailVerified:sa,displayName:An,isAnonymous:bf,photoURL:go,phoneNumber:ra,tenantId:ia,stsTokenManager:dm,createdAt:Hc,lastLoginAt:Cf});return _o&&Array.isArray(_o)&&(zc.providerData=_o.map(vd=>Object.assign({},vd))),mo&&(zc._redirectEventId=mo),zc}static _fromIdTokenResponse(p,_,E=!1){return(0,u.Z)(function*(){const S=new Sn;S.updateFromServerResponse(_);const P=new Z({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield qn(P),P})()}}const Ie=new Map;function We(w){Ze(w instanceof Function,"Expected a class definition");let p=Ie.get(w);return p?(Ze(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Ie.set(w,p),p)}const bt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var S=this;return(0,u.Z)(function*(){S.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const S=E.storage[_];return void 0===S?null:S})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return w.type="NONE",w})();function vn(w,p,_){return`firebase:${w}:${p}:${_}`}function O(w=(0,$.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Re(w=(0,$.z$)()){return/android/i.test(w)}function Pe(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function ut(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Ht(w=(0,$.z$)()){return Pe(w)||Re(w)||function St(w=(0,$.z$)()){return/webos/i.test(w)}(w)||function at(w=(0,$.z$)()){return/blackberry/i.test(w)}(w)||/windows phone/i.test(w)||function ne(w=(0,$.z$)()){return/iemobile/i.test(w)}(w)}function oi(){return(oi=(0,u.Z)(function*(w){return(yield Ne(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ti(w,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(w,p){return Ne(w,"GET","/v2/recaptchaConfig",le(w,p))})).apply(this,arguments)}function Di(w){return void 0!==w&&void 0!==w.getResponse}function Si(w){return void 0!==w&&void 0!==w.enterprise}class es{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Yn(w){return new Promise((p,_)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=S=>{const P=Ae("internal-error");P.customData=S,_(P)},E.type="text/javascript",E.charset="UTF-8",function Ai(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function gi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Or{constructor(p){this.type="recaptcha-enterprise",this.auth=sr(p)}verify(p="verify",_=!1){var E=this;return(0,u.Z)(function*(){function P(){return P=(0,u.Z)(function*(ve){if(!_){if(null==ve.tenantId&&null!=ve._agentRecaptchaConfig)return ve._agentRecaptchaConfig.siteKey;if(null!=ve.tenantId&&void 0!==ve._tenantRecaptchaConfigs[ve.tenantId])return ve._tenantRecaptchaConfigs[ve.tenantId].siteKey}return new Promise(function(){var et=(0,u.Z)(function*(mt,Ut){Ti(ve,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(An=>{if(void 0!==An.recaptchaKey){const Zi=new es(An);return null==ve.tenantId?ve._agentRecaptchaConfig=Zi:ve._tenantRecaptchaConfigs[ve.tenantId]=Zi,mt(Zi.siteKey)}Ut(new Error("recaptcha Enterprise site key undefined"))}).catch(An=>{Ut(An)})});return function(mt,Ut){return et.apply(this,arguments)}}())}),P.apply(this,arguments)}function te(ve,et,mt){const Ut=window.grecaptcha;Si(Ut)?Ut.enterprise.ready(()=>{Ut.enterprise.execute(ve,{action:p}).then(An=>{et(An)}).catch(()=>{et("NO_RECAPTCHA")})}):mt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ve,et)=>{(function S(ve){return P.apply(this,arguments)})(E.auth).then(mt=>{if(!_&&Si(window.grecaptcha))te(mt,ve,et);else{if(typeof window>"u")return void et(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+mt).then(()=>{te(mt,ve,et)}).catch(Ut=>{et(Ut)})}}).catch(mt=>{et(mt)})})})()}}function mn(w,p,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(w,p,_,E=!1){const S=new Or(w);let P;try{P=yield S.verify(_)}catch{P=yield S.verify(_,!0)}const te=Object.assign({},p);return Object.assign(te,E?{captchaResp:P}:{captchaResponse:P}),Object.assign(te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),te})).apply(this,arguments)}function sr(w){return(0,$.m9)(w)}function B(w,p,_){const E=sr(w);K(E._canInitEmulator,E,"emulator-config-failed"),K(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!_?.disableWarnings,P=ee(p),{host:te,port:ve}=function Le(w){const p=ee(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const P=S[1];return{host:P,port:Qe(E.substr(P.length+1))}}{const[P,te]=E.split(":");return{host:P,port:Qe(te)}}}(p);E.config.emulator={url:`${P}//${te}${null===ve?"":`:${ve}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:ve,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Pt(){function w(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ee(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function Qe(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class L{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return be("not implemented")}_getIdTokenResponse(p){return be("not implemented")}_linkToIdToken(p,_){return be("not implemented")}_getReauthenticationResolver(p){return be("not implemented")}}function Q(w,p){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:resetPassword",le(w,p))})).apply(this,arguments)}function tt(w,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kt(w,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:update",le(w,p))})).apply(this,arguments)}function Ir(w,p){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithPassword",le(w,p))})).apply(this,arguments)}function qr(w,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:sendOobCode",le(w,p))})).apply(this,arguments)}function Uh(w,p){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(w,p){return qr(w,p)})).apply(this,arguments)}function Fu(w,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,u.Z)(function*(w,p){return qr(w,p)})).apply(this,arguments)}function Vu(w,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,u.Z)(function*(w,p){return qr(w,p)})).apply(this,arguments)}function Ag(w,p){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,u.Z)(function*(w,p){return qr(w,p)})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithEmailLink",le(w,p))})).apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithEmailLink",le(w,p))})).apply(this,arguments)}class Ta extends L{constructor(p,_,E,S=null){super("password",E),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ta(p,_,"password")}static _fromEmailAndCode(p,_,E=null){return new Ta(p,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,u.Z)(function*(){var E;switch(_.signInMethod){case"password":const S={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const P=yield mn(p,S,"signInWithPassword");return Ir(p,P)}return Ir(p,S).catch(function(){var P=(0,u.Z)(function*(te){if("auth/missing-recaptcha-token"===te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ve=yield mn(p,S,"signInWithPassword");return Ir(p,ve)}return Promise.reject(te)});return function(te){return P.apply(this,arguments)}}());case"emailLink":return function xg(w,p){return gc.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Fe(p,"internal-error")}})()}_linkToIdToken(p,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return tt(p,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Bu(w,p){return Bo.apply(this,arguments)}(p,{idToken:_,email:E._email,oobCode:E._password});default:Fe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qs(w,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithIdp",le(w,p))})).apply(this,arguments)}class Gi extends L{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Fe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=_,P=(0,ae._T)(_,["providerId","signInMethod"]);if(!E||!S)return null;const te=new Gi(E,S);return te.idToken=P.idToken||void 0,te.accessToken=P.accessToken||void 0,te.secret=P.secret,te.nonce=P.nonce,te.pendingToken=P.pendingToken||null,te}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,qs(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,qs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,$.xO)(_)}return p}}function Da(w,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:sendVerificationCode",le(w,p))})).apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithPhoneNumber",le(w,p))})).apply(this,arguments)}function $u(){return($u=(0,u.Z)(function*(w,p){const _=yield qt(w,"POST","/v1/accounts:signInWithPhoneNumber",le(w,p));if(_.temporaryProof)throw wn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ai={USER_NOT_FOUND:"user-not-found"};function mc(){return(mc=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithPhoneNumber",le(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ai)})).apply(this,arguments)}class ur extends L{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new ur({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new ur({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Sa(w,p){return uo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ju(w,p){return $u.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function fl(w,p){return mc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:E,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:P}=p;return E||_||S||P?new ur({verificationId:_,verificationCode:E,phoneNumber:S,temporaryProof:P}):null}}class Ks{constructor(p){var _,E,S,P,te,ve;const et=(0,$.zd)((0,$.pd)(p)),mt=null!==(_=et.apiKey)&&void 0!==_?_:null,Ut=null!==(E=et.oobCode)&&void 0!==E?E:null,An=function pl(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=et.mode)&&void 0!==S?S:null);K(mt&&Ut&&An,"argument-error"),this.apiKey=mt,this.operation=An,this.code=Ut,this.continueUrl=null!==(P=et.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(te=et.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(ve=et.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const _=function Mg(w){const p=(0,$.zd)((0,$.pd)(w)).link,_=p?(0,$.zd)((0,$.pd)(p)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||_||p||w}(p);try{return new Ks(_)}catch{return null}}}let jh=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,E){return Ta._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const S=Ks.parseLink(E);return K(S,"argument-error"),Ta._fromEmailAndCode(_,S.code,S.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class xn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class xa extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class _c extends xa{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return K("providerId"in _&&"signInMethod"in _,"argument-error"),Gi._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return K(p.idToken||p.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return _c.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return _c.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:P,nonce:te,providerId:ve}=p;if(!E&&!S&&!_&&!P||!ve)return null;try{return new _c(ve)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:P})}catch{return null}}}let $o=(()=>{class w extends xa{constructor(){super("facebook.com")}static credential(_){return Gi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Mi=(()=>{class w extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Gi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:S}=_;if(!E&&!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Pg=(()=>{class w extends xa{constructor(){super("github.com")}static credential(_){return Gi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class j extends L{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,_){const E=this.buildRequest();return E.idToken=_,qs(p,E)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,qs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:P}=_;return E&&S&&P&&E===S?new j(E,P):null}static _create(p,_){return new j(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Y extends xn{constructor(p){K(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Y.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Y.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=j.fromJSON(p);return K(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:E}=p;if(!_||!E)return null;try{return j._create(E,_)}catch{return null}}}let me=(()=>{class w extends xa{constructor(){super("twitter.com")}static credential(_,E){return Gi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=_;if(!E||!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ke(w,p){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signUp",le(w,p))})).apply(this,arguments)}class it{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,E,S=!1){return(0,u.Z)(function*(){const P=yield Z._fromIdTokenResponse(p,E,S),te=Yt(E);return new it({user:P,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(p,_,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=Yt(E);return new it({user:p,providerId:S,_tokenResponse:E,operationType:_})})()}}function Yt(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Je(w){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(w){var p;const _=sr(w);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new it({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield ke(_,{returnSecureToken:!0}),S=yield it._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Mn extends $.ZR{constructor(p,_,E,S){var P;super(_.code,_.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Mn.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,_,E,S){return new Mn(p,_,E,S)}}function ti(w,p,_,E){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Mn._fromErrorAndOperation(w,P,p,E):P})}function Pi(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function Kr(w,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(w,p){const _=(0,$.m9)(w);yield Ue(!0,_,p);const{providerUserInfo:E}=yield Zn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=Pi(E||[]);return _.providerData=_.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ma(w,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(w,p,_=!1){const E=yield kt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return it._forOperation(w,"link",E)})).apply(this,arguments)}function Ue(w,p,_){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(w,p,_){yield qn(p);const S=!1===w?"provider-already-linked":"no-such-provider";K(Pi(p.providerData).has(_)===w,p.auth,S)})).apply(this,arguments)}function ml(w,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,u.Z)(function*(w,p,_=!1){const{auth:E}=w,S="reauthenticate";try{const P=yield kt(w,ti(E,S,p,w),_);K(P.idToken,E,"internal-error");const te=dn(P.idToken);K(te,E,"internal-error");const{sub:ve}=te;return K(w.uid===ve,E,"user-mismatch"),it._forOperation(w,S,P)}catch(P){throw"auth/user-not-found"===P?.code&&Fe(E,"user-mismatch"),P}})).apply(this,arguments)}function Zr(w,p){return zu.apply(this,arguments)}function zu(){return(zu=(0,u.Z)(function*(w,p,_=!1){const E="signIn",S=yield ti(w,E,p),P=yield it._fromIdTokenResponse(w,E,S);return _||(yield w._updateCurrentUser(P.user)),P})).apply(this,arguments)}function zo(w,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(w,p){return Zr(sr(w),p)})).apply(this,arguments)}function Gu(w,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(w,p){const _=(0,$.m9)(w);return yield Ue(!1,_,p.providerId),Ma(_,p)})).apply(this,arguments)}function Ly(w,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(w,p){return ml((0,$.m9)(w),p)})).apply(this,arguments)}function TS(w,p){return $h.apply(this,arguments)}function $h(){return($h=(0,u.Z)(function*(w,p){return qt(w,"POST","/v1/accounts:signInWithCustomToken",le(w,p))})).apply(this,arguments)}function Wi(w,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(w,p){const _=sr(w),E=yield TS(_,{token:p,returnSecureToken:!0}),S=yield it._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class yc{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Pa._fromServerResponse(p,_):"totpInfo"in _?Ds._fromServerResponse(p,_):Fe(p,"internal-error")}}class Pa extends yc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Pa(_)}}class Ds extends yc{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Ds(_)}}function vc(w,p,_){var E;K((null===(E=_.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),K(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(K(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(K(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Vy(w,p,_){return Og.apply(this,arguments)}function Og(){return Og=(0,u.Z)(function*(w,p,_){var E;const S=sr(w),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const te=yield mn(S,P,"getOobCode",!0);_&&vc(S,te,_),yield Fu(S,te)}else _&&vc(S,P,_),yield Fu(S,P).catch(function(){var te=(0,u.Z)(function*(ve){if("auth/missing-recaptcha-token"!==ve.code)return Promise.reject(ve);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const et=yield mn(S,P,"getOobCode",!0);_&&vc(S,et,_),yield Fu(S,et)}});return function(ve){return te.apply(this,arguments)}}())}),Og.apply(this,arguments)}function Ng(w,p,_){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*(w,p,_){yield Q((0,$.m9)(w),{oobCode:p,newPassword:_})})).apply(this,arguments)}function Hh(w,p){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(w,p){yield Kt((0,$.m9)(w),{oobCode:p})})).apply(this,arguments)}function Go(w,p){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,u.Z)(function*(w,p){const _=(0,$.m9)(w),E=yield Q(_,{oobCode:p}),S=E.requestType;switch(K(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(E.mfaInfo,_,"internal-error");default:K(E.email,_,"internal-error")}let P=null;return E.mfaInfo&&(P=yc._fromServerResponse(sr(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function Uy(w,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(w,p){const{data:_}=yield Go((0,$.m9)(w),p);return _.email})).apply(this,arguments)}function zh(w,p,_){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,u.Z)(function*(w,p,_){var E;const S=sr(w),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let te;if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const mt=yield mn(S,P,"signUpPassword");te=ke(S,mt)}else te=ke(S,P).catch(function(){var mt=(0,u.Z)(function*(Ut){if("auth/missing-recaptcha-token"===Ut.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const An=yield mn(S,P,"signUpPassword");return ke(S,An)}return Promise.reject(Ut)});return function(Ut){return mt.apply(this,arguments)}}());const ve=yield te.catch(mt=>Promise.reject(mt)),et=yield it._fromIdTokenResponse(S,"signIn",ve);return yield S._updateCurrentUser(et.user),et}),Gh.apply(this,arguments)}function By(w,p,_){return zo((0,$.m9)(w),jh.credential(p,_))}function kg(w,p,_){return vl.apply(this,arguments)}function vl(){return vl=(0,u.Z)(function*(w,p,_){var E;const S=sr(w),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function te(ve,et){K(et.handleCodeInApp,S,"argument-error"),et&&vc(S,ve,et)}if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ve=yield mn(S,P,"getOobCode",!0);te(ve,_),yield Vu(S,ve)}else te(P,_),yield Vu(S,P).catch(function(){var ve=(0,u.Z)(function*(et){if("auth/missing-recaptcha-token"!==et.code)return Promise.reject(et);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const mt=yield mn(S,P,"getOobCode",!0);te(mt,_),yield Vu(S,mt)}});return function(et){return ve.apply(this,arguments)}}())}),vl.apply(this,arguments)}function LE(w,p){return"EMAIL_SIGNIN"===Ks.parseLink(p)?.operation}function VE(w,p,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w),S=jh.credentialWithLink(p,_||rt());return K(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),zo(E,S)})).apply(this,arguments)}function Oa(w,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:createAuthUri",le(w,p))})).apply(this,arguments)}function UE(w,p){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,u.Z)(function*(w,p){const E={identifier:p,continueUri:Nt()?rt():"http://localhost"},{signinMethods:S}=yield Oa((0,$.m9)(w),E);return S||[]})).apply(this,arguments)}function BE(w,p){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,u.Z)(function*(w,p){const _=(0,$.m9)(w),S={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&vc(_.auth,S,p);const{email:P}=yield Uh(_.auth,S);P!==w.email&&(yield w.reload())})).apply(this,arguments)}function jE(w,p,_){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&vc(E.auth,P,_);const{email:te}=yield Ag(E.auth,P);te!==w.email&&(yield w.reload())})).apply(this,arguments)}function qh(w,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(w,p){return Ne(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qu(w,p){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const E=(0,$.m9)(w),P={idToken:yield E.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},te=yield kt(E,qh(E.auth,P));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const ve=E.providerData.find(({providerId:et})=>"password"===et);ve&&(ve.displayName=E.displayName,ve.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)})).apply(this,arguments)}function jy(w,p){return Wo((0,$.m9)(w),p,null)}function $E(w,p){return Wo((0,$.m9)(w),null,p)}function Wo(w,p,_){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(w,p,_){const{auth:E}=w,P={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const te=yield kt(w,tt(E,P));yield w._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Ec{constructor(p,_,E={}){this.isNewUser=p,this.providerId=_,this.profile=E}}class Cc extends Ec{constructor(p,_,E,S){super(p,_,E),this.username=S}}class Vg extends Ec{constructor(p,_){super(p,"facebook.com",_)}}class zE extends Cc{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class $y extends Ec{constructor(p,_){super(p,"google.com",_)}}class Ug extends Cc{constructor(p,_,E){super(p,"twitter.com",_,E)}}function Zu(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function HE(w){var p,_;if(!w)return null;const{providerId:E}=w,S=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},P=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const te=null===(_=null===(p=dn(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Ec(P,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new Vg(P,S);case"github.com":return new zE(P,S);case"google.com":return new $y(P,S);case"twitter.com":return new Ug(P,S,w.screenName||null);case"custom":case"anonymous":return new Ec(P,null);default:return new Ec(P,E,S)}}(_)}class Ss{constructor(p,_,E){this.type=p,this.credential=_,this.auth=E}static _fromIdtoken(p,_){return new Ss("enroll",p,_)}static _fromMfaPendingCredential(p){return new Ss("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,E;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ss._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Ss._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Zh{constructor(p,_,E){this.session=p,this.hints=_,this.signInResolver=E}static _fromError(p,_){const E=sr(p),S=_.customData._serverResponse,P=(S.mfaInfo||[]).map(ve=>yc._fromServerResponse(E,ve));K(S.mfaPendingCredential,E,"internal-error");const te=Ss._fromMfaPendingCredential(S.mfaPendingCredential);return new Zh(te,P,function(){var ve=(0,u.Z)(function*(et){const mt=yield et._process(E,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Ut=Object.assign(Object.assign({},S),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(_.operationType){case"signIn":const An=yield it._fromIdTokenResponse(E,_.operationType,Ut);return yield E._updateCurrentUser(An.user),An;case"reauthenticate":return K(_.user,E,"internal-error"),it._forOperation(_.user,_.operationType,Ut);default:Fe(E,"internal-error")}});return function(et){return ve.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,u.Z)(function*(){return _.signInResolver(p)})()}}function Cl(w,p){var _;const E=(0,$.m9)(w),S=p;return K(p.customData.operationType,E,"argument-error"),K(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Zh._fromError(E,S)}function Yh(w,p){return Ne(w,"POST","/v2/accounts/mfaEnrollment:start",le(w,p))}class Tc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>yc._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Tc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ss._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var E=this;return(0,u.Z)(function*(){const S=p,P=yield E.getSession(),te=yield kt(E.user,S._process(E.user.auth,P,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(p){var _=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield _.user.getIdToken();try{const P=yield kt(_.user,function bl(w,p){return Ne(w,"POST","/v2/accounts/mfaEnrollment:withdraw",le(w,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const Dc=new WeakMap;function Qu(w){const p=(0,$.m9)(w);return Dc.has(p)||Dc.set(p,Tc._fromUser(p)),Dc.get(p)}const Na="__sak";class Sc{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Na,"1"),this.storage.removeItem(Na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $g=(()=>{class w extends Sc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jh(){const w=(0,$.z$)();return O(w)||Pe(w)}()&&function En(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),P=this.localCache[E];S!==P&&_(E,P,S)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((ve,et,mt)=>{this.notifyListeners(ve,mt)});const S=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(S);if(_.newValue!==ve)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!E)return}const P=()=>{const ve=this.storage.getItem(S);!E&&this.localCache[S]===ve||this.notifyListeners(S,ve)},te=this.storage.getItem(S);!function hn(){return(0,$.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const P of Array.from(S))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var S=()=>super._set,P=this;return(0,u.Z)(function*(){yield S().call(P,_,E),P.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,S=this;return(0,u.Z)(function*(){const P=yield E().call(S,_);return S.localCache[_]=JSON.stringify(P),P})()}_remove(_){var E=()=>super._remove,S=this;return(0,u.Z)(function*(){yield E().call(S,_),delete S.localCache[_]})()}}return w.type="LOCAL",w})(),Zo=(()=>{class w extends Sc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return w.type="SESSION",w})();let Hg=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(P=>P.isListeningto(_));if(E)return E;const S=new w(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const S=_,{eventId:P,eventType:te,data:ve}=S.data,et=E.handlersMap[te];if(!et?.size)return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:te});const mt=Array.from(et).map(function(){var An=(0,u.Z)(function*(Zi){return Zi(S.origin,ve)});return function(Zi){return An.apply(this,arguments)}}()),Ut=yield function Wy(w){return Promise.all(w.map(function(){var p=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return p.apply(this,arguments)}}()))}(mt);S.ports[0].postMessage({status:"done",eventId:P,eventType:te,response:Ut})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Il(w="",p=10){let _="";for(let E=0;E<p;E++)_+=Math.floor(10*Math.random());return w+_}class Ra{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,E=50){var S=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let te,ve;return new Promise((et,mt)=>{const Ut=Il("",20);P.port1.start();const An=setTimeout(()=>{mt(new Error("unsupported_event"))},E);ve={messageChannel:P,onMessage(Zi){const ra=Zi;if(ra.data.eventId===Ut)switch(ra.data.status){case"ack":clearTimeout(An),te=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),et(ra.data.response);break;default:clearTimeout(An),clearTimeout(te),mt(new Error("invalid_response"))}}},S.handlers.add(ve),P.port1.addEventListener("message",ve.onMessage),S.target.postMessage({eventType:p,eventId:Ut,data:_},[P.port2])}).finally(()=>{ve&&S.removeMessageHandler(ve)})})()}}function Ur(){return window}function xc(){return typeof Ur().WorkerGlobalScope<"u"&&"function"==typeof Ur().importScripts}function tf(){return(tf=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tl="firebaseLocalStorageDb",Mc="firebaseLocalStorage",Xu="fbase_key";class xs{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function nf(w,p){return w.transaction([Mc],p?"readwrite":"readonly").objectStore(Mc)}function Kn(){const w=indexedDB.open(Tl,1);return new Promise((p,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Mc,{keyPath:Xu})}catch(S){_(S)}}),w.addEventListener("success",(0,u.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Mc)?p(E):(E.close(),yield function Wg(){const w=indexedDB.deleteDatabase(Tl);return new xs(w).toPromise()}(),p(yield Kn()))}))})}function qg(w,p,_){return rf.apply(this,arguments)}function rf(){return(rf=(0,u.Z)(function*(w,p,_){const E=nf(w,!0).put({[Xu]:p,value:_});return new xs(E).toPromise()})).apply(this,arguments)}function Kg(){return(Kg=(0,u.Z)(function*(w,p){const _=nf(w,!1).get(p),E=yield new xs(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function WE(w,p){const _=nf(w,!0).delete(p);return new xs(_).toPromise()}const Ky=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Kn()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const P=yield E._openDb();return yield _(P)}catch(P){if(S++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return xc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Hg._getInstance(function ka(){return xc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(S,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(S,P){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,S;if(_.activeServiceWorker=yield function ef(){return tf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ra(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Gg(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Kn();return yield qg(_,Na,"1"),yield WE(_,Na),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(P=>qg(P,_,E)),S.localCache[_]=E,S.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const S=yield E._withRetries(P=>function DS(w,p){return Kg.apply(this,arguments)}(P,_));return E.localCache[_]=S,S})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(S=>WE(S,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(te=>{const ve=nf(te,!1).getAll();return new xs(ve).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:te,value:ve}of E)P.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(ve)&&(_.notifyListeners(te,ve),S.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!P.has(te)&&(_.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(_,E){this.localCache[_]=E;const S=this.listeners[_];if(S)for(const P of Array.from(S))P(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function SS(w,p){return Ne(w,"POST","/v2/accounts/mfaSignIn:start",le(w,p))}const nd=1e12;class Oi{constructor(p){this.auth=p,this.counter=nd,this._widgets=new Map}render(p,_){const E=this.counter;return this._widgets.set(E,new Ys(p,this.auth.name,_||{})),this.counter++,E}reset(p){var _;const E=p||nd;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(p){var _;return(null===(_=this._widgets.get(p||nd))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(p||nd))||void 0===E||E.execute(),""})()}}class Ys{constructor(p,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;K(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zy(w){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pc=gi("rcb"),rd=new Dn(3e4,6e4);class ZE{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ur().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return K(function YE(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Di(Ur().grecaptcha)?Promise.resolve(Ur().grecaptcha):new Promise((E,S)=>{const P=Ur().setTimeout(()=>{S(Ae(p,"network-request-failed"))},rd.get());Ur()[Pc]=()=>{Ur().clearTimeout(P),delete Ur()[Pc];const ve=Ur().grecaptcha;if(!ve||!Di(ve))return void S(Ae(p,"internal-error"));const et=ve.render;ve.render=(mt,Ut)=>{const An=et(mt,Ut);return this.counter++,An},this.hostLanguage=_,E(ve)},Yn(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Pc,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),S(Ae(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Ur().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class AS{load(p){return(0,u.Z)(function*(){return new Oi(p)})()}clearedOneInstance(){}}const QE="recaptcha",Yy={theme:"light",type:"image"};class ns{constructor(p,_=Object.assign({},Yy),E){this.parameters=_,this.type=QE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sr(E),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new AS:new ZE,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(_)||new Promise(P=>{const te=ve=>{!ve||(p.tokenChangeListeners.delete(te),P(ve))};p.tokenChangeListeners.add(te),p.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof p)p(_);else if("string"==typeof p){const E=Ur()[p];"function"==typeof E&&E(_)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){K(Nt()&&!xc(),p.auth,"internal-error"),yield function Yg(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Vn(w){return oi.apply(this,arguments)}(p.auth);K(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fa{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=ur._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function xS(w,p,_){return sf.apply(this,arguments)}function sf(){return(sf=(0,u.Z)(function*(w,p,_){const E=sr(w),S=yield id(E,p,(0,$.m9)(_));return new Fa(S,P=>zo(E,P))})).apply(this,arguments)}function JE(w,p,_){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w);yield Ue(!1,E,"phone");const S=yield id(E.auth,p,(0,$.m9)(_));return new Fa(S,P=>Gu(E,P))})).apply(this,arguments)}function XE(w,p,_){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w),S=yield id(E.auth,p,(0,$.m9)(_));return new Fa(S,P=>Ly(E,P))})).apply(this,arguments)}function id(w,p,_){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,u.Z)(function*(w,p,_){var E;const S=yield _.verify();try{let P;if(K("string"==typeof S,w,"argument-error"),K(_.type===QE,w,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const te=P.session;if("phoneNumber"in P)return K("enroll"===te.type,w,"internal-error"),(yield Yh(w,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===te.type,w,"internal-error");const ve=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return K(ve,w,"missing-multi-factor-info"),(yield SS(w,{mfaPendingCredential:te.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Da(w,{phoneNumber:P.phoneNumber,recaptchaToken:S});return te}}finally{_._reset()}})).apply(this,arguments)}function ar(w,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(w,p){yield Ma((0,$.m9)(w),p)})).apply(this,arguments)}let Vt=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=sr(_)}verifyPhoneNumber(_,E){return id(this.auth,_,(0,$.m9)(E))}static credential(_,E){return ur._fromVerification(_,E)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:S}=_;return E&&S?ur._fromTokenResponse(E,S):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Nr(w,p){return p?We(p):(K(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ni extends L{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return qs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return qs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function sd(w){return Zr(w.auth,new Ni(w),w.bypassAuthState)}function od(w){const{auth:p,user:_}=w;return K(_,p,"internal-error"),ml(_,new Ni(w),w.bypassAuthState)}function Qs(w){return af.apply(this,arguments)}function af(){return(af=(0,u.Z)(function*(w){const{auth:p,user:_}=w;return K(_,p,"internal-error"),Ma(_,new Ni(w),w.bypassAuthState)})).apply(this,arguments)}class lf{constructor(p,_,E,S,P=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,u.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(E,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:P,tenantId:te,error:ve,type:et}=p;if(ve)return void _.reject(ve);const mt={auth:_.auth,requestUri:E,sessionId:S,tenantId:te||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(et)(mt))}catch(Ut){_.reject(Ut)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return sd;case"linkViaPopup":case"linkViaRedirect":return Qs;case"reauthViaPopup":case"reauthViaRedirect":return od;default:Fe(this.auth,"internal-error")}}resolve(p){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oc=new Dn(2e3,1e4);function Sl(w,p,_){return ad.apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(w,p,_){const E=sr(w);nt(w,p,xn);const S=Nr(E,_);return new La(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Br(w,p,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w);nt(E.auth,p,xn);const S=Nr(E.auth,_);return new La(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function Qt(w,p,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w);nt(E.auth,p,xn);const S=Nr(E.auth,_);return new La(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let La=(()=>{class w extends lf{constructor(_,E,S,P,te){super(_,E,P,te),this.provider=S,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return K(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){Ze(1===_.filter.length,"Popup operations only handle one event");const E=Il();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Ae(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Oc.get())};_()}}return w.currentPopupAction=null,w})();const Al=new Map;class _i extends lf{constructor(p,_,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=Al.get(_.auth._key());if(!E){try{const P=(yield function cf(w,p){return Qo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;E=()=>Promise.resolve(P)}catch(S){E=()=>Promise.reject(S)}Al.set(_.auth._key(),E)}return _.bypassAuthState||Al.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,_().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,u.Z)(function*(w,p){const _=ea(p),E=Xo(w);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(_));return yield E._remove(_),S})).apply(this,arguments)}function ld(w,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(w,p){return Xo(w)._set(ea(p),"true")})).apply(this,arguments)}function Rc(){Al.clear()}function uf(w,p){Al.set(w._key(),p)}function Xo(w){return We(w._redirectPersistence)}function ea(w){return vn("pendingRedirect",w.config.apiKey,w.name)}function df(w,p,_){return function Qy(w,p,_){return kc.apply(this,arguments)}(w,p,_)}function kc(){return(kc=(0,u.Z)(function*(w,p,_){const E=sr(w);nt(w,p,xn),yield E._initializationPromise;const S=Nr(E,_);return yield ld(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Js(w,p,_){return function Ps(w,p,_){return cd.apply(this,arguments)}(w,p,_)}function cd(){return(cd=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w);nt(E.auth,p,xn),yield E.auth._initializationPromise;const S=Nr(E.auth,_);yield ld(S,E.auth);const P=yield Yr(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function qi(w,p,_){return function ud(w,p,_){return dd.apply(this,arguments)}(w,p,_)}function dd(){return(dd=(0,u.Z)(function*(w,p,_){const E=(0,$.m9)(w);nt(E.auth,p,xn),yield E.auth._initializationPromise;const S=Nr(E.auth,_);yield Ue(!1,E,p.providerId),yield ld(S,E.auth);const P=yield Yr(E);return S._openRedirect(E.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function li(w,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(w,p){return yield sr(w)._initializationPromise,xl(w,p,!1)})).apply(this,arguments)}function xl(w,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(w,p,_=!1){const E=sr(w),S=Nr(E,p),te=yield new _i(E,S,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,p)),te})).apply(this,arguments)}function Yr(w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(w){const p=Il(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class hf{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(_=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ri(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var E;if(p.error&&!Xs(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Ae(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const E=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(p))}saveEventToCache(p){this.cachedEventUids.add(fo(p)),this.lastProcessedEventTime=Date.now()}}function fo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Xs({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function po(w){return ff.apply(this,arguments)}function ff(){return(ff=(0,u.Z)(function*(w,p={}){return Ne(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nm=/^https?/;function Fc(){return(Fc=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield po(w);for(const _ of p)try{if(eC(_))return}catch{}Fe(w,"unauthorized-domain")})).apply(this,arguments)}function eC(w){const p=rt(),{protocol:_,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const te=new URL(w);return""===te.hostname&&""===E?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!nm.test(_))return!1;if(Ba.test(w))return E===w;const S=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const rm=new Dn(3e4,6e4);function In(){const w=Ur().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let pf=null;function Ml(w){return pf=pf||function hd(w){return new Promise((p,_)=>{var E,S,P;function te(){In(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{In(),_(Ae(w,"network-request-failed"))},timeout:rm.get()})}if(null!==(S=null===(E=Ur().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(P=Ur().gapi)||void 0===P||!P.load){const ve=gi("iframefcb");return Ur()[ve]=()=>{gapi.load?te():_(Ae(w,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${ve}`).catch(et=>_(et))}te()}}).catch(p=>{throw pf=null,p})}(w),pf}const im=new Dn(5e3,15e3),mf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ns(w){const p=w.config;K(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?fr(p,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:w.name,v:k.SDK_VERSION},S=_f.get(w.config.apiHost);S&&(E.eid=S);const P=w._getFrameworks();return P.length&&(E.fw=P.join(",")),`${_}?${(0,$.xO)(E).slice(1)}`}function Qr(){return Qr=(0,u.Z)(function*(w){const p=yield Ml(w),_=Ur().gapi;return K(_,w,"internal-error"),p.open({where:document.body,url:Ns(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mf,dontclear:!0},E=>new Promise(function(){var S=(0,u.Z)(function*(P,te){yield E.restyle({setHideOnLeave:!1});const ve=Ae(w,"network-request-failed"),et=Ur().setTimeout(()=>{te(ve)},im.get());function mt(){Ur().clearTimeout(et),P(E)}E.ping(mt).then(mt,()=>{te(ve)})});return function(P,te){return S.apply(this,arguments)}}()))}),Qr.apply(this,arguments)}const ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function om(w,p,_,E=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let ve="";const et=Object.assign(Object.assign({},ta),{width:E.toString(),height:S.toString(),top:P,left:te}),mt=(0,$.z$)().toLowerCase();_&&(ve=function x(w=(0,$.z$)()){return/crios\//i.test(w)}(mt)?"_blank":_),function N(w=(0,$.z$)()){return/firefox\//i.test(w)}(mt)&&(p=p||"http://localhost",et.scrollbars="yes");const Ut=Object.entries(et).reduce((Zi,[ra,go])=>`${Zi}${ra}=${go},`,"");if(function vt(w=(0,$.z$)()){var p;return Pe(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(mt)&&"_self"!==ve)return function am(w,p){const _=document.createElement("a");_.href=w,_.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(p||"",ve),new vf(null);const An=window.open(p||"",ve,Ut);K(An,w,"popup-blocked");try{An.focus()}catch{}return new vf(An)}const pd=encodeURIComponent("fac");function ja(w,p,_,E,S,P){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(w,p,_,E,S,P){K(w.config.authDomain,w,"auth-domain-config-required"),K(w.config.apiKey,w,"invalid-api-key");const te={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:E,v:k.SDK_VERSION,eventId:S};if(p instanceof xn){p.setDefaultLanguage(w.languageCode),te.providerId=p.providerId||"",(0,$.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ut,An]of Object.entries(P||{}))te[Ut]=An}if(p instanceof xa){const Ut=p.getScopes().filter(An=>""!==An);Ut.length>0&&(te.scopes=Ut.join(","))}w.tenantId&&(te.tid=w.tenantId);const ve=te;for(const Ut of Object.keys(ve))void 0===ve[Ut]&&delete ve[Ut];const et=yield w._getAppCheckToken(),mt=et?`#${pd}=${encodeURIComponent(et)}`:"";return`${Gt(w)}?${(0,$.xO)(ve).slice(1)}${mt}`})).apply(this,arguments)}function Gt({config:w}){return w.emulator?fr(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const ks="webStorageSupport",na=class lm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zo,this._completeRedirectFn=xl,this._overrideRedirectResult=uf}_openPopup(p,_,E,S){var P=this;return(0,u.Z)(function*(){var te;Ze(null===(te=P.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const ve=yield ja(p,_,E,rt(),S);return om(p,ve,Il())})()}_openRedirect(p,_,E,S){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(p),function zg(w){Ur().location.href=w}(yield ja(p,_,E,rt(),S)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:P}=this.eventManagers[_];return S?Promise.resolve(S):(Ze(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(p);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(p){var _=this;return(0,u.Z)(function*(){const E=yield function tC(w){return Qr.apply(this,arguments)}(p),S=new hf(p);return E.register("authEvent",P=>(K(P?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(ks,{type:ks},S=>{var P;const te=null===(P=S?.[0])||void 0===P?void 0:P[ks];void 0!==te&&_(!!te),Fe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Jy(w){return Fc.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ht()||O()||Pe()}};class Lc extends class tv{constructor(p){this.factorId=p}_process(p,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,E);case"signin":return this._finalizeSignIn(p,_.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Lc(p)}_finalizeEnroll(p,_,E){return function Qh(w,p){return Ne(w,"POST","/v2/accounts/mfaEnrollment:finalize",le(w,p))}(p,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ni(w,p){return Ne(w,"POST","/v2/accounts/mfaSignIn:finalize",le(w,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wf=(()=>{class w{constructor(){}static assertion(_){return Lc._fromCredential(_)}}return w.FACTOR_ID="phone",w})()},2090:(Mt,je,R)=>{R.d(je,{$s:()=>We,BH:()=>Me,DV:()=>Bn,G6:()=>fr,GJ:()=>bn,L:()=>Ce,LL:()=>Be,P0:()=>ft,Pz:()=>Ae,Sg:()=>nt,UG:()=>be,UI:()=>ot,US:()=>Ee,Wl:()=>Rt,Yr:()=>Dn,ZB:()=>X,ZR:()=>Ne,aH:()=>Fe,b$:()=>Nt,cI:()=>qt,dS:()=>Pr,eu:()=>oe,g5:()=>k,gK:()=>Gn,gQ:()=>Jt,h$:()=>ye,hl:()=>se,hu:()=>$,jU:()=>Ze,m9:()=>vn,ne:()=>kt,p$:()=>q,pd:()=>dn,r3:()=>Zn,ru:()=>rt,tV:()=>W,uI:()=>K,ug:()=>rn,vZ:()=>jn,w1:()=>kn,w9:()=>er,xO:()=>Mr,xb:()=>xr,z$:()=>Xe,zI:()=>Te,zd:()=>mr});const $=function(G,z){if(!G)throw k(z)},k=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ae=function(G){const z=[];let N=0;for(let O=0;O<G.length;O++){let x=G.charCodeAt(O);x<128?z[N++]=x:x<2048?(z[N++]=x>>6|192,z[N++]=63&x|128):55296==(64512&x)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(x=65536+((1023&x)<<10)+(1023&G.charCodeAt(++O)),z[N++]=x>>18|240,z[N++]=x>>12&63|128,z[N++]=x>>6&63|128,z[N++]=63&x|128):(z[N++]=x>>12|224,z[N++]=x>>6&63|128,z[N++]=63&x|128)}return z},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let x=0;x<G.length;x+=3){const ne=G[x],Re=x+1<G.length,at=Re?G[x+1]:0,St=x+2<G.length,Pe=St?G[x+2]:0;let hn=(15&at)<<2|Pe>>6,Ht=63&Pe;St||(Ht=64,Re||(hn=64)),O.push(N[ne>>2],N[(3&ne)<<4|at>>4],N[hn],N[Ht])}return O.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(ae(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let N=0,O=0;for(;N<G.length;){const x=G[N++];if(x<128)z[O++]=String.fromCharCode(x);else if(x>191&&x<224){const ne=G[N++];z[O++]=String.fromCharCode((31&x)<<6|63&ne)}else if(x>239&&x<365){const St=((7&x)<<18|(63&G[N++])<<12|(63&G[N++])<<6|63&G[N++])-65536;z[O++]=String.fromCharCode(55296+(St>>10)),z[O++]=String.fromCharCode(56320+(1023&St))}else{const ne=G[N++],Re=G[N++];z[O++]=String.fromCharCode((15&x)<<12|(63&ne)<<6|63&Re)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const N=z?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let x=0;x<G.length;){const ne=N[G.charAt(x++)],at=x<G.length?N[G.charAt(x)]:0;++x;const Pe=x<G.length?N[G.charAt(x)]:64;++x;const vt=x<G.length?N[G.charAt(x)]:64;if(++x,null==ne||null==at||null==Pe||null==vt)throw new ge;O.push(ne<<2|at>>4),64!==Pe&&(O.push(at<<4&240|Pe>>2),64!==vt&&O.push(Pe<<6&192|vt))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(G){const z=ae(G);return Ee.encodeByteArray(z,!0)},Ce=function(G){return ye(G).replace(/\./g,"")},W=function(G){try{return Ee.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function q(G){return X(void 0,G)}function X(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const N in z)!z.hasOwnProperty(N)||!qe(N)||(G[N]=X(G[N],z[N]));return G}function qe(G){return"__proto__"!==G}const fe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&W(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ft=G=>{const z=(G=>{var z,N;return null===(N=null===(z=fe())||void 0===z?void 0:z.emulatorHosts)||void 0===N?void 0:N[G]})(G);if(!z)return;const N=z.lastIndexOf(":");if(N<=0||N+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const O=parseInt(z.substring(N+1),10);return"["===z[0]?[z.substring(1,N-1),O]:[z.substring(0,N),O]},Fe=()=>{var G;return null===(G=fe())||void 0===G?void 0:G.config},Ae=G=>{var z;return null===(z=fe())||void 0===z?void 0:z[`_${G}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,N)=>{this.resolve=z,this.reject=N})}wrapCallback(z){return(N,O)=>{N?this.reject(N):this.resolve(O),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(N):z(N,O))}}}function nt(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=z||"demo-project",x=G.iat||0,ne=G.sub||G.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:x,exp:x+3600,auth_time:x,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Re)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function be(){var G;const z=null===(G=fe())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function rt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const G=Xe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Dn(){return!1}function fr(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((G,z)=>{try{let N=!0;const O="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(O);x.onsuccess=()=>{x.result.close(),N||self.indexedDB.deleteDatabase(O),G(!0)},x.onupgradeneeded=()=>{N=!1},x.onerror=()=>{var ne;z((null===(ne=x.error)||void 0===ne?void 0:ne.message)||"")}}catch(N){z(N)}})}function Te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(z,N,O){super(N),this.code=z,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(z,N,O){this.service=z,this.serviceName=N,this.errors=O}create(z,...N){const O=N[0]||{},x=`${this.service}/${z}`,ne=this.errors[z],Re=ne?function _t(G,z){return G.replace(Tt,(N,O)=>{const x=z[O];return null!=x?String(x):`<${O}?>`})}(ne,O):"Error";return new Ne(x,`${this.serviceName}: ${Re} (${x}).`,O)}}const Tt=/\{\$([^}]+)}/g;function qt(G){return JSON.parse(G)}function Rt(G){return JSON.stringify(G)}const un=function(G){let z={},N={},O={},x="";try{const ne=G.split(".");z=qt(W(ne[0])||""),N=qt(W(ne[1])||""),x=ne[2],O=N.d||{},delete N.d}catch{}return{header:z,claims:N,data:O,signature:x}},er=function(G){const N=un(G).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},bn=function(G){const z=un(G).claims;return"object"==typeof z&&!0===z.admin};function Zn(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function Bn(G,z){if(Object.prototype.hasOwnProperty.call(G,z))return G[z]}function xr(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function ot(G,z,N){const O={};for(const x in G)Object.prototype.hasOwnProperty.call(G,x)&&(O[x]=z.call(N,G[x],x,G));return O}function jn(G,z){if(G===z)return!0;const N=Object.keys(G),O=Object.keys(z);for(const x of N){if(!O.includes(x))return!1;const ne=G[x],Re=z[x];if(Fn(ne)&&Fn(Re)){if(!jn(ne,Re))return!1}else if(ne!==Re)return!1}for(const x of O)if(!N.includes(x))return!1;return!0}function Fn(G){return null!==G&&"object"==typeof G}function Mr(G){const z=[];for(const[N,O]of Object.entries(G))Array.isArray(O)?O.forEach(x=>{z.push(encodeURIComponent(N)+"="+encodeURIComponent(x))}):z.push(encodeURIComponent(N)+"="+encodeURIComponent(O));return z.length?"&"+z.join("&"):""}function mr(G){const z={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[x,ne]=O.split("=");z[decodeURIComponent(x)]=decodeURIComponent(ne)}}),z}function dn(G){const z=G.indexOf("?");if(!z)return"";const N=G.indexOf("#",z);return G.substring(z,N>0?N:void 0)}class Jt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,N){N||(N=0);const O=this.W_;if("string"==typeof z)for(let vt=0;vt<16;vt++)O[vt]=z.charCodeAt(N)<<24|z.charCodeAt(N+1)<<16|z.charCodeAt(N+2)<<8|z.charCodeAt(N+3),N+=4;else for(let vt=0;vt<16;vt++)O[vt]=z[N]<<24|z[N+1]<<16|z[N+2]<<8|z[N+3],N+=4;for(let vt=16;vt<80;vt++){const hn=O[vt-3]^O[vt-8]^O[vt-14]^O[vt-16];O[vt]=4294967295&(hn<<1|hn>>>31)}let Pe,ut,x=this.chain_[0],ne=this.chain_[1],Re=this.chain_[2],at=this.chain_[3],St=this.chain_[4];for(let vt=0;vt<80;vt++){vt<40?vt<20?(Pe=at^ne&(Re^at),ut=1518500249):(Pe=ne^Re^at,ut=1859775393):vt<60?(Pe=ne&Re|at&(ne|Re),ut=2400959708):(Pe=ne^Re^at,ut=3395469782);const hn=(x<<5|x>>>27)+Pe+St+ut+O[vt]&4294967295;St=at,at=Re,Re=4294967295&(ne<<30|ne>>>2),ne=x,x=hn}this.chain_[0]=this.chain_[0]+x&4294967295,this.chain_[1]=this.chain_[1]+ne&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+at&4294967295,this.chain_[4]=this.chain_[4]+St&4294967295}update(z,N){if(null==z)return;void 0===N&&(N=z.length);const O=N-this.blockSize;let x=0;const ne=this.buf_;let Re=this.inbuf_;for(;x<N;){if(0===Re)for(;x<=O;)this.compress_(z,x),x+=this.blockSize;if("string"==typeof z){for(;x<N;)if(ne[Re]=z.charCodeAt(x),++Re,++x,Re===this.blockSize){this.compress_(ne),Re=0;break}}else for(;x<N;)if(ne[Re]=z[x],++Re,++x,Re===this.blockSize){this.compress_(ne),Re=0;break}}this.inbuf_=Re,this.total_+=N}digest(){const z=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let x=this.blockSize-1;x>=56;x--)this.buf_[x]=255&N,N/=256;this.compress_(this.buf_);let O=0;for(let x=0;x<5;x++)for(let ne=24;ne>=0;ne-=8)z[O]=this.chain_[x]>>ne&255,++O;return z}}function kt(G,z){const N=new Dt(G,z);return N.subscribe.bind(N)}class Dt{constructor(z,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{z(this)}).catch(O=>{this.error(O)})}next(z){this.forEachObserver(N=>{N.next(z)})}error(z){this.forEachObserver(N=>{N.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,N,O){let x;if(void 0===z&&void 0===N&&void 0===O)throw new Error("Missing Observer.");x=function on(G,z){if("object"!=typeof G||null===G)return!1;for(const N of z)if(N in G&&"function"==typeof G[N])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:N,complete:O},void 0===x.next&&(x.next=Ln),void 0===x.error&&(x.error=Ln),void 0===x.complete&&(x.complete=Ln);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),ne}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,z)}sendOne(z,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{N(this.observers[z])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function Gn(G,z){return`${G} failed: ${z} argument `}const Pr=function(G){const z=[];let N=0;for(let O=0;O<G.length;O++){let x=G.charCodeAt(O);if(x>=55296&&x<=56319){const ne=x-55296;O++,$(O<G.length,"Surrogate pair missing trail surrogate."),x=65536+(ne<<10)+(G.charCodeAt(O)-56320)}x<128?z[N++]=x:x<2048?(z[N++]=x>>6|192,z[N++]=63&x|128):x<65536?(z[N++]=x>>12|224,z[N++]=x>>6&63|128,z[N++]=63&x|128):(z[N++]=x>>18|240,z[N++]=x>>12&63|128,z[N++]=x>>6&63|128,z[N++]=63&x|128)}return z},rn=function(G){let z=0;for(let N=0;N<G.length;N++){const O=G.charCodeAt(N);O<128?z++:O<2048?z+=2:O>=55296&&O<=56319?(z+=4,N++):z+=3}return z};function We(G,z=1e3,N=2){const O=z*Math.pow(N,G),x=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+x)}function vn(G){return G&&G._delegate?G._delegate:G}},7191:(Mt,je,R)=>{var u=R(4650);let $=null;function k(){return $}const ge=new u.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return(0,u.LFG)(q)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let q=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function qe(){return new q((0,u.LFG)(ge))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ct)},providedIn:"root"}),n})();const fe=new u.OlP("appBaseHref");let Ct=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+lt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+lt(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+lt(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+lt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+lt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Oe(nt(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lt(r))}normalize(t){return n.stripTrailingSlash(function Me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,nt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Se,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(u.LFG(De))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return new Fe((0,u.LFG)(De))}()},providedIn:"root"}),n})();function nt(n){return n.replace(/\/index.html$/,"")}function Or(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class sr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new sr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,c),ms(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ms(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ms(n,e){n.context.$implicit=e.item}let B=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Le("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Le("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ee{constructor(){this.$implicit=null,this.ngIf=null}}function Le(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Kt=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),c=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Ks(n){return"server"===n}let xa=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new _c((0,u.LFG)(ge),window)}),n})();class _c{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Mi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$o(this.window.history)||$o(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $o(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gl{}class Ug extends class $y extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){$||($=n)}(new Ug)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kh(){return Zu=Zu||document.querySelector("base"),Zu?Zu.getAttribute("href"):null}();return null==t?null:function Bg(n){Yu=Yu||document.createElement("a"),Yu.setAttribute("href",n);const e=Yu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Or(document.cookie,e)}}let Yu,Zu=null;const bc=new u.OlP("TRANSITION_ID"),zy=[{provide:u.ip1,useFactory:function Hy(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[bc,ge,u.zs3],multi:!0}];let GE=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=new u.OlP("EventManagerPlugins");let Ko=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ss{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zh=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cl=(()=>{class n extends Zh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yh))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Yh(n){k().remove(n)}const Qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},As=/%COMP%/g;function Sc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Sc(n,i,t):(i=i.replace(As,n),t.push(i))}return t}function Jh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ac=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Wy(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Hg(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Sc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ko),u.LFG(Cl),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Xh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Zo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Zo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Qh[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Jh(r)):this.eventManager.addEventListener(e,t,Jh(r))}}function Zo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Wy extends Xh{constructor(e,t,r,i){super(e),this.component=r;const o=Sc(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function Qu(n){return"_ngcontent-%COMP%".replace(As,n)}(i+"-"+r.id),this.hostAttr=function Na(n){return"_nghost-%COMP%".replace(As,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Hg extends Xh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Sc(i.id,i.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Il=(()=>{class n extends Ss{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ra=["alt","control","meta","shift"],Ur={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xc=(()=>{class n extends Ss{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),Ra.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Ur[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ra.forEach(c=>{c!==i&&(0,zg[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nf=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Dl(){Ug.makeCurrent()},multi:!0},{provide:ge,useFactory:function Xu(){return(0,u.RDi)(document),document},deps:[]}]),Wg=new u.OlP(""),Kn=[{provide:u.rWj,useClass:class Ic{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const h=function(m){c=c||m,o--,0==o&&r(c)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],qg=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Mc(){return new u.qLn},deps:[]},{provide:qo,useClass:Il,multi:!0,deps:[ge,u.R0b,u.Lbi]},{provide:qo,useClass:xc,multi:!0,deps:[ge]},{provide:Ac,useClass:Ac,deps:[Ko,Cl,u.AFp]},{provide:u.FYo,useExisting:Ac},{provide:Zh,useExisting:Cl},{provide:Cl,useClass:Cl,deps:[ge]},{provide:Ko,useClass:Ko,deps:[qo,u.R0b]},{provide:gl,useClass:GE,deps:[]},[]];let rf=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:bc,useExisting:u.AFp},zy]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wg,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...qg,...Kn],imports:[ai,u.hGG]}),n})(),qy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qE(){return new qy((0,u.LFG)(ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ar=R(8996),Ms=R(7669);function Vt(...n){const e=(0,Ms.yG)(n);return(0,ar.D)(n,e)}var Nr=R(7579);class Ni extends Nr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const od=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qs=R(9751);const{isArray:af}=Array,{getPrototypeOf:lf,prototype:Oc,keys:Sl}=Object;function ad(n){if(1===n.length){const e=n[0];if(af(e))return{args:e,keys:null};if(function Br(n){return n&&"object"==typeof n&&lf(n)===Oc}(e)){const t=Sl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Yo=R(4671),Qt=R(4004);const{isArray:Nc}=Array;function em(n){return(0,Qt.U)(e=>function La(n,e){return Nc(e)?n(...e):n(e)}(n,e))}function Al(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var _i=R(5403),cf=R(9672);function Qo(...n){const e=(0,Ms.yG)(n),t=(0,Ms.jO)(n),{args:r,keys:i}=ad(n);if(0===r.length)return(0,ar.D)([],e);const o=new Qs.y(function ld(n,e,t=Yo.y){return r=>{Jo(e,()=>{const{length:i}=n,o=new Array(i);let c=i,h=i;for(let m=0;m<i;m++)Jo(e,()=>{const y=(0,ar.D)(n[m],e);let b=!1;y.subscribe((0,_i.x)(r,T=>{o[m]=T,b||(b=!0,h--),h||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Al(i,c):Yo.y));return t?o.pipe(em(t)):o}function Jo(n,e,t){n?(0,cf.f)(t,n,e):e()}var Rc=R(8189);function Xo(...n){return function uf(){return(0,Rc.J)(1)}()((0,ar.D)(n,(0,Ms.yG)(n)))}var ea=R(8421);function df(n){return new Qs.y(e=>{(0,ea.Xf)(n()).subscribe(e)})}var Qy=R(9635),kc=R(576);function Js(n,e){const t=(0,kc.m)(n)?n:()=>n,r=i=>i.error(t());return new Qs.y(e?i=>e.schedule(r,0,i):r)}var Ps=R(515),cd=R(727),qi=R(4482);function ud(){return(0,qi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_i.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dd extends Qs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_i.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cd.w0.EMPTY)}return e}refCount(){return ud()(this)}}function li(n,e){return(0,qi.e)((t,r)=>{let i=null,o=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,_i.x)(r,m=>{i?.unsubscribe();let y=0;const b=o++;(0,ea.Xf)(n(m,b)).subscribe(i=(0,_i.x)(r,T=>r.next(e?e(m,T,b,y++):T),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Va(n){return n<=0?()=>Ps.E:(0,qi.e)((e,t)=>{let r=0;e.subscribe((0,_i.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xl(...n){const e=(0,Ms.yG)(n);return(0,qi.e)((t,r)=>{(e?Xo(n,t,e):Xo(n,t)).subscribe(r)})}function Ki(n,e){return(0,qi.e)((t,r)=>{let i=0;t.subscribe((0,_i.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Yr=R(5577);function Ua(n){return(0,qi.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function tm(n=hf){return(0,qi.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hf(){return new od}function fo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ki((i,o)=>n(i,o,r)):Yo.y,Va(1),t?Ua(e):tm(()=>new od))}function Xs(n,e){return(0,kc.m)(e)?(0,Yr.z)(n,e,1):(0,Yr.z)(n,1)}var Ri=R(8505);function po(n){return(0,qi.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,_i.x)(t,void 0,void 0,c=>{o=(0,ea.Xf)(n(c,po(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ff(n,e,t,r,i){return(o,c)=>{let h=t,m=e,y=0;o.subscribe((0,_i.x)(c,b=>{const T=y++;m=h?n(m,b,T):(h=!0,b),r&&c.next(m)},i&&(()=>{h&&c.next(m),c.complete()})))}}function Ba(n,e){return(0,qi.e)(ff(n,e,arguments.length>=2,!0))}function nm(n){return n<=0?()=>Ps.E:(0,qi.e)((e,t)=>{let r=[];e.subscribe((0,_i.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ki((i,o)=>n(i,o,r)):Yo.y,nm(1),t?Ua(e):tm(()=>new od))}function rm(n){return(0,qi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const In="primary",hd=Symbol("RouteTitle");class pf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ml(n){return new pf(n)}function im(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],h=n[o];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Os(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!mf(n[i],e[i]))return!1;return!0}function mf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function _f(n){return Array.prototype.concat.apply([],n)}function Ns(n){return n.length>0?n[n.length-1]:null}function Qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ta(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,ar.D)(Promise.resolve(n)):Vt(n)}const Xy={exact:function am(n,e,t){if(!na(n.segments,e.segments)||!ja(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!am(n.children[r],e.children[r],t))return!1;return!0},subset:yi},sm={exact:function om(n,e){return Os(n,e)},subset:function ev(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mf(n[t],e[t]))},ignored:()=>!0};function vf(n,e,t){return Xy[t.paths](n.root,e.root,t.matrixParams)&&sm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yi(n,e,t){return pd(n,e,e.segments,t)}function pd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!na(i,t)||e.hasChildren()||!ja(i,t,r))}if(n.segments.length===t.length){if(!na(n.segments,t)||!ja(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!yi(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(na(n.segments,i)&&ja(n.segments,i,r)&&n.children[In])&&pd(n.children[In],e,o,r)}}function ja(n,e,t){return e.every((r,i)=>sm[t](n[i].parameters,r.parameters))}class Rs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ml(this.queryParams)),this._queryParamMap}toString(){return nv.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Qr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pl(this)}}class ks{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ml(this.parameters)),this._parameterMap}toString(){return cm(this)}}function na(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new wf},providedIn:"root"}),n})();class wf{parse(e){const t=new S(e);return new Rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$a(e.root,!0)}`,r=function um(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Uc(t)}=${Uc(i)}`).join("&"):`${Uc(t)}=${Uc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const nv=new wf;function Pl(n){return n.segments.map(e=>cm(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Pl(n);if(e){const t=n.children[In]?$a(n.children[In],!1):"",r=[];return Qr(n.children,(i,o)=>{o!==In&&r.push(`${o}:${$a(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function tv(n,e){let t=[];return Qr(n.children,(r,i)=>{i===In&&(t=t.concat(e(r,i)))}),Qr(n.children,(r,i)=>{i!==In&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===In?[$a(n.children[In],!1)]:[`${i}:${$a(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[In]?`${Pl(n)}/${t[0]}`:`${Pl(n)}/(${t.join("//")})`}}function Vc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(n){return Vc(n).replace(/%3B/gi,";")}function Bc(n){return Vc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function md(n){return decodeURIComponent(n)}function Ef(n){return md(n.replace(/\+/g,"%20"))}function cm(n){return`${Bc(n.path)}${function jc(n){return Object.keys(n).map(e=>`;${Bc(e)}=${Bc(n[e])}`).join("")}(n.parameters)}`}const rv=/^[^\/()?;=#]+/;function $c(n){const e=n.match(rv);return e?e[0]:""}const w=/^[^=?&#]+/,_=/^[^&#]+/;class S{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[In]=new Gt(e,t)),r}parseSegment(){const e=$c(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new ks(md(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$c(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$c(this.remaining);i&&(r=i,this.capture(r))}e[md(t)]=md(r)}parseQueryParam(e){const t=function p(n){const e=n.match(w);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function E(n){const e=n.match(_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Ef(t),o=Ef(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$c(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=In);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[In]:new Gt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function P(n){return n.segments.length>0?new Gt([],{[In]:n}):n}function te(n){const e={};for(const r of Object.keys(n.children)){const o=te(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ve(n){if(1===n.numberOfChildren&&n.children[In]){const e=n.children[In];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}function et(n){return n instanceof Rs}function ra(n,e,t,r,i){if(0===t.length)return mo(e.root,e.root,e.root,r,i);const o=function _d(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Cf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Qr(o.outlets,(m,y)=>{h[y]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new Cf(t,e,r)}(t);return o.toRoot()?mo(e.root,e.root,new Gt([],{}),r,i):function c(m){const y=function _o(n,e,t,r){if(n.isAbsolute)return new sa(e.root,!0,0);if(-1===r)return new sa(t,t===e.root,0);return function yd(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new sa(r,!1,i-o)}(t,r+(go(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),b=y.processChildren?vd(y.segmentGroup,y.index,o.commands):zc(y.segmentGroup,y.index,o.commands);return mo(e.root,y.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function go(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ia(n){return"object"==typeof n&&null!=n&&n.outlets}function mo(n,e,t,r,i){let c,o={};r&&Qr(r,(m,y)=>{o[y]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),c=n===e?t:Hc(n,e,t);const h=P(te(c));return new Rs(h,o,i)}function Hc(n,e,t){const r={};return Qr(n.children,(i,o)=>{r[o]=i===e?t:Hc(i,e,t)}),new Gt(n.segments,r)}class Cf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&go(r[0]))throw new u.vHH(4003,!1);const i=r.find(ia);if(i&&i!==Ns(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function zc(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return vd(n,e,t);const r=function hm(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],h=t[r];if(ia(h))break;const m=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!ov(m,y,c))return o;r+=2}else{if(!ov(m,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Gt(n.segments.slice(0,r.pathIndex),{});return o.children[In]=new Gt(n.segments.slice(r.pathIndex),n.children),vd(o,0,i)}return r.match&&0===i.length?new Gt(n.segments,{}):r.match&&!n.hasChildren()?iv(n,e,t):r.match?vd(n,0,i):iv(n,e,t)}function vd(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const r=function dm(n){return ia(n[0])?n[0].outlets:{[In]:n}}(t),i={};return Qr(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=zc(n.children[c],e,o))}),Qr(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new Gt(n.segments,i)}}function iv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(ia(o)){const m=nC(o.outlets);return new Gt(r,m)}if(0===i&&go(t[0])){r.push(new ks(n.segments[e].path,sv(t[0]))),i++;continue}const c=ia(o)?o.outlets[In]:`${o}`,h=i<t.length-1?t[i+1]:null;c&&h&&go(h)?(r.push(new ks(c,sv(h))),i+=2):(r.push(new ks(c,{})),i++)}return new Gt(r,{})}function nC(n){const e={};return Qr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=iv(new Gt([],{}),0,t))}),e}function sv(n){const e={};return Qr(n,(t,r)=>e[r]=`${t}`),e}function ov(n,e,t){return n==t.path&&Os(e,t.parameters)}class yo{constructor(e,t){this.id=e,this.url=t}}class fm extends yo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oa extends yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gc extends yo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class av extends yo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lv extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cv extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uv extends yo{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class If extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MS extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iC{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oC(e,this._root).map(t=>t.value)}}function hv(n,e){if(n===e.value)return e;for(const t of e.children){const r=hv(n,t);if(r)return r}return null}function oC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oC(n,t);if(r.length)return r.unshift(e),r}return[]}class Ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ol(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class aC extends sC{constructor(e,t){super(e),this.snapshot=t,mv(this,e)}toString(){return this.snapshot.toString()}}function fv(n,e){const t=function mm(n,e){const c=new Tf([],{},{},"",{},In,e,null,n.root,-1,{});return new gv("",new Ha(c,[]))}(n,e),r=new Ni([new ks("",{})]),i=new Ni({}),o=new Ni({}),c=new Ni({}),h=new Ni(""),m=new za(r,i,c,h,o,In,e,t.root);return m.snapshot=t.root,new aC(new Ha(m,[]),t)}class za{constructor(e,t,r,i,o,c,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,Qt.U)(y=>y[hd]))??Vt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(e=>Ml(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(e=>Ml(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function lC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tf{constructor(e,t,r,i,o,c,h,m,y,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.[hd],this.routeConfig=m,this._urlSegment=y,this._lastPathIndex=b,this._correctedLastPathIndex=A??b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ml(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ml(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gv extends sC{constructor(e,t){super(t),this.url=e,mv(this,t)}toString(){return cC(this._root)}}function mv(n,e){e.value._routerState=n,e.children.forEach(t=>mv(n,t))}function cC(n){const e=n.children.length>0?` { ${n.children.map(cC).join(", ")} } `:"";return`${n.value}${e}`}function _v(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Os(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Os(e.params,t.params)||n.params.next(t.params),function gf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Os(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yv(n,e){const t=Os(n.params,e.params)&&function lm(n,e){return na(n,e)&&n.every((t,r)=>Os(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yv(n.parent,e.parent))}function eo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Df(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return eo(n,r,i);return eo(n,r)})}(n,e,t);return new Ha(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>eo(n,h)),c}}const r=function RS(n){return new za(new Ni(n.url),new Ni(n.params),new Ni(n.queryParams),new Ni(n.fragment),new Ni(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>eo(n,o));return new Ha(r,i)}}const uC="ngNavigationCancelingError";function kS(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=et(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FS(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function FS(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[uC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function LS(n){return VS(n)&&et(n.url)}function VS(n){return n&&n[uC]}class dC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sf,this.attachRef=null}}let Sf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new dC,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _m=!1;let hC=(()=>{class n{constructor(t,r,i,o,c){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||In,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,_m);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,_m);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,_m);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,_m);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new US(t,h,i.injector);if(r&&function vv(n){return!!n.resolveComponentFactory}(r)){const y=r.resolveComponentFactory(c);this.activated=i.createComponent(y,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sf),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class US{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===za?this.route:e===Sf?this.childContexts:this.parent.get(e,t)}}let vo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[hC],encapsulation:2}),n})();function wd(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pC(n){const e=n.children&&n.children.map(pC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==In&&(t.component=vo),t}function wo(n){return n.outlet||In}function Cv(n,e){const t=n.filter(r=>wo(r)===e);return t.push(...n.filter(r=>wo(r)!==e)),t}function Af(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class zS{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_v(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ol(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Qr(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ol(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ol(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ol(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new iC(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(_v(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),_v(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Af(i.snapshot),m=h?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class gC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,t){this.component=e,this.route=t}}function ym(n,e,t){const r=n._root;return Mf(r,e?e._root:null,t,[r.value])}function Nl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Mf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ol(e);return n.children.forEach(c=>{(function ri(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function WS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!na(n.url,e.url)||!Os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(n,e)||!Os(n.queryParams,e.queryParams);default:return!yv(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new gC(r)):(o.data=c.data,o._resolvedData=c._resolvedData),Mf(n,e,o.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new xf(h.outlet.component,c))}else c&&Pf(e,h,i),i.canActivateChecks.push(new gC(r)),Mf(n,null,o.component?h?h.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),Qr(o,(c,h)=>Pf(c,t.getContext(h),i)),i}function Pf(n,e,t){const r=Ol(n),i=n.value;Qr(r,(o,c)=>{Pf(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qc(n){return"function"==typeof n}function Kc(n){return n instanceof od||"EmptyError"===n?.name}const Ed=Symbol("INITIAL_VALUE");function Zc(){return li(n=>Qo(n.map(e=>e.pipe(Va(1),xl(Ed)))).pipe((0,Qt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ed)return Ed;if(!1===t||t instanceof Rs)return t}return!0}),Ki(e=>e!==Ed),Va(1)))}function Tv(n){return(0,Qy.z)((0,Ri.b)(e=>{if(et(e))throw kS(0,e)}),(0,Qt.U)(e=>!0===e))}const Ga={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CC(n,e,t,r,i){const o=Of(n,e,t);return o.matched?function EC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Vt(i.map(c=>{const h=Nl(c,n);return ta(function QS(n){return n&&qc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Zc(),Tv()):Vt(!0)}(r=wd(e,r),e,t).pipe((0,Qt.U)(c=>!0===c?o:{...Ga})):Vt(o)}function Of(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ga}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||im)(t,n,e);if(!i)return{...Ga};const o={};Qr(i.posParams,(h,m)=>{o[m]=h.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Yc(n,e,t,r,i="corrected"){if(t.length>0&&function vm(n,e,t){return t.some(r=>Nf(n,e,r)&&wo(r)!==In)}(n,t,r)){const c=new Gt(e,function Dv(n,e,t,r){const i={};i[In]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&wo(o)!==In){const c=new Gt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[wo(o)]=c}return i}(n,e,r,new Gt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Qc(n,e,t){return t.some(r=>Nf(n,e,r))}(n,t,r)){const c=new Gt(n.segments,function eA(n,e,t,r,i,o){const c={};for(const h of r)if(Nf(n,t,h)&&!i[wo(h)]){const m=new Gt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[wo(h)]=m}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new Gt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Nf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wm(n,e,t,r){return!!(wo(n)===r||r!==In&&Nf(e,t,n))&&("**"===n.path||Of(e,n,t).matched)}function bC(n,e,t){return 0===e.length&&!n.children[t]}const Em=!1;class Rf{constructor(e){this.segmentGroup=e||null}}class Jc{constructor(e){this.urlTree=e}}function kf(n){return Js(new Rf(n))}function IC(n){return Js(new Jc(n))}class rA{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Yc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,In).pipe((0,Qt.U)(o=>this.createUrlTree(te(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(po(o=>{if(o instanceof Jc)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Rf?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,In).pipe((0,Qt.U)(i=>this.createUrlTree(te(i),e.queryParams,e.fragment))).pipe(po(i=>{throw i instanceof Rf?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Em)}createUrlTree(e,t,r){const i=P(e);return new Rs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Qt.U)(o=>new Gt([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,ar.D)(i).pipe(Xs(o=>{const c=r.children[o],h=Cv(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,Qt.U)(m=>({segment:m,outlet:o})))}),Ba((o,c)=>(o[c.outlet]=c.segment,o),{}),Jy())}expandSegment(e,t,r,i,o,c){return(0,ar.D)(r).pipe(Xs(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,c).pipe(po(y=>{if(y instanceof Rf)return Vt(null);throw y}))),fo(h=>!!h),po((h,m)=>{if(Kc(h))return bC(t,i,o)?Vt(new Gt([],{})):kf(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,c,h){return wm(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):kf(t):kf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?IC(o):this.lineralizeSegments(r,o).pipe((0,Yr.z)(c=>{const h=new Gt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:b}=Of(t,i,o);if(!h)return kf(t);const T=this.applyRedirectCommands(m,i.redirectTo,b);return i.redirectTo.startsWith("/")?IC(T):this.lineralizeSegments(i,T).pipe((0,Yr.z)(A=>this.expandSegment(e,t,r,A.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=wd(r,e),r.loadChildren?(r._loadedRoutes?Vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Qt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Gt(i,{})))):Vt(new Gt(i,{}))):CC(t,r,i,e).pipe(li(({matched:c,consumedSegments:h,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Yr.z)(b=>{const T=b.injector??e,A=b.routes,{segmentGroup:F,slicedSegments:H}=Yc(t,h,m,A),ie=new Gt(F.segments,F.children);if(0===H.length&&ie.hasChildren())return this.expandChildren(T,A,ie).pipe((0,Qt.U)(Et=>new Gt(h,Et)));if(0===A.length&&0===H.length)return Vt(new Gt(h,{}));const pe=wo(r)===o;return this.expandSegment(T,ie,A,H,pe?In:o,!0).pipe((0,Qt.U)(gt=>new Gt(h.concat(gt.segments),gt.children)))})):kf(t)))}getChildConfig(e,t,r){return t.children?Vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Iv(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Vt(!0):Vt(i.map(c=>{const h=Nl(c,n);return ta(function qS(n){return n&&qc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Zc(),Tv())}(e,t,r).pipe((0,Yr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ri.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function nA(n){return Js(FS(Em,3))}())):Vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Vt(r);if(i.numberOfChildren>1||!i.children[In])return Js(new u.vHH(4e3,Em));i=i.children[In]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Rs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Qr(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return Qr(t.children,(h,m)=>{c[m]=this.createSegmentGroup(e,h,r,i)}),new Gt(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Em);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class DC{}class Ff{constructor(e,t,r,i,o,c,h,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const e=Yc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,In).pipe((0,Qt.U)(t=>{if(null===t)return null;const r=new Tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},In,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ha(r,t),o=new gv(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=pv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,ar.D)(Object.keys(r.children)).pipe(Xs(i=>{const o=r.children[i],c=Cv(t,i);return this.processSegmentGroup(e,c,o,i)}),Ba((i,o)=>i&&o?(i.push(...o),i):null),function Fc(n,e=!1){return(0,qi.e)((t,r)=>{let i=0;t.subscribe((0,_i.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),Ua(null),Jy(),(0,Qt.U)(i=>{if(null===i)return null;const o=SC(i);return function sA(n){n.sort((e,t)=>e.value.outlet===In?-1:t.value.outlet===In?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,ar.D)(t).pipe(Xs(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),fo(c=>!!c),po(c=>{if(Kc(c))return bC(r,i,o)?Vt([]):Vt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!wm(t,r,i,o))return Vt(null);let c;if("**"===t.path){const h=i.length>0?Ns(i).parameters:{},m=AC(r)+i.length;c=Vt({snapshot:new Tf(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MC(t),wo(t),t.component??t._loadedComponent??null,t,Av(r),m,xv(t),m),consumedSegments:[],remainingSegments:[]})}else c=CC(r,t,i,e).pipe((0,Qt.U)(({matched:h,consumedSegments:m,remainingSegments:y,parameters:b})=>{if(!h)return null;const T=AC(r)+m.length;return{snapshot:new Tf(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MC(t),wo(t),t.component??t._loadedComponent??null,t,Av(r),T,xv(t),T),consumedSegments:m,remainingSegments:y}}));return c.pipe(li(h=>{if(null===h)return Vt(null);const{snapshot:m,consumedSegments:y,remainingSegments:b}=h;e=t._injector??e;const T=t._loadedInjector??e,A=function Cd(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:H}=Yc(r,y,b,A.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===H.length&&F.hasChildren())return this.processChildren(T,A,F).pipe((0,Qt.U)(pe=>null===pe?null:[new Ha(m,pe)]));if(0===A.length&&0===H.length)return Vt([new Ha(m,[])]);const ie=wo(t)===o;return this.processSegment(T,A,F,H,ie?In:o).pipe((0,Qt.U)(pe=>null===pe?null:[new Ha(m,pe)]))}))}}function Lf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function SC(n){const e=[],t=new Set;for(const r of n){if(!Lf(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=SC(r.children);e.push(new Ha(r.value,i))}return e.filter(r=>!t.has(r))}function Av(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function AC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function MC(n){return n.data||{}}function xv(n){return n.resolve||{}}function OC(n){return"string"==typeof n.title||null===n.title}function Nv(n){return li(e=>{const t=n(e);return t?(0,ar.D)(t).pipe((0,Qt.U)(()=>e)):Vt(e)})}let NC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===In);return r}getResolvedTitleForRoute(t){return t.data[hd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(RC)},providedIn:"root"}),n})(),RC=(()=>{class n extends NC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kC{}class bd extends class aA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const bm=new u.OlP("",{providedIn:"root",factory:()=>({})}),LC=new u.OlP("ROUTES");let VC=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ta(t.loadComponent()).pipe((0,Ri.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),rm(()=>{this.componentLoaders.delete(t)})),i=new dd(r,()=>new Nr.x).pipe(ud());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Qt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,y,b=!1;Array.isArray(h)?y=h:(m=h.create(t).injector,y=_f(m.get(LC,[],u.XFs.Self|u.XFs.Optional)));return{routes:y.map(pC),injector:m}}),rm(()=>{this.childrenLoaders.delete(r)})),c=new dd(o,()=>new Nr.x).pipe(ud());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return ta(t()).pipe((0,Yr.z)(r=>r instanceof u.YKP||Array.isArray(r)?Vt(r):(0,ar.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UC{}class u1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function d1(n){throw n}function BC(n,e,t){return e.parse("/")}const lA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $C(){const n=(0,u.f3M)(Lc),e=(0,u.f3M)(Sf),t=(0,u.f3M)(Fe),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),o=(0,u.f3M)(LC,{optional:!0})??[],c=(0,u.f3M)(bm,{optional:!0})??{},h=(0,u.f3M)(RC),m=(0,u.f3M)(NC,{optional:!0}),y=(0,u.f3M)(UC,{optional:!0}),b=(0,u.f3M)(kC,{optional:!0}),T=new dr(null,n,e,t,r,i,_f(o));return y&&(T.urlHandlingStrategy=y),b&&(T.routeReuseStrategy=b),T.titleStrategy=m??h,function cA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,T),T}let dr=(()=>{class n{constructor(t,r,i,o,c,h,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nr.x,this.errorHandler=d1,this.malformedUriErrorHandler=BC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Vt(void 0),this.urlHandlingStrategy=new u1,this.routeReuseStrategy=new bd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(VC),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new PS(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new rC(A)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const T=c.get(u.R0b);this.isNgZoneEnabled=T instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function yf(){return new Rs(new Gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ki(i=>0!==i.id),(0,Qt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),li(i=>{let o=!1,c=!1;return Vt(i).pipe((0,Ri.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),li(h=>{const m=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Rv(h.source)&&(this.browserUrlTree=h.extractedUrl),Vt(h).pipe(li(T=>{const A=this.transitions.getValue();return r.next(new fm(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),A!==this.transitions.getValue()?Ps.E:Promise.resolve(T)}),function TC(n,e,t,r){return li(i=>function Sv(n,e,t,r,i){return new rA(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Qt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ri.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function PC(n,e,t,r,i,o){return(0,Yr.z)(c=>function iA(n,e,t,r,i,o,c="emptyOnly",h="legacy"){return new Ff(n,e,t,r,i,c,h,o).recognize().pipe(li(m=>null===m?function a1(n){return new Qs.y(e=>e.error(n))}(new DC):Vt(m)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,o).pipe((0,Qt.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ri.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(F,T)}this.browserUrlTree=T.urlAfterRedirects}const A=new lv(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(A)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:F,source:H,restoredState:ie,extras:pe}=h,ze=new fm(A,this.serializeUrl(F),H,ie);r.next(ze);const gt=fv(F,this.rootComponentType).snapshot;return Vt(i={...h,targetSnapshot:gt,urlAfterRedirects:F,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ps.E}),(0,Ri.b)(h=>{const m=new cv(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,Qt.U)(h=>i={...h,guards:ym(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function _C(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?Vt({...t,guardsResult:!0}):function yC(n,e,t,r){return(0,ar.D)(n).pipe((0,Yr.z)(i=>function XS(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Vt(o.map(h=>{const m=Af(e)??i,y=Nl(h,m);return ta(function YS(n){return n&&qc(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):m.runInContext(()=>y(n,e,t,r))).pipe(fo())})).pipe(Zc()):Vt(!0)}(i.component,i.route,t,e,r)),fo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Yr.z)(h=>h&&function mC(n){return"boolean"==typeof n}(h)?function JS(n,e,t,r){return(0,ar.D)(e).pipe(Xs(i=>Xo(function wC(n,e){return null!==n&&e&&e(new OS(n)),Vt(!0)}(i.route.parent,r),function vC(n,e){return null!==n&&e&&e(new dv(n)),Vt(!0)}(i.route,r),function o1(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function GS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>df(()=>Vt(c.guards.map(m=>{const y=Af(c.node)??t,b=Nl(m,y);return ta(function ZS(n){return n&&qc(n.canActivateChild)}(b)?b.canActivateChild(r,n):y.runInContext(()=>b(r,n))).pipe(fo())})).pipe(Zc())));return Vt(o).pipe(Zc())}(n,i.path,t),function bv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Vt(!0);const i=r.map(o=>df(()=>{const c=Af(e)??t,h=Nl(o,c);return ta(function KS(n){return n&&qc(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(fo())}));return Vt(i).pipe(Zc())}(n,i.route,t))),fo(i=>!0!==i,!0))}(r,o,n,e):Vt(h)),(0,Qt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ri.b)(h=>{if(i.guardsResult=h.guardsResult,et(h.guardsResult))throw kS(0,h.guardsResult);const m=new uv(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),Ki(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Nv(h=>{if(h.guards.canActivateChecks.length)return Vt(h).pipe((0,Ri.b)(m=>{const y=new If(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),li(m=>{let y=!1;return Vt(m).pipe(function Mv(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Vt(t);let o=0;return(0,ar.D)(i).pipe(Xs(c=>function Pv(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!OC(i)&&(o[hd]=i.title),function oA(n,e,t,r){const i=function Ov(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Vt({});const o={};return(0,ar.D)(i).pipe((0,Yr.z)(c=>function Vf(n,e,t,r){const i=Af(e)??r,o=Nl(n,i);return ta(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(fo(),(0,Ri.b)(h=>{o[c]=h}))),nm(1),function eC(n){return(0,Qt.U)(()=>n)}(o),po(c=>Kc(c)?Ps.E:Js(c)))}(o,n,e,r).pipe((0,Qt.U)(c=>(n._resolvedData=c,n.data=pv(n,t).resolve,i&&OC(i)&&(n.data[hd]=i.title),null)))}(c.route,r,n,e)),(0,Ri.b)(()=>o++),nm(1),(0,Yr.z)(c=>o===i.length?Vt(t):Ps.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ri.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Ri.b)(m=>{const y=new MS(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}))}),Nv(h=>{const m=y=>{const b=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Ri.b)(T=>{y.component=T}),(0,Qt.U)(()=>{})));for(const T of y.children)b.push(...m(T));return b};return Qo(m(h.targetSnapshot.root)).pipe(Ua(),Va(1))}),Nv(()=>this.afterPreactivation()),(0,Qt.U)(h=>{const m=function NS(n,e,t){const r=eo(n,e._root,t?t._root:void 0);return new aC(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),(0,Ri.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Qt.U)(r=>(new zS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ri.b)({next(){o=!0},complete(){o=!0}}),rm(()=>{o||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),po(h=>{if(c=!0,VS(h)){LS(h)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new Gc(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(m),LS(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rv(i.source)};this.scheduleNavigation(y,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new av(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(h))}catch(y){i.reject(y)}}return Ps.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(pC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:m}=r,y=i||this.routerState.root,b=m?this.currentUrlTree.fragment:c;let T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),ra(y,this.currentUrlTree,t,T,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=et(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lA}:!1===r?{...jC}:r,et(t))return vf(this.currentUrlTree,t,i);const o=this.parseUrl(t);return vf(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new oa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let h,m,y;c?(h=c.resolve,m=c.reject,y=c.promise):y=new Promise((A,F)=>{h=A,m=F});const b=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:b,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new Gc(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return $C()},providedIn:"root"}),n})();function Rv(n){return"imperative"!==n}class Lv{}let fA=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ki(t=>t instanceof oa),Xs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,u.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,ar.D)(i).pipe((0,Rc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Vt(null);const o=i.pipe((0,Yr.z)(c=>null===c?Vt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,ar.D)([o,c]).pipe((0,Rc.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Lv),u.LFG(VC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pn=new u.OlP("");let Vv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new gm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Id(n,e){return{\u0275kind:n,\u0275providers:e}}function Im(n){return[{provide:LC,multi:!0,useValue:n}]}function Uv(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(dr),i=n.get(zC);1===n.get(Bv)&&r.initialNavigation(),n.get(Rl,null,u.XFs.Optional)?.setUpPreloading(),n.get(pn,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const zC=new u.OlP("",{factory:()=>new Nr.x}),Bv=new u.OlP("",{providedIn:"root",factory:()=>1});const Rl=new u.OlP("");function gA(n){return Id(0,[{provide:Rl,useExisting:fA},{provide:Lv,useExisting:n}])}const mA=new u.OlP("ROUTER_FORROOT_GUARD"),_1=[Fe,{provide:Lc,useClass:wf},{provide:dr,useFactory:$C},Sf,{provide:za,useFactory:function HC(n){return n.routerState.root},deps:[dr]},VC];function y1(){return new u.PXZ("Router",dr)}let KC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_1,[],Im(t),{provide:mA,useFactory:Dd,deps:[[dr,new u.FiY,new u.tp0]]},{provide:bm,useValue:r||{}},r?.useHash?{provide:De,useClass:ft}:{provide:De,useClass:Ct},{provide:pn,useFactory:()=>{const n=(0,u.f3M)(dr),e=(0,u.f3M)(xa),t=(0,u.f3M)(bm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vv(n,e,t)}},r?.preloadingStrategy?gA(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:y1},r?.initialNavigation?yA(r):[],[{provide:jv,useFactory:Uv},{provide:u.tb,multi:!0,useExisting:jv}]]}}static forChild(t){return{ngModule:n,providers:[Im(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mA,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo]}),n})();function Dd(n){return"guarded"}function yA(n){return["disabled"===n.initialNavigation?Id(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(dr);return()=>{e.setUpLocationChangeListener()}}},{provide:Bv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Id(2,[{provide:Bv,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const c=e.get(dr),h=e.get(zC);(function i(o){e.get(dr).events.pipe(Ki(h=>h instanceof oa||h instanceof Gc||h instanceof av),(0,Qt.U)(h=>h instanceof oa||h instanceof Gc&&(0===h.code||1===h.code)&&null),Ki(h=>null!==h),Va(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),c.afterPreactivation=()=>(o(!0),r||h.closed?Vt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const jv=new u.OlP(""),YC=[];let vA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[KC.forRoot(YC),KC]}),n})();var wA=R(4986),ln=R(4799);function $v(){return(0,qi.e)((n,e)=>{let t,r=!1;n.subscribe((0,_i.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function QC(n,e){return n===e}var wt,Eo=R(2011),xe=(R(5054),R(6101),R(5861)),Co=R(9752),kl=R(4859),aa=R(1877),re=R(2090),Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},to={},Ad=Ad||{},Wt=Sd||self;function jf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $f(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bo="closure_uid_"+(1e9*Math.random()>>>0),zv=0;function XC(n,e,t){return n.call.apply(n.bind,arguments)}function Gv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function rs(n,e,t){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XC:Gv).apply(null,arguments)}function Hf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Io(){this.s=this.s,this.o=this.o}Io.prototype.s=!1,Io.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hv(n){Object.prototype.hasOwnProperty.call(n,bo)&&n[bo]||(n[bo]=++zv)}(this)},Io.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sm=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Am(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jf(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function is(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}is.prototype.h=function(){this.defaultPrevented=!0};var bA=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",()=>{},e),Wt.removeEventListener("test",()=>{},e)}catch{}return n}();function Gf(n){return/^[\s\xa0]*$/.test(n)}function xm(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function la(n){return-1!=xm().indexOf(n)}function Mm(n){return Mm[" "](n),n}Mm[" "]=function(){};var tb,IA=la("Opera"),Wf=la("Trident")||la("MSIE"),Wv=la("Edge"),Pm=Wv||Wf,eb=la("Gecko")&&!(-1!=xm().toLowerCase().indexOf("webkit")&&!la("Edge"))&&!(la("Trident")||la("MSIE"))&&!la("Edge"),qv=-1!=xm().toLowerCase().indexOf("webkit")&&!la("Edge");function TA(){var n=Wt.document;return n?n.documentMode:void 0}e:{var nb="",rb=function(){var n=xm();return eb?/rv:([^\);]+)(\)|;)/.exec(n):Wv?/Edge\/([\d\.]+)/.exec(n):Wf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qv?/WebKit\/(\S+)/.exec(n):IA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(rb&&(nb=rb?rb[1]:""),Wf){var ib=TA();if(null!=ib&&ib>parseFloat(nb)){tb=String(ib);break e}}tb=nb}var C1=Wt.document&&Wf&&(TA()||parseInt(tb,10))||void 0;function Om(n,e){if(is.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eb){e:{try{Mm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:b1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Om.$.h.call(this)}}var b1={2:"touch",3:"pen",4:"mouse"};Om.prototype.h=function(){Om.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var no="closure_listenable_"+(1e6*Math.random()|0),Kv=0;function SA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Kv,this.fa=this.ia=!1}function qf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Nm(n){const e={};for(const t in n)e[t]=n[t];return e}const ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qa(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<ab.length;o++)t=ab[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zf(n){this.src=n,this.g={},this.h=0}function Zv(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=Sm(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yv(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Zf.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Yv(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new SA(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Rm="closure_lm_"+(1e6*Math.random()|0),Qv={};function lb(n,e,t,r,i){if(r&&r.once)return km(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)lb(n,e[o],t,r,i);return null}return t=ep(t),n&&n[no]?n.O(e,t,$f(r)?!!r.capture:!!r,i):Yf(n,e,t,!1,r,i)}function Yf(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=$f(i)?!!i.capture:!!i,h=Fm(n);if(h||(n[Rm]=h=new Zf(n)),(t=h.add(e,t,r,c,o)).proxy)return t;if(r=function xd(){const e=cb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bA||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Jf(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function km(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)km(n,e[o],t,r,i);return null}return t=ep(t),n&&n[no]?n.P(e,t,$f(r)?!!r.capture:!!r,i):Yf(n,e,t,!0,r,i)}function Xc(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xc(n,e[o],t,r,i);else r=$f(r)?!!r.capture:!!r,t=ep(t),n&&n[no]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yv(o=n.g[e],t,r,i))&&(qf(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Fm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yv(e,t,r,i)),(t=-1<n?e[n]:null)&&Qf(t))}function Qf(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[no])Zv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Jf(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Fm(e))?(Zv(t,n),0==t.h&&(t.src=null,e[Rm]=null)):qf(n)}}}function Jf(n){return n in Qv?Qv[n]:Qv[n]="on"+n}function cb(n,e){if(n.fa)n=!0;else{e=new Om(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Qf(n),n=t.call(r,e)}return n}function Fm(n){return(n=n[Rm])instanceof Zf?n:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ep(n){return"function"==typeof n?n:(n[Xf]||(n[Xf]=function(e){return n.handleEvent(e)}),n[Xf])}function ci(){Io.call(this),this.i=new Zf(this),this.S=this,this.J=null}function ui(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new is(e,n);else if(e instanceof is)e.target=e.target||n;else{var i=e;qa(e=new is(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=Lm(c,r,!0,e)&&i}if(i=Lm(c=e.g=n,r,!0,e)&&i,i=Lm(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Lm(c=e.g=t[o],r,!1,e)&&i}function Lm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,m=c.la||c.src;c.ia&&Zv(n.i,c),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}ci.prototype[no]=!0,ci.prototype.removeEventListener=function(n,e,t,r){Xc(this,n,e,t,r)},ci.prototype.N=function(){if(ci.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)qf(t[r]);delete n.g[e],n.h--}}this.J=null},ci.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ci.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ub=Wt.JSON.stringify;class AA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function db(){var n=fb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class xA{constructor(){this.h=this.g=null}add(e,t){const r=Jv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Jv=new AA(()=>new hb,n=>n.reset());class hb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MA(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Fs(n){Wt.setTimeout(()=>{throw n},0)}let Md,tp=!1,fb=new xA,pb=()=>{const n=Wt.Promise.resolve(void 0);Md=()=>{n.then(Xv)}};var Xv=()=>{for(var n;n=db();){try{n.h.call(n.g)}catch(t){Fs(t)}var e=Jv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tp=!1};function np(n,e){ci.call(this),this.h=n||1,this.g=e||Wt,this.j=rs(this.qb,this),this.l=Date.now()}function ew(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tw(n,e,t){if("function"==typeof n)t&&(n=rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function gb(n){n.g=tw(()=>{n.g=null,n.i&&(n.i=!1,gb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(wt=np.prototype).ga=!1,wt.T=null,wt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(ew(this),this.start()))}},wt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.N=function(){np.$.N.call(this),ew(this),delete this.g};class mb extends Io{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gb(this)}N(){super.N(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rp(n){Io.call(this),this.h=n,this.g={}}var nw=[];function _b(n,e,t,r){Array.isArray(t)||(t&&(nw[0]=t.toString()),t=nw);for(var i=0;i<t.length;i++){var o=lb(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function yb(n){Kf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qf(e)},n),n.g={}}function ip(){this.g=!0}function ss(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return ub(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rp.prototype.N=function(){rp.$.N.call(this),yb(this)},rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ip.prototype.Ea=function(){this.g=!1},ip.prototype.info=function(){};var eu={},NA=null;function sp(){return NA=NA||new ci}function wb(n){is.call(this,eu.Ta,n)}function op(n){const e=sp();ui(e,new wb(e))}function Eb(n,e){is.call(this,eu.STAT_EVENT,n),this.stat=e}function Fi(n){const e=sp();ui(e,new Eb(e,n))}function Cb(n,e){is.call(this,eu.Ua,n),this.size=e}function ap(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}eu.Ta="serverreachability",eu.STAT_EVENT="statevent",eu.Ua="timingevent";var tu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Um(){}var Hm,Bm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jm(){is.call(this,"d")}function $m(){is.call(this,"c")}function lp(){}function nu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new rp(this),this.P=zm,this.V=new np(n=Pm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ca}function ca(){this.i=null,this.g="",this.h=!1}lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},Hm=new lp;var zm=45e3,Od={},Fl={};function iw(n,e,t){n.L=1,n.v=Zm(Ya(e)),n.s=t,n.S=!0,Gm(n,null)}function Gm(n,e){n.G=Date.now(),Ka(n),n.A=Ya(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),up(t.i,"t",r),n.C=0,t=n.l.J,n.h=new ca,n.g=Cw(n.l,t?e:null,!n.s),0<n.O&&(n.M=new mb(rs(n.Pa,n,n.g),n.O)),_b(n.U,n.g,"readystatechange",n.nb),e=n.I?Nm(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),op(),function vb(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),m=0;m<h.length;m++){var y=h[m].split("=");if(1<y.length){var b=y[0];y=y[1];var T=b.split("_");c=2<=T.length&&"type"==T[1]?c+(b+"=")+y+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function sw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function bb(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=kA(n,t),i==Fl){4==e&&(n.o=4,Fi(14),r=!1),ss(n.j,n.m,null,"[Incomplete Response]");break}if(i==Od){n.o=4,Fi(15),ss(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ss(n.j,n.m,i,null),aw(n,i)}sw(n)&&i!=Fl&&i!=Od&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ep(e),e.M=!0,Fi(11))):(ss(n.j,n.m,t,"[Invalid Chunked Response]"),Nd(n),cp(n))}function kA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fl:(t=Number(e.substring(t,r)),isNaN(t)?Od:(r+=1)+t>e.length?Fl:(e=e.slice(r,r+t),n.C=r+t,e))}function Ka(n){n.Y=Date.now()+n.P,Ib(n,n.P)}function Ib(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ap(rs(n.lb,n),e)}function ow(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function cp(n){0==n.l.H||n.J||yw(n.l,n)}function Nd(n){ow(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ew(n.V),yb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function aw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ul(t.i,n)))if(!n.K&&Ul(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Cp(t),r_(t)}wp(t),Fi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=ap(rs(t.ib,t),6e3));if(1>=su(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else jl(t,11)}else if((n.K||t.g==n)&&Cp(t),!Gf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const b=y[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const T=y[4];null!=T&&(t.Ga=T,t.l.info("SVER="+t.Ga));const A=y[5];null!=A&&"number"==typeof A&&0<A&&(t.L=r=1.5*A,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const F=n.g;if(F){const H=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=r.i;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Bl(o,o.h),o.h=null))}if(r.F){const ie=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.Da=ie,yr(r.I,r.F,ie))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Ew(r,r.J?r.pa:null,r.Y),c.K){ou(r.i,c);var h=c,m=r.L;m&&h.setTimeout(m),h.B&&(ow(h),Ka(h)),r.g=c}else kb(r);0<t.j.length&&yp(t)}else"stop"!=y[0]&&"close"!=y[0]||jl(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?jl(t,7):n_(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}op()}catch{}}function lw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LA(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(wt=nu.prototype).setTimeout=function(n){this.P=n},wt.nb=function(n){n=n.target;const e=this.M;e&&3==Ls(n)?e.l():this.Pa(n)},wt.Pa=function(n){try{if(n==this.g)e:{const b=Ls(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Pm||this.g&&(this.h.h||this.g.ja()||pw(this.g)))){this.J||4!=b||7==e||op(),ow(this);var t=this.g.da();this.ca=t;t:if(sw(this)){var r=pw(this.g);n="";var i=r.length,o=4==Ls(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nd(this),cp(this);var c="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function PA(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Fi(12),Nd(this),cp(this);break e}ss(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aw(this,t)}this.S?(bb(this,b,c),Pm&&this.i&&3==b&&(_b(this.U,this.V,"tick",this.mb),this.V.start())):(ss(this.j,this.m,c,null),aw(this,c)),4==b&&Nd(this),this.i&&!this.J&&(4==b?yw(this.l,this):(this.i=!1,Ka(this)))}else(function Ob(n){const e={};n=(n.g&&2<=Ls(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Gf(n[r]))continue;var t=MA(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function ob(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),Nd(this),cp(this)}}}catch{}},wt.mb=function(){if(this.g){var n=Ls(this.g),e=this.g.ja();this.C<e.length&&(ow(this),bb(this,n,e),this.i&&4!=n&&Ka(this))}},wt.cancel=function(){this.J=!0,Nd(this)},wt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(op(),Fi(17)),Nd(this),this.o=2,cp(this)):Ib(this,this.Y-n)};var Wm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Za){this.h=n.h,qm(this,n.j),this.s=n.s,this.g=n.g,Km(this,n.m),this.l=n.l;var e=n.i,t=new ws;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Tb(this,t),this.o=n.o}else n&&(e=String(n).match(Wm))?(this.h=!1,qm(this,e[1]||"",!0),this.s=Ll(e[2]||""),this.g=Ll(e[3]||"",!0),Km(this,e[4]),this.l=Ll(e[5]||"",!0),Tb(this,e[6]||"",!0),this.o=Ll(e[7]||"")):(this.h=!1,this.i=new ws(null,this.h))}function Ya(n){return new Za(n)}function qm(n,e,t){n.j=t?Ll(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Km(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Tb(n,e,t){e instanceof ws?(n.i=e,function uw(n,e){e&&!n.j&&(ro(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Li(this,r),up(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=To(e,cw)),n.i=new ws(e,n.h))}function yr(n,e,t){n.i.set(e,t)}function Zm(n){return yr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ll(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function To(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,I1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function I1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Za.prototype.toString=function(){var n=[],e=this.j;e&&n.push(To(e,Rd,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(To(e,Rd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(To(t,"/"==t.charAt(0)?BA:UA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",To(t,jA)),n.join("")};var Rd=/[#\/\?@]/g,UA=/[#\?:]/g,BA=/[#\?]/g,cw=/[#\?@]/g,jA=/#/g;function ws(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ro(n){n.g||(n.g=new Map,n.h=0,n.i&&function VA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Li(n,e){ro(n),e=Vi(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Vl(n,e){return ro(n),e=Vi(n,e),n.g.has(e)}function up(n,e,t){Li(n,e),0<t.length&&(n.i=null,n.g.set(Vi(n,e),zf(t)),n.h+=t.length)}function Vi(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ru(n){this.l=n||Fd,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ka&&Wt.g.Ka()&&Wt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=ws.prototype).add=function(n,e){ro(this),this.i=null,n=Vi(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){ro(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},wt.ta=function(){ro(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},wt.Z=function(n){ro(this);let e=[];if("string"==typeof n)Vl(this,n)&&(e=e.concat(this.g.get(Vi(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return ro(this),this.i=null,Vl(this,n=Vi(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var n,Fd=10;function iu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function su(n){return n.h?1:n.g?n.g.size:0}function Ul(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Bl(n,e){n.g?n.g.add(e):n.h=e}function ou(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function au(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return zf(n.i)}function Sb(){this.g=new class{stringify(n){return Wt.JSON.stringify(n,void 0)}parse(n){return Wt.JSON.parse(n,void 0)}}}function Ab(n,e,t){const r=t||"";try{lw(n,function(i,o){let c=i;$f(i)&&(c=ub(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ld(n){this.l=n.fc||null,this.j=n.ob||!1}function hp(n,e){ci.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ru.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ld.prototype.g=function(){return new hp(this.l,this.j)},Ld.prototype.i=(n={},function(){return n});var Ym=0;function dw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pp(n)}function pp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=hp.prototype).open=function(n,e){if(this.readyState!=Ym)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pp(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Wt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=Ym},wt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},wt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fp(this):pp(this),3==this.readyState&&dw(this)}},wt.Za=function(n){this.g&&(this.response=this.responseText=n,fp(this))},wt.Ya=function(n){this.g&&(this.response=n,fp(this))},wt.ka=function(){this.g&&fp(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var Mb=Wt.JSON.parse;function jr(n){ci.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pb,this.L=this.M=!1}var Pb="",hw=/^https?$/i,fw=["POST","PUT"];function gp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mp(n),Jm(n)}function mp(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function Qm(n){if(n.h&&typeof Ad<"u"&&(!n.C[1]||4!=Ls(n)||2!=n.da()))if(n.v&&4==Ls(n))tw(n.La,0,n);else if(ui(n,"readystatechange"),4==Ls(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(Wm)[1]||null;!i&&Wt.self&&Wt.self.location&&(i=Wt.self.location.protocol.slice(0,-1)),r=!hw.test(i?i.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var o=2<Ls(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",mp(n)}}finally{Jm(n)}}}function Jm(n,e){if(n.g){_p(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function _p(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Ls(n){return n.g?n.g.readyState:0}function pw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Pb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Xm(n){let e="";return Kf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function e_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Xm(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yr(n,e,t))}function Vd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function t_(n){this.Ga=0,this.j=[],this.l=new ip,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vd("baseRetryDelayMs",5e3,n),this.hb=Vd("retryDelaySeedMs",1e4,n),this.eb=Vd("forwardChannelMaxRetries",2,n),this.xa=Vd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ru(n&&n.concurrentRequestLimit),this.Ja=new Sb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function n_(n){if(gw(n),3==n.H){var e=n.W++,t=Ya(n.I);if(yr(t,"SID",n.K),yr(t,"RID",e),yr(t,"TYPE","terminate"),vp(n,t),(e=new nu(n,n.l,e)).L=2,e.v=Zm(Ya(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon)try{t=Wt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ka(e)}ww(n)}function r_(n){n.g&&(Ep(n),n.g.cancel(),n.g=null)}function gw(n){r_(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Cp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function yp(n){if(!iu(n.i)&&!n.m){n.m=!0;var e=n.Na;Md||pb(),tp||(Md(),tp=!0),fb.add(e,n),n.C=0}}function mw(n,e){var t;t=e?e.m:n.W++;const r=Ya(n.I);yr(r,"SID",n.K),yr(r,"RID",t),yr(r,"AID",n.V),vp(n,r),n.o&&n.s&&e_(r,n.o,n.s),t=new nu(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Rb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Bl(n.i,t),iw(t,r,e)}function vp(n,e){n.na&&Kf(n.na,function(t,r){yr(e,r,t)}),n.h&&lw({},function(t,r){yr(e,r,t)})}function Rb(n,e,t){t=Math.min(n.j.length,t);var r=n.h?rs(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let m=0;m<t;m++){let y=i[m].g;const b=i[m].map;if(y-=o,0>y)o=Math.max(0,i[m].g-100),h=!1;else try{Ab(b,c,"req"+y+"_")}catch{r&&r(b)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function kb(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Md||pb(),tp||(Md(),tp=!0),fb.add(e,n),n.A=0}}function wp(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ap(rs(n.Ma,n),vw(n,n.A)),n.A++,0))}function Ep(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function _w(n){n.g=new nu(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ya(n.wa);yr(e,"RID","rpc"),yr(e,"SID",n.K),yr(e,"AID",n.V),yr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&yr(e,"TO",n.qa),yr(e,"TYPE","xmlhttp"),vp(n,e),n.o&&n.s&&e_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Zm(Ya(e)),t.s=null,t.S=!0,Gm(t,n)}function Cp(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function yw(n,e){var t=null;if(n.g==e){Cp(n),Ep(n),n.g=null;var r=2}else{if(!Ul(n.i,e))return;t=e.F,ou(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ui(r=sp(),new Cb(r,t)),yp(n)}else kb(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Nb(n,e){return!(su(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ap(rs(n.Na,n,e),vw(n,n.C)),n.C++,0)))}(n,e)||2==r&&wp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:jl(n,5);break;case 4:jl(n,10);break;case 3:jl(n,6);break;default:jl(n,2)}}function vw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function jl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=rs(n.pb,n);t||(t=new Za("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||qm(t,"https"),Zm(t)),function xb(n,e){const t=new ip;if(Wt.Image){const r=new Image;r.onload=Hf(dp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hf(dp,t,r,"TestLoadImage: error",!1,e),r.onabort=Hf(dp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hf(dp,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fi(2);n.H=0,n.h&&n.h.za(e),ww(n),gw(n)}function ww(n){if(n.H=0,n.ma=[],n.h){const e=au(n.i);(0!=e.length||0!=n.j.length)&&(Am(n.ma,e),Am(n.ma,n.j),n.i.i.length=0,zf(n.j),n.j.length=0),n.h.ya()}}function Ew(n,e,t){var r=t instanceof Za?Ya(t):new Za(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Km(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Za(null);r&&qm(o,r),e&&(o.g=e),i&&Km(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&yr(r,t,e),yr(r,"VER",n.ra),vp(n,r),r}function Cw(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Ha&&!n.va?new Ld({ob:!0}):n.va)).Oa(n.J),e}function i_(){if(Wf&&!(10<=Number(C1)))throw Error("Environmental error: no available transport.")}function Vs(n,e){ci.call(this),this.g=new t_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Gf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tr(this)}function bw(n){jm.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Fb(){$m.call(this),this.status=1}function Tr(n){this.g=n}function Do(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Iw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function nr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(wt=jr.prototype).Oa=function(n){this.M=n},wt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=function RA(n){return n.h||(n.h=n.i())}(this.u?this.u:Hm),this.g.onreadystatechange=rs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void gp(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Wt.FormData&&n instanceof Wt.FormData,!(0<=Sm(fw,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_p(this),0<this.B&&((this.L=function $A(n){return Wf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.ua,this)):this.A=tw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){gp(this,o)}},wt.ua=function(){typeof Ad<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),Jm(this))},wt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jm(this,!0)),jr.$.N.call(this)},wt.La=function(){this.s||(this.G||this.v||this.l?Qm(this):this.kb())},wt.kb=function(){Qm(this)},wt.isActive=function(){return!!this.g},wt.da=function(){try{return 2<Ls(this)?this.g.status:-1}catch{return-1}},wt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Mb(e)}},wt.Ia=function(){return this.m},wt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=t_.prototype).ra=8,wt.H=1,wt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new nu(this,this.l,n);let o=this.s;if(this.U&&(o?(o=Nm(o),qa(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Rb(this,i,e),yr(t=Ya(this.I),"RID",n),yr(t,"CVER",22),this.F&&yr(t,"X-HTTP-Session-Id",this.F),vp(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Xm(o)))+"&"+e:this.o&&e_(t,this.o,o)),Bl(this.i,i),this.bb&&yr(t,"TYPE","init"),this.P?(yr(t,"$req",e),yr(t,"SID","null"),i.aa=!0,iw(i,t,null)):iw(i,t,e),this.H=2}}else 3==this.H&&(n?mw(this,n):0==this.j.length||iu(this.i)||mw(this))},wt.Ma=function(){if(this.u=null,_w(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ap(rs(this.jb,this),n)}},wt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fi(10),r_(this),_w(this))},wt.ib=function(){null!=this.v&&(this.v=null,r_(this),wp(this),Fi(19))},wt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fi(2)):(this.l.info("Failed to ping google.com"),Fi(1))},wt.isActive=function(){return!!this.h&&this.h.isActive(this)},(wt=function HA(){}.prototype).Ba=function(){},wt.Aa=function(){},wt.za=function(){},wt.ya=function(){},wt.isActive=function(){return!0},wt.Va=function(){},i_.prototype.g=function(n,e){return new Vs(n,e)},Vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Ew(n,null,n.Y),yp(n)},Vs.prototype.close=function(){n_(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ub(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yp(e)},Vs.prototype.N=function(){this.g.h=null,delete this.j,n_(this.g),delete this.g,Vs.$.N.call(this)},Tr.prototype.Ba=function(){ui(this.g,"a")},Tr.prototype.Aa=function(n){ui(this.g,new bw(n))},Tr.prototype.za=function(n){ui(this.g,new Fb)},Tr.prototype.ya=function(){ui(this.g,"b")},Do.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Do.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Iw(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Iw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Iw(this,r),i=0;break}}this.h=i,this.i+=e},Do.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var zA={};function s_(n){return-128<=n&&128>n?function E1(n,e){var t=zA;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|n],0>n?-1:0)}function So(n){if(isNaN(n)||!isFinite(n))return Ud;if(0>n)return vi(So(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Tw;return new nr(e,0)}var Tw=4294967296,Ud=s_(0),o_=s_(1),Vb=s_(16777216);function ua(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ao(n){return-1==n.h}function vi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nr(t,~n.h).add(o_)}function Bd(n,e){return n.add(vi(e))}function Us(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bp(n,e){this.g=n,this.h=e}function a_(n,e){if(ua(e))throw Error("division by zero");if(ua(n))return new bp(Ud,Ud);if(Ao(n))return e=a_(vi(n),e),new bp(vi(e.g),vi(e.h));if(Ao(e))return e=a_(n,vi(e)),new bp(vi(e.g),e.h);if(30<n.g.length){if(Ao(n)||Ao(e))throw Error("slowDivide_ only works with positive integers.");for(var t=o_,r=e;0>=r.X(n);)t=xo(t),r=xo(r);var i=Yi(t,1),o=Yi(r,1);for(r=Yi(r,2),t=Yi(t,2);!ua(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=Yi(r,1),t=Yi(t,1)}return e=Bd(n,i.R(e)),new bp(i,e)}for(i=Ud;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=So(t)).R(e);Ao(c)||0<c.X(n);)c=(o=So(t-=r)).R(e);ua(o)&&(o=o_),i=i.add(o),n=Bd(n,c)}return new bp(i,n)}function xo(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nr(t,n.h)}function Yi(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new nr(i,n.h)}(wt=nr.prototype).ea=function(){if(Ao(this))return-vi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Tw+r)*e,e*=Tw}return n},wt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ua(this))return"0";if(Ao(this))return"-"+vi(this).toString(n);for(var e=So(Math.pow(n,6)),t=this,r="";;){var i=a_(t,e).g,o=((0<(t=Bd(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ua(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},wt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},wt.X=function(n){return Ao(n=Bd(this,n))?-1:ua(n)?0:1},wt.abs=function(){return Ao(this)?vi(this):this},wt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new nr(t,-2147483648&t[t.length-1]?-1:0)},wt.R=function(n){if(ua(this)||ua(n))return Ud;if(Ao(this))return Ao(n)?vi(this).R(vi(n)):vi(vi(this).R(n));if(Ao(n))return vi(this.R(vi(n)));if(0>this.X(Vb)&&0>n.X(Vb))return So(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,Us(t,2*r+2*i),t[2*r+2*i+1]+=o*m,Us(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,Us(t,2*r+2*i+1),t[2*r+2*i+2]+=o*h,Us(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nr(t,0)},wt.gb=function(n){return a_(this,n).h},wt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nr(t,this.h&n.h)},wt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nr(t,this.h|n.h)},wt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nr(t,this.h^n.h)},i_.prototype.createWebChannel=i_.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,Vm.COMPLETE="complete",Um.EventType=Bm,Bm.OPEN="a",Bm.CLOSE="b",Bm.ERROR="c",Bm.MESSAGE="d",ci.prototype.listen=ci.prototype.O,jr.prototype.listenOnce=jr.prototype.P,jr.prototype.getLastError=jr.prototype.Sa,jr.prototype.getLastErrorCode=jr.prototype.Ia,jr.prototype.getStatus=jr.prototype.da,jr.prototype.getResponseJson=jr.prototype.Wa,jr.prototype.getResponseText=jr.prototype.ja,jr.prototype.send=jr.prototype.ha,jr.prototype.setWithCredentials=jr.prototype.Oa,Do.prototype.digest=Do.prototype.l,Do.prototype.reset=Do.prototype.reset,Do.prototype.update=Do.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=So,nr.fromString=function lu(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return vi(lu(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=So(Math.pow(e,8)),r=Ud,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=So(Math.pow(e,o)),r=r.R(o).add(So(c))):r=(r=r.R(t)).add(So(c))}return r};var Mo=to.createWebChannelTransport=function(){return new i_},Ub=to.getStatEventTarget=function(){return sp()},l_=to.ErrorCode=tu,GA=to.EventType=Vm,WA=to.Event=eu,Bb=to.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qA=to.FetchXmlHttpFactory=Ld,jd=to.WebChannel=Um,Ip=to.XhrIo=jr,KA=to.Md5=Do,cu=to.Integer=nr;class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let uu="9.23.0";const Po=new aa.Yd("@firebase/firestore");function Dw(){return Po.logLevel}function Ke(n,...e){if(Po.logLevel<=aa.in.DEBUG){const t=e.map(c_);Po.debug(`Firestore (${uu}): ${n}`,...t)}}function Rr(n,...e){if(Po.logLevel<=aa.in.ERROR){const t=e.map(c_);Po.error(`Firestore (${uu}): ${n}`,...t)}}function os(n,...e){if(Po.logLevel<=aa.in.WARN){const t=e.map(c_);Po.warn(`Firestore (${uu}): ${n}`,...t)}}function c_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function It(n="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+n;throw Rr(e),new Error(e)}function Lt(n,e){n||It()}function yt(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends re.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(di.UNAUTHENTICATED))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JA{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new JA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function tx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Wb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function gn(n,e){return n<e?-1:n>e?1:0}function $d(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Dr(0,0))}static max(){return new jt(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tp{constructor(e,t,r){void 0===t?t=0:t>e.length&&It(),void 0===r?r=e.length-t:r>e.length-t&&It(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Tp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends Tp{construct(e,t,r){return new Hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const Kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends Tp{construct(e,t,r){return new kr(e,t,r)}static isValidIdentifier(e){return Kb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new $e(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new $e(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new $e(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new $e(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Hn.fromString(e))}static fromName(e){return new pt(Hn.fromString(e).popFirst(5))}static empty(){return new pt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Hn(e.slice()))}}function Hl(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(jt.min(),pt.empty(),-1)}static max(){return new Bs(jt.max(),pt.empty(),-1)}}function Aw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pt.comparator(n.documentKey,e.documentKey),0!==t?t:gn(n.largestBatchId,e.largestBatchId))}const du="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function da(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,xe.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==du)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),Qb.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,o=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++o,c&&o===i&&t()},m=>r(m))}),c=!0,o===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const y=m;t(e[y]).next(b=>{c[y]=b,++h,h===o&&r(c)},b=>i(b))}})}static doWhile(e,t){return new ue((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function zl(n){return"IndexedDbTransactionError"===n.name}let so=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Gd(n){return null==n}function Wd(n){return 0===n&&1/n==-1/0}function hx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hr{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ji.RED,this.left=i??ji.EMPTY,this.right=o??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ji(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Es{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new Es([])}unionWith(e){let t=new vr(kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $d(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cI("Invalid base64 string: "+i):i}}(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=gx.exec(n);if(Lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hr(n.seconds),nanos:Hr(n.nanos)}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ja(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function Gl(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function p_(n){const e=n.mapValue.fields.__previous_value__;return Gl(e)?p_(e):e}function qd(n){const e=Qa(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class mx{constructor(e,t,r,i,o,c,h,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=y}}class Xa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}const Wl_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ql(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gl(n)?4:hI(n)?9007199254740991:10:It()}function oo(n,e){if(n===e)return!0;const t=ql(n);if(t!==ql(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qd(n).isEqual(qd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Qa(r.timestampValue),c=Qa(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ja(n.bytesValue).isEqual(Ja(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Hr(r.geoPointValue.latitude)===Hr(i.geoPointValue.latitude)&&Hr(r.geoPointValue.longitude)===Hr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hr(r.integerValue)===Hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Hr(r.doubleValue),c=Hr(i.doubleValue);return o===c?Wd(o)===Wd(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return $d(n.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(hx(o)!==hx(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!oo(o[h],c[h])))return!1;return!0}(n,e);default:return It()}var i}function Rp(n,e){return void 0!==(n.values||[]).find(t=>oo(t,e))}function el(n,e){if(n===e)return 0;const t=ql(n),r=ql(e);if(t!==r)return gn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Hr(i.integerValue||i.doubleValue),h=Hr(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Rw(n.timestampValue,e.timestampValue);case 4:return Rw(qd(n),qd(e));case 5:return gn(n.stringValue,e.stringValue);case 6:return function(i,o){const c=Ja(i),h=Ja(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),h=o.split("/");for(let m=0;m<c.length&&m<h.length;m++){const y=gn(c[m],h[m]);if(0!==y)return y}return gn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=gn(Hr(i.latitude),Hr(o.latitude));return 0!==c?c:gn(Hr(i.longitude),Hr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],h=o.values||[];for(let m=0;m<c.length&&m<h.length;++m){const y=el(c[m],h[m]);if(y)return y}return gn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Wl_mapValue&&o===Wl_mapValue)return 0;if(i===Wl_mapValue)return 1;if(o===Wl_mapValue)return-1;const c=i.fields||{},h=Object.keys(c),m=o.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let b=0;b<h.length&&b<y.length;++b){const T=gn(h[b],y[b]);if(0!==T)return T;const A=el(c[h[b]],m[y[b]]);if(0!==A)return A}return gn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw It()}}function Rw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gn(n,e);const t=Qa(n),r=Qa(e),i=gn(t.seconds,r.seconds);return 0!==i?i:gn(t.nanos,r.nanos)}function Kd(n){return kw(n)}function kw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Qa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ja(n.bytesValue).toBase64():"referenceValue"in n?pt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=kw(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${kw(r.fields[h])}`;return o+"}"}(n.mapValue):It();var e}function tl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fw(n){return!!n&&"integerValue"in n}function Zd(n){return!!n&&"arrayValue"in n}function uI(n){return!!n&&"nullValue"in n}function dI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function m_(n){return!!n&&"mapValue"in n}function kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!m_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kp(t)}setAll(e){let t=kr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=kp(c):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());m_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];m_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hu(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wi(kp(this.value))}}function pI(n){const e=[];return hu(n.fields,(t,r)=>{const i=new kr([t]);if(m_(r)){const o=pI(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Es(e)}class wr{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new wr(e,0,jt.min(),jt.min(),jt.min(),wi.empty(),0)}static newFoundDocument(e,t,r,i){return new wr(e,1,t,jt.min(),r,i,0)}static newNoDocument(e,t){return new wr(e,2,t,jt.min(),jt.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new wr(e,3,t,jt.min(),jt.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nl{constructor(e,t){this.position=e,this.inclusive=t}}function gI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?pt.comparator(pt.fromName(c.referenceValue),t.key):el(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function mI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oo(n.position[t],e.position[t]))return!1;return!0}class Yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class __{}class Pn extends __{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new D1(e,t,r):"array-contains"===t?new $w(e,r):"in"===t?new EI(e,r):"not-in"===t?new CI(e,r):"array-contains-any"===t?new Hw(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new vI(e,r):new jw(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(el(t,this.value)):null!==t&&ql(this.value)===ql(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qn extends __{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Qn(e,t)}matches(e){return Qd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qd(n){return"and"===n.op}function Fp(n){return function _I(n){for(const e of n.filters)if(e instanceof Qn)return!1;return!0}(n)&&Qd(n)}function y_(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+Kd(n.value);if(Fp(n))return n.filters.map(e=>y_(e)).join(",");{const e=n.filters.map(t=>y_(t)).join(",");return`${n.op}(${e})`}}function pu(n,e){return n instanceof Pn?(t=n,(r=e)instanceof Pn&&t.op===r.op&&t.field.isEqual(r.field)&&oo(t.value,r.value)):n instanceof Qn?function(t,r){return r instanceof Qn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&pu(o,r.filters[c]),!0)}(n,e):void It();var t,r}function yI(n){return n instanceof Pn?`${(e=n).field.canonicalString()} ${e.op} ${Kd(e.value)}`:n instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(yI).join(" ,")+"}"}(n):"Filter";var e}class D1 extends Pn{constructor(e,t,r){super(e,t,r),this.key=pt.fromName(r.referenceValue)}matches(e){const t=pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class vI extends Pn{constructor(e,t){super(e,"in",t),this.keys=wI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jw extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=wI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pt.fromName(r.referenceValue))}class $w extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Rp(t.arrayValue,this.value)}}class EI extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rp(this.value.arrayValue,t)}}class CI extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rp(this.value.arrayValue,t)}}class Hw extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rp(this.value.arrayValue,r))}}class bI{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function v_(n,e=null,t=[],r=[],i=null,o=null,c=null){return new bI(n,e,t,r,i,o,c)}function Kl(n){const e=yt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>y_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kd(r)).join(",")),e.dt=t}return e.dt}function Jd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vw(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pu(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mI(n.startAt,e.startAt)&&mI(n.endAt,e.endAt)}function w_(n){return pt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class pa{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function gu(n){return new pa(n)}function DI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function SI(n){return null!==n.collectionGroup}function mu(n){const e=yt(n);if(null===e.wt){e.wt=[];const t=Gw(e),r=zw(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Yd(t)),e.wt.push(new Yd(kr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yd(kr.keyField(),o))}}}return e.wt}function as(n){const e=yt(n);if(!e._t)if("F"===e.limitType)e._t=v_(e.path,e.collectionGroup,mu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of mu(e))t.push(new Yd(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new nl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nl(e.startAt.position,e.startAt.inclusive):null;e._t=v_(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function C_(n,e){e.getFirstInequalityField(),Gw(n);const t=n.filters.concat([e]);return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b_(n,e,t){return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return Jd(as(n),as(e))&&n.limitType===e.limitType}function AI(n){return`${Kl(as(n))}|lt:${n.limitType}`}function Ww(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>yI(r)).join(", ")}]`),Gd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kd(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kd(r)).join(",")),`Target(${t})`}(as(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):pt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of mu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const h=gI(i,o,c);return i.inclusive?h<=0:h<0}(t.startAt,mu(t),r)||t.endAt&&!function(i,o,c){const h=gI(i,o,c);return i.inclusive?h>=0:h>0}(t.endAt,mu(t),r)));var t,r}function MI(n){return(e,t)=>{let r=!1;for(const i of mu(n)){const o=wx(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function wx(n,e,t){const r=n.field.isKeyField()?pt.comparator(e.key,t.key):function(i,o,c){const h=o.data.field(i),m=c.data.field(i);return null!==h&&null!==m?el(h,m):It()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return It()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fx(this.inner)}size(){return this.innerSize}}const Up=new hr(pt.comparator);function ls(){return Up}const qw=new hr(pt.comparator);function Xd(...n){let e=qw;for(const t of n)e=e.insert(t.key,t);return e}function Kw(n){let e=qw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function No(){return Bp()}function Zw(){return Bp()}function Bp(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const S1=new hr(pt.comparator),PI=new vr(pt.comparator);function Cn(...n){let e=PI;for(const t of n)e=e.add(t);return e}const Ex=new vr(gn);function OI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function eh(n){return{integerValue:""+n}}function NI(n,e){return function Xb(n){return"number"==typeof n&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?eh(e):OI(n,e)}class th{constructor(){this._=void 0}}function ga(n,e,t){return n instanceof ma?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Gl(i)&&(i=p_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof _u?RI(n,e):n instanceof yu?jp(n,e):function(r,i){const o=I_(r,i),c=kI(o)+kI(r.gt);return Fw(o)&&Fw(r.gt)?eh(c):OI(r.serializer,c)}(n,e)}function Cx(n,e,t){return n instanceof _u?RI(n,e):n instanceof yu?jp(n,e):t}function I_(n,e){return n instanceof il?Fw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ma extends th{}class _u extends th{constructor(e){super(),this.elements=e}}function RI(n,e){const t=FI(e);for(const r of n.elements)t.some(i=>oo(i,r))||t.push(r);return{arrayValue:{values:t}}}class yu extends th{constructor(e){super(),this.elements=e}}function jp(n,e){let t=FI(e);for(const r of n.elements)t=t.filter(i=>!oo(i,r));return{arrayValue:{values:t}}}class il extends th{constructor(e,t){super(),this.serializer=e,this.gt=t}}function kI(n){return Hr(n.integerValue||n.doubleValue)}function FI(n){return Zd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qw{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function T_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class D_{}function bx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wu(n.key,Er.none()):new Zl(n.key,n.data,Er.none());{const t=n.data,r=wi.empty();let i=new vr(kr.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new sl(n.key,r,new Es(i.toArray()),Er.none())}}function Jw(n,e,t){n instanceof Zl?function(r,i,o){const c=r.value.clone(),h=BI(r.fieldTransforms,i,o.transformResults);c.setAll(h),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof sl?function(r,i,o){if(!T_(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=BI(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(UI(r)),h.setAll(c),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vu(n,e,t,r){return n instanceof Zl?function(i,o,c,h){if(!T_(i.precondition,o))return c;const m=i.value.clone(),y=jI(i.fieldTransforms,h,o);return m.setAll(y),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof sl?function(i,o,c,h){if(!T_(i.precondition,o))return c;const m=jI(i.fieldTransforms,h,o),y=o.data;return y.setAll(UI(i)),y.setAll(m),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(c=t,T_(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function VI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=I_(r.transform,i||null);null!=o&&(null===t&&(t=wi.empty()),t.set(r.field,o))}return t||null}function S_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&$d(t,r,(i,o)=>function LI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _u&&r instanceof _u||t instanceof yu&&r instanceof yu?$d(t.elements,r.elements,oo):t instanceof il&&r instanceof il?oo(t.gt,r.gt):t instanceof ma&&r instanceof ma);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Zl extends D_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sl extends D_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BI(n,e,t){const r=new Map;Lt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,Cx(c,h,t[i]))}return r}function jI(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,ga(o,c,e))}return r}class wu extends D_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $p extends D_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class A_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Jw(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Zw();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const m=bx(c,h);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&$d(this.mutations,e.mutations,(t,r)=>S_(t,r))&&$d(this.baseMutations,e.baseMutations,(t,r)=>S_(t,r))}}class x_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Lt(e.mutations.length===r.length);let i=S1;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new x_(e,t,r,i)}}class M_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ix{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,Un;function HI(n){switch(n){default:return It();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function Xw(n){if(void 0===n)return Rr("GRPC error has no .code"),we.UNKNOWN;switch(n){case Jr.OK:return we.OK;case Jr.CANCELLED:return we.CANCELLED;case Jr.UNKNOWN:return we.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return we.INTERNAL;case Jr.UNAVAILABLE:return we.UNAVAILABLE;case Jr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Jr.NOT_FOUND:return we.NOT_FOUND;case Jr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Jr.ABORTED:return we.ABORTED;case Jr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Jr.DATA_LOSS:return we.DATA_LOSS;default:return It()}}(Un=Jr||(Jr={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";class e0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ei}static getOrCreateInstance(){return null===Ei&&(Ei=new e0),Ei}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ei=null;const Tx=new cu([4294967295,4294967295],0);function zI(n){const e=function Eu(){return new TextEncoder}().encode(n),t=new KA;return t.update(e),new Uint8Array(t.digest())}function Dx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cu([t,r],0),new cu([i,o],0)]}class GI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rh(`Invalid padding: ${t}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new rh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(cu.fromNumber(r)));return 1===i.compare(Tx)&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zI(e),[r,i]=Dx(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new GI(o,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=zI(e),[r,i]=Dx(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ih{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ih(jt.min(),i,new hr(gn),ls(),Cn())}}class ol{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ol(r,t,Cn(),Cn(),Cn())}}class P_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class O_{constructor(e,t){this.targetId=e,this.Vt=t}}class WI{constructor(e,t,r=hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class t0{constructor(){this.St=0,this.Dt=KI(),this.Ct=hi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cn(),t=Cn(),r=Cn();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:It()}}),new ol(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=KI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ls(),this.zt=qI(),this.Wt=new hr(gn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:It()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const c=o.target;if(w_(c))if(0===i){const h=new pt(c.path);this.Yt(r,h,wr.newNoDocument(h,jt.min()))}else Lt(1===i);else{const h=this.ie(r);if(h!==i){const m=this.re(e,h);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=e0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,b,T){var A,F,H,ie,pe,ze;const gt={localCacheCount:b,existenceFilterCount:T.count},Et=T.unchangedNames;return Et&&(gt.bloomFilter={applied:0===y,hashCount:null!==(A=Et?.hashCount)&&void 0!==A?A:0,bitmapLength:null!==(ie=null===(H=null===(F=Et?.bits)||void 0===F?void 0:F.bitmap)||void 0===H?void 0:H.length)&&void 0!==ie?ie:0,padding:null!==(ze=null===(pe=Et?.bits)||void 0===pe?void 0:pe.padding)&&void 0!==ze?ze:0}),gt}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=r;let m,y;try{m=Ja(o).toUint8Array()}catch(b){if(b instanceof cI)return os("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{y=new GI(m,c,h)}catch(b){return os(b instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===y.It?1:i!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&w_(h.target)){const m=new pt(h.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,wr.newNoDocument(m,e))}o.Mt&&(t.set(c,o.Ot()),o.Ft())}});let r=Cn();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(m=>{const y=this.se(m);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(e));const i=new ih(e,t,this.Wt,this.jt,r);return this.jt=ls(),this.zt=qI(),this.Wt=new hr(gn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new t0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new vr(gn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new t0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function qI(){return new hr(pt.comparator)}function KI(){return new hr(pt.comparator)}const n0=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),YI=(()=>({and:"AND",or:"OR"}))();class N_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hp(n,e){return n.useProto3Json||Gd(e)?e:{value:e}}function zp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ax(n,e){return zp(n,e.toTimestamp())}function zr(n){return Lt(!!n),jt.fromTimestamp(function(e){const t=Qa(e);return new Dr(t.seconds,t.nanos)}(n))}function Yl(n,e){return(t=n,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function QI(n){const e=Hn.fromString(n);return Lt(Px(e)),e}function sh(n,e){return Yl(n.databaseId,e.path)}function ao(n,e){const t=QI(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pt(eT(t))}function JI(n,e){return Yl(n.databaseId,e)}function R_(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eT(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tT(n,e,t){return{name:sh(n,e),fields:t.value.mapValue.fields}}function oT(n,e){return{documents:[JI(n,e.path)]}}function s0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return Mx(Qn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(m){if(0!==m.length)return m.map(y=>{return{field:Ql((b=y).field),direction:aT(b.dir)};var b})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=Hp(n,e.limit);var h,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function o0(n){let e=function XI(n){const e=QI(n);return 4===e.length?Hn.emptyPath():eT(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Lt(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=function(b){const T=a0(b);return T instanceof Qn&&Fp(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new Yd(oh((T=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(b){let T;return T="object"==typeof b?b.value:b,Gd(T)?null:T}(t.limit));let m=null;var b;t.startAt&&(m=new nl((b=t.startAt).values||[],!!b.before));let y=null;return t.endAt&&(y=function(b){return new nl(b.values||[],!b.before)}(t.endAt)),function vx(n,e,t,r,i,o,c,h){return new pa(n,e,t,r,i,o,c,h)}(e,i,c,o,h,"F",m,y)}function a0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=oh(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=oh(e.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oh(e.unaryFilter.field);return Pn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oh(e.unaryFilter.field);return Pn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(n):void 0!==n.fieldFilter?Pn.create(oh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Qn.create(e.compositeFilter.filters.map(t=>a0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return It()}}(e.compositeFilter.op))}(n):It();var e}function aT(n){return n0[n]}function lT(n){return ZI[n]}function cT(n){return YI[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function oh(n){return kr.fromServerFormat(n.fieldPath)}function Mx(n){return n instanceof Pn?function(e){if("=="===e.op){if(dI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(uI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(uI(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:lT(e.op),value:e.value}}}(n):n instanceof Qn?function(e){const t=e.getFilters().map(r=>Mx(r));return 1===t.length?t[0]:{compositeFilter:{op:cT(e.op),filters:t}}}(n):It()}function uT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Px(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Jl{constructor(e,t,r,i,o=jt.min(),c=jt.min(),h=hi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ox{constructor(e){this.fe=e}}function ch(n){const e=o0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b_(e,e.limit,"L"):e}class Cu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Hr(e.integerValue));else if("doubleValue"in e){const r=Hr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Wd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ja(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?hI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):It()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),pt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cu.Ve=new Cu;class lo{constructor(){this.rn=new p0}addToCollectionParentIndex(e,t){return this.rn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Bs.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class p0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vr(Hn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vr(Hn.comparator)).toArray()}}class $i{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class us{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new us(0)}static Mn(){return new us(-1)}}class wT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ET{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&vu(r.mutation,i,Es.empty(),Dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Cn()){const i=No();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=Xd();return o.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=No();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let o=ls();const c=Bp(),h=Bp();return t.forEach((m,y)=>{const b=r.get(y.key);i.has(y.key)&&(void 0===b||b.mutation instanceof sl)?o=o.insert(y.key,y):void 0!==b?(c.set(y.key,b.mutation.getFieldMask()),vu(b.mutation,y,b.mutation.getFieldMask(),Dr.now())):c.set(y.key,Es.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((y,b)=>c.set(y,b)),t.forEach((y,b)=>{var T;return h.set(y,new wT(b,null!==(T=c.get(y))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Bp();let i=new hr((c,h)=>c-h),o=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const y=t.get(m);if(null===y)return;let b=r.get(m)||Es.empty();b=h.applyToLocalView(y,b),r.set(m,b);const T=(i.get(h.batchId)||Cn()).add(m);i=i.insert(h.batchId,T)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),y=m.key,b=m.value,T=Zw();b.forEach(A=>{if(!o.has(A)){const F=bx(t.get(A),r.get(A));null!==F&&T.set(A,F),o=o.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ue.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return pt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):SI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ue.resolve(No());let h=-1,m=o;return c.next(y=>ue.forEach(y,(b,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),o.get(b)?ue.resolve():this.remoteDocumentCache.getEntry(e,b).next(A=>{m=m.insert(b,A)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,m,y,Cn())).next(b=>({batchId:h,changes:Kw(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pt(t)).next(r=>{let i=Xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Xd();return this.indexManager.getCollectionParents(e,i).next(c=>ue.forEach(c,h=>{const m=(y=t,b=h.child(i),new pa(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,b;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(y=>{y.forEach((b,T)=>{o=o.insert(b,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((h,m)=>{const y=m.getKey();null===o.get(y)&&(o=o.insert(y,wr.newInvalidDocument(y)))});let c=Xd();return o.forEach((h,m)=>{const y=i.get(h);void 0!==y&&vu(y.mutation,m,Es.empty(),Dr.now()),Vp(t,m)&&(c=c.insert(h,m))}),c})}}class CT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:zr(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:ch(r.bundledQuery),readTime:zr(r.readTime)}),ue.resolve();var r}}class bT{constructor(){this.overlays=new hr(pt.comparator),this.ls=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=No();return ue.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=No(),o=t.length+1,c=new pt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new hr((y,b)=>y-b);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let b=o.get(y.largestBatchId);null===b&&(b=No(),o=o.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const h=No(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,b)=>h.set(y,b)),!(h.size()>=i)););return ue.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new M_(t,r));let o=this.ls.get(t);void 0===o&&(o=Cn(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class E0{constructor(){this.fs=new vr(Ci.ds),this.ws=new vr(Ci._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ci(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new pt(new Hn([])),r=new Ci(t,e),i=new Ci(t,e+1),o=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pt(new Hn([])),r=new Ci(t,e),i=new Ci(t,e+1);let o=Cn();return this.ws.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Ci(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pt.comparator(e.key,t.key)||gn(e.As,t.As)}static _s(e,t){return gn(e.As,t.As)||pt.comparator(e.key,t.key)}}class P1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new vr(Ci.ds)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const c=new A_(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new Ci(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);o.push(h)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vr(gn);return t.forEach(i=>{const o=new Ci(i,0),c=new Ci(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{r=r.add(h.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;pt.isDocumentKey(o)||(o=o.child(""));const c=new Ci(new pt(o),0);let h=new vr(gn);return this.Rs.forEachWhile(m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(m.As)),!0)},c),ue.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(t.mutations,i=>{const o=new Ci(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ci(t,0),i=this.Rs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class O1{constructor(e){this.Ds=e,this.docs=new hr(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wr.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ls();const c=t.path,h=new pt(c.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:y,value:{document:b}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||Aw(Hl(b),r)<=0||(i.has(b.key)||Vp(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,t,r,i){It()}Cs(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IT(this)}getSize(e){return ue.resolve(this.size)}}class IT extends class Gx{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wx{constructor(e){this.persistence=e,this.xs=new rl(t=>Kl(t),Jd),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new E0,this.targetCount=0,this.Ms=us.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new us(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Fn(t),ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ue.waitFor(o).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),ue.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.ks.containsKey(t))}}class C0{constructor(e,t){this.$s={},this.overlays={},this.Os=new so(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wx(this),this.indexManager=new lo,this.remoteDocumentCache=new O1(r=>this.referenceDelegate.Ls(r)),this.serializer=new Ox(t),this.qs=new CT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new P1(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new qx(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class qx extends class nx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class b0{constructor(e){this.persistence=e,this.Qs=new E0,this.js=null}static zs(e){return new b0(e)}get Ws(){if(this.js)return this.js;throw It()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const i=pt.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,jt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ue.or([()=>ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Z_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Cn(),i=Cn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Z_(e,t.fromCache,r,i)}}class rc{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(DI(t))return ue.resolve(null);let r=as(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=b_(t,null,"F"),r=as(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Cn(...o);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(m=>{const y=this.ji(t,h);return this.zi(t,y,c,m.readTime)?this.Ki(e,b_(t,null,"F")):this.Wi(e,y,t,m)}))})))}Gi(e,t,r,i){return DI(t)||i.isEqual(jt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const c=this.ji(t,o);return this.zi(t,c,r,i)?this.Qi(e,t):(Dw()<=aa.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ww(t)),this.Wi(e,c,t,function Sw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(1e9===r?new Dr(t+1,0):new Dr(t,r));return new Bs(i,pt.empty(),e)}(i,-1)))})}ji(e,t){let r=new vr(MI(e));return t.forEach((i,o)=>{Vp(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return Dw()<=aa.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Ww(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class DT{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new hr(gn),this.Yi=new rl(o=>Kl(o),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ET(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Q_(n,e){return S0.apply(this,arguments)}function S0(){return S0=(0,xe.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let m=Cn();for(const y of i){c.push(y.batchId);for(const b of y.mutations)m=m.add(b.key)}for(const y of o){h.push(y.batchId);for(const b of y.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(r,m).next(y=>({er:y,removedBatchIds:c,addedBatchIds:h}))})})}),S0.apply(this,arguments)}function A0(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,y){const b=m.batch,T=b.keys();let A=ue.resolve();return T.forEach(F=>{A=A.next(()=>y.getEntry(h,F)).next(H=>{const ie=m.docVersions.get(F);Lt(null!==ie),H.version.compareTo(ie)<0&&(b.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),y.addEntry(H)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Cn();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function J_(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function X_(n,e){const t=yt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;h.push(t.Bs.removeMatchingKeys(o,b.removedDocuments,T).next(()=>t.Bs.addMatchingKeys(o,b.addedDocuments,T)));let F=A.withSequenceNumber(o.currentSequenceNumber);var H,ie,pe;null!==e.targetMismatches.get(T)?F=F.withResumeToken(hi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(T,F),ie=F,pe=b,(0===(H=A).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,F))});let m=ls(),y=Cn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))}),h.push(function Zx(n,e,t){let r=Cn(),i=Cn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=ls();return t.forEach((h,m)=>{const y=o.get(h);m.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(jt.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Ke("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",m.version)}),{nr:c,sr:i}})}(o,c,e.documentUpdates).next(b=>{m=b.nr,y=b.sr})),!r.isEqual(jt.min())){const b=t.Bs.getLastRemoteSnapshotVersion(o).next(T=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(b)}return ue.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,y)).next(()=>m)}).then(o=>(t.Ji=i,o))}function R1(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xp(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,ue.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Jl(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function eg(n,e,t){return ey.apply(this,arguments)}function ey(){return ey=(0,xe.Z)(function*(n,e,t){const r=yt(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!zl(c))throw c;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),ey.apply(this,arguments)}function ty(n,e,t){const r=yt(n);let i=jt.min(),o=Cn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,m,y){const b=yt(h),T=b.Yi.get(y);return void 0!==T?ue.resolve(b.Ji.get(T)):b.Bs.getTargetData(m,y)}(r,c,as(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{o=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:jt.min(),t?o:Cn())).next(h=>(function xT(n,e,t){let r=n.Xi.get(e)||jt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}(r,function xI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,ir:o})))}class N0{constructor(){this.activeTargetIds=function Yw(){return Ex}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yx{constructor(){this.Hr=new N0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new N0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qx{Yr(e){}shutdown(){}}class RT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ry=null;function kT(){return null===ry?ry=268435456+Math.round(2147483648*Math.random()):ry++,"0x"+ry.toString(16)}const k1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ds="WebChannelConnection";class L1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const c=kT(),h=this.To(e,t);Ke("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const m={};return this.Eo(m,i,o),this.Ao(e,h,m,r).then(y=>(Ke("RestConnection",`Received RPC '${e}' ${c}: `,y),y),y=>{throw os("RestConnection",`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",r),y})}vo(e,t,r,i,o,c){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${k1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=kT();return new Promise((c,h)=>{const m=new Ip;m.setWithCredentials(!0),m.listenOnce(GA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case l_.NO_ERROR:const b=m.getResponseJson();Ke(ds,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(b)),c(b);break;case l_.TIMEOUT:Ke(ds,`RPC '${e}' ${o} timed out`),h(new $e(we.DEADLINE_EXCEEDED,"Request time out"));break;case l_.HTTP_ERROR:const T=m.getStatus();if(Ke(ds,`RPC '${e}' ${o} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const F=A?.error;if(F&&F.status&&F.message){const H=function(ie){const pe=ie.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(pe)>=0?pe:we.UNKNOWN}(F.status);h(new $e(H,F.message))}else h(new $e(we.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new $e(we.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{Ke(ds,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(i);Ke(ds,`RPC '${e}' ${o} sending request:`,i),m.send(t,"POST",y,r,15)})}Ro(e,t,r){const i=kT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Mo(),h=Ub(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.xmlHttpFactory=new qA({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=o.join("");Ke(ds,`Creating RPC '${e}' stream ${i}: ${b}`,m);const T=c.createWebChannel(b,m);let A=!1,F=!1;const H=new F1({ro:pe=>{F?Ke(ds,`Not sending because RPC '${e}' stream ${i} is closed:`,pe):(A||(Ke(ds,`Opening RPC '${e}' stream ${i} transport.`),T.open(),A=!0),Ke(ds,`RPC '${e}' stream ${i} sending:`,pe),T.send(pe))},oo:()=>T.close()}),ie=(pe,ze,gt)=>{pe.listen(ze,Et=>{try{gt(Et)}catch(At){setTimeout(()=>{throw At},0)}})};return ie(T,jd.EventType.OPEN,()=>{F||Ke(ds,`RPC '${e}' stream ${i} transport opened.`)}),ie(T,jd.EventType.CLOSE,()=>{F||(F=!0,Ke(ds,`RPC '${e}' stream ${i} transport closed`),H.wo())}),ie(T,jd.EventType.ERROR,pe=>{F||(F=!0,os(ds,`RPC '${e}' stream ${i} transport errored:`,pe),H.wo(new $e(we.UNAVAILABLE,"The operation could not be completed")))}),ie(T,jd.EventType.MESSAGE,pe=>{var ze;if(!F){const gt=pe.data[0];Lt(!!gt);const Et=gt,At=Et.error||(null===(ze=Et[0])||void 0===ze?void 0:ze.error);if(At){Ke(ds,`RPC '${e}' stream ${i} received error:`,At);const _n=At.status;let yn=function(ps){const ba=Jr[ps];if(void 0!==ba)return Xw(ba)}(_n),ir=At.message;void 0===yn&&(yn=we.INTERNAL,ir="Unknown error status: "+_n+" with message "+At.message),F=!0,H.wo(new $e(yn,ir)),T.close()}else Ke(ds,`RPC '${e}' stream ${i} received:`,gt),H._o(gt)}}),ie(h,WA.STAT_EVENT,pe=>{pe.stat===Bb.PROXY?Ke(ds,`RPC '${e}' stream ${i} detected buffering proxy`):pe.stat===Bb.NOPROXY&&Ke(ds,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{H.fo()},0),H}}function R0(){return typeof document<"u"?document:null}function iy(n){return new N_(n,!0)}class LT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Jx{constructor(e,t,r,i,o,c,h,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new LT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,xe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===we.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new $e(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,xe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V1 extends Jx{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function iT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:It(),i=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Lt(void 0===y||"string"==typeof y),hi.fromBase64String(y||"")):(Lt(void 0===y||y instanceof Uint8Array),hi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=void 0===m.code?we.UNKNOWN:Xw(m.code);return new $e(y,m.message||"")}(c);t=new WI(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=ao(n,r.document.name),o=zr(r.document.updateTime),c=r.document.createTime?zr(r.document.createTime):jt.min(),h=new wi({mapValue:{fields:r.document.fields}}),m=wr.newFoundDocument(i,o,c,h);t=new P_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=ao(n,r.document),o=r.readTime?zr(r.readTime):jt.min(),c=wr.newNoDocument(i,o);t=new P_([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ao(n,r.document);t=new P_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return It();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new Ix(i,o);t=new O_(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return jt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?jt.min():o.readTime?zr(o.readTime):jt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=R_(this.serializer),t.addTarget=function(i,o){let c;const h=o.target;if(c=w_(h)?{documents:oT(i,h)}:{query:s0(i,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=r0(i,o.resumeToken);const m=Hp(i,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(jt.min())>0){c.readTime=zp(i,o.snapshotVersion.toTimestamp());const m=Hp(i,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function xx(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=R_(this.serializer),t.removeTarget=e,this.Wo(t)}}class U1 extends Jx{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function sT(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(r,i){let o=zr(r.updateTime?r.updateTime:i);return o.isEqual(jt.min())&&(o=zr(i)),new Qw(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.cu(r,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=R_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Gp(n,e){let t;if(e instanceof Zl)t={update:tT(n,e.key,e.value)};else if(e instanceof wu)t={delete:sh(n,e.key)};else if(e instanceof sl)t={update:tT(n,e.key,e.data),updateMask:uT(e.fieldMask)};else{if(!(e instanceof $p))return It();t={verify:sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof ma)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _u)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof il)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw It()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ax(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:It()),t;var i}(this.serializer,r))};this.Wo(t)}}class s extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(we.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(we.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class d{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Rr(t),this.mu=!1):Ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class f{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{r.enqueueAndForget((0,xe.Z)(function*(){var m;Ye(c)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,xe.Z)(function*(y){const b=yt(y);b.vu.add(4),yield C(b),b.bu.set("Unknown"),b.vu.delete(4),yield g(b)}),function(y){return m.apply(this,arguments)})(c))}))}),this.bu=new d(r,i)}}function g(n){return v.apply(this,arguments)}function v(){return v=(0,xe.Z)(function*(n){if(Ye(n))for(const e of n.Ru)yield e(!0)}),v.apply(this,arguments)}function C(n){return I.apply(this,arguments)}function I(){return I=(0,xe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),I.apply(this,arguments)}function D(n,e){const t=yt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ve(t)?ce(t):ly(t).Ko()&&V(t,e))}function M(n,e){const t=yt(n),r=ly(t);t.Au.delete(e),r.Ko()&&J(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ye(t)&&t.bu.set("Unknown"))}function V(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ly(n).su(e)}function J(n,e){n.Vu.qt(e),ly(n).iu(e)}function ce(n){n.Vu=new Sx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ly(n).start(),n.bu.gu()}function Ve(n){return Ye(n)&&!ly(n).Uo()&&n.Au.size>0}function Ye(n){return 0===yt(n).vu.size}function ht(n){n.Vu=void 0}function Ot(n){return zt.apply(this,arguments)}function zt(){return zt=(0,xe.Z)(function*(n){n.Au.forEach((e,t)=>{V(n,e)})}),zt.apply(this,arguments)}function He(n,e){return en.apply(this,arguments)}function en(){return en=(0,xe.Z)(function*(n,e){ht(n),Ve(n)?(n.bu.Iu(e),ce(n)):n.bu.set("Unknown")}),en.apply(this,arguments)}function Jn(n,e,t){return gr.apply(this,arguments)}function gr(){return gr=(0,xe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof WI&&2===e.state&&e.cause)try{yield(r=(0,xe.Z)(function*(i,o){const c=o.cause;for(const h of o.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ya(n,r)}else if(e instanceof P_?n.Vu.Ht(e):e instanceof O_?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(jt.min()))try{const r=yield J_(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.Vu.ce(o);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=i.Au.get(m);y&&i.Au.set(m,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,m)=>{const y=i.Au.get(h);if(!y)return;i.Au.set(h,y.withResumeToken(hi.EMPTY_BYTE_STRING,y.snapshotVersion)),J(i,h);const b=new Jl(y.target,h,m,y.sequenceNumber);V(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield ya(n,r)}var r}),gr.apply(this,arguments)}function ya(n,e,t){return ng.apply(this,arguments)}function ng(){return ng=(0,xe.Z)(function*(n,e,t){if(!zl(e))throw e;n.vu.add(1),yield C(n),n.bu.set("Offline"),t||(t=()=>J_(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield g(n)}))}),ng.apply(this,arguments)}function sy(n,e){return e().catch(t=>ya(n,t,e))}function ic(n){return rg.apply(this,arguments)}function rg(){return rg=(0,xe.Z)(function*(n){const e=yt(n),t=mh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;k0(e);)try{const i=yield R1(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,F0(e,i)}catch(i){yield ya(e,i)}oy(e)&&ay(e)}),rg.apply(this,arguments)}function k0(n){return Ye(n)&&n.Eu.length<10}function F0(n,e){n.Eu.push(e);const t=mh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function oy(n){return Ye(n)&&!mh(n).Uo()&&n.Eu.length>0}function ay(n){mh(n).start()}function L0(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,xe.Z)(function*(n){mh(n).hu()}),Xx.apply(this,arguments)}function eU(n){return eM.apply(this,arguments)}function eM(){return eM=(0,xe.Z)(function*(n){const e=mh(n);for(const t of n.Eu)e.uu(t.mutations)}),eM.apply(this,arguments)}function tU(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,xe.Z)(function*(n,e,t){const r=n.Eu.shift(),i=x_.from(r,e,t);yield sy(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ic(n)}),tM.apply(this,arguments)}function nU(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,xe.Z)(function*(n,e){var t;e&&mh(n).ou&&(yield(t=(0,xe.Z)(function*(r,i){if(HI(o=i.code)&&o!==we.ABORTED){const c=r.Eu.shift();mh(r).Qo(),yield sy(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield ic(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),oy(n)&&ay(n)}),nM.apply(this,arguments)}function B1(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,xe.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=Ye(t);t.vu.add(3),yield C(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield g(t)}),rM.apply(this,arguments)}function sM(){return sM=(0,xe.Z)(function*(n,e){const t=yt(n);e?(t.vu.delete(2),yield g(t)):e||(t.vu.add(2),yield C(t),t.bu.set("Unknown"))}),sM.apply(this,arguments)}function ly(n){return n.Su||(n.Su=function(e,t,r){const i=yt(e);return i.fu(),new V1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Ot.bind(null,n),ao:He.bind(null,n),nu:Jn.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Su.Qo(),Ve(n)?ce(n):n.bu.set("Unknown")):(yield n.Su.stop(),ht(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function mh(n){return n.Du||(n.Du=function(e,t,r){const i=yt(e);return i.fu(),new U1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:L0.bind(null,n),ao:nU.bind(null,n),au:eU.bind(null,n),cu:tU.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Du.Qo(),yield ic(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class oM{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new oM(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(Rr("AsyncQueue",`${e}: ${n}`),zl(n))return new $e(we.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pt.comparator(t.key,r.key):(t,r)=>pt.comparator(t.key,r.key),this.keyedMap=Xd(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class j1{constructor(){this.Cu=new hr(pt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):It():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dy{constructor(e,t,r,i,o,c,h,m,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new dy(e,t,uy.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rU{constructor(){this.Nu=void 0,this.listeners=[]}}class iU{constructor(){this.queries=new rl(e=>AI(e),Lp),this.onlineState="Unknown",this.ku=new Set}}function aM(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,xe.Z)(function*(n,e){const t=yt(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new rU),i)try{o.Nu=yield t.onListen(r)}catch(c){const h=cy(c,`Initialization of query '${Ww(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&dM(t)}),lM.apply(this,arguments)}function cM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,xe.Z)(function*(n,e){const t=yt(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),uM.apply(this,arguments)}function sU(n,e){const t=yt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&dM(t)}function oU(n,e,t){const r=yt(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function dM(n){n.ku.forEach(e=>{e.next()})}class hM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class z1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class W1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cn(),this.mutatedKeys=Cn(),this.tc=MI(e),this.ec=new uy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new j1,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,T)=>{const A=i.get(b),F=Vp(this.query,T)?T:null,H=!!A&&this.mutatedKeys.has(A.key),ie=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let pe=!1;A&&F?A.data.isEqual(F.data)?H!==ie&&(r.track({type:3,doc:F}),pe=!0):this.rc(A,F)||(r.track({type:2,doc:F}),pe=!0,(m&&this.tc(F,m)>0||y&&this.tc(F,y)<0)&&(h=!0)):!A&&F?(r.track({type:0,doc:F}),pe=!0):A&&!F&&(r.track({type:1,doc:A}),pe=!0,(m||y)&&(h=!0)),pe&&(F?(c=c.add(F),o=ie?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),r.track({type:1,doc:b})}return{ec:c,ic:r,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((y,b)=>function(T,A){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return F(T)-F(A)}(y.type,b.type)||this.tc(y.doc,b.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==o.length||m?{snapshot:new dy(this.query,e.ec,i,o,e.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new j1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new G1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new z1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Cn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uU{constructor(e){this.key=e,this.fc=!1}}class dU{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new rl(h=>AI(h),Lp),this._c=new Map,this.mc=new Set,this.gc=new hr(pt.comparator),this.yc=new Map,this.Ic=new E0,this.Tc={},this.Ec=new Map,this.Ac=us.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hU(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,xe.Z)(function*(n,e){const t=FM(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const c=yield Xp(t.localStore,as(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield pM(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&D(t.remoteStore,c)}return i}),fM.apply(this,arguments)}function pM(n,e,t,r,i){return gM.apply(this,arguments)}function gM(){return gM=(0,xe.Z)(function*(n,e,t,r,i){n.Rc=(T,A,F)=>{return(H=(0,xe.Z)(function*(ie,pe,ze,gt){let Et=pe.view.sc(ze);Et.zi&&(Et=yield ty(ie.localStore,pe.query,!1).then(({documents:yn})=>pe.view.sc(yn,Et)));const At=gt&&gt.targetChanges.get(pe.targetId),_n=pe.view.applyChanges(Et,ie.isPrimaryClient,At);return TM(ie,pe.targetId,_n.cc),_n.snapshot}),function(ie,pe,ze,gt){return H.apply(this,arguments)})(n,T,A,F);var H};const o=yield ty(n.localStore,e,!0),c=new W1(e,o.ir),h=c.sc(o.documents),m=ol.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),y=c.applyChanges(h,n.isPrimaryClient,m);TM(n,t,y.cc);const b=new cU(e,t,c);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),gM.apply(this,arguments)}function fU(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,xe.Z)(function*(n,e){const t=yt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Lp(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield eg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),M(t.remoteStore,r.targetId),hy(t,r.targetId)}).catch(da))):(hy(t,r.targetId),yield eg(t.localStore,r.targetId,!0))}),mM.apply(this,arguments)}function _M(){return _M=(0,xe.Z)(function*(n,e,t){const r=LM(n);try{const i=yield function(o,c){const h=yt(o),m=Dr.now(),y=c.reduce((A,F)=>A.add(F.key),Cn());let b,T;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>{let F=ls(),H=Cn();return h.Zi.getEntries(A,y).next(ie=>{F=ie,F.forEach((pe,ze)=>{ze.isValidDocument()||(H=H.add(pe))})}).next(()=>h.localDocuments.getOverlayedDocuments(A,F)).next(ie=>{b=ie;const pe=[];for(const ze of c){const gt=VI(ze,b.get(ze.key).overlayedDocument);null!=gt&&pe.push(new sl(ze.key,gt,pI(gt.value.mapValue),Er.exists(!0)))}return h.mutationQueue.addMutationBatch(A,m,pe,c)}).next(ie=>{T=ie;const pe=ie.applyToLocalDocumentSet(b,H);return h.documentOverlayCache.saveOverlays(A,ie.batchId,pe)})}).then(()=>({batchId:T.batchId,changes:Kw(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,h){let m=o.Tc[o.currentUser.toKey()];m||(m=new hr(gn)),m=m.insert(c,h),o.Tc[o.currentUser.toKey()]=m}(r,i.batchId,t),yield Tu(r,i.changes),yield ic(r.remoteStore)}catch(i){const o=cy(i,"Failed to persist write");t.reject(o)}}),_M.apply(this,arguments)}function q1(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,xe.Z)(function*(n,e){const t=yt(n);try{const r=yield X_(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.yc.get(o);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Lt(c.fc):i.removedDocuments.size>0&&(Lt(c.fc),c.fc=!1))}),yield Tu(t,r,e)}catch(r){yield da(r)}}),yM.apply(this,arguments)}function K1(n,e,t){const r=yt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(o,c){const h=yt(o);h.onlineState=c;let m=!1;h.queries.forEach((y,b)=>{for(const T of b.listeners)T.Mu(c)&&(m=!0)}),m&&dM(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gU(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,xe.Z)(function*(n,e,t){const r=yt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let c=new hr(pt.comparator);c=c.insert(o,wr.newNoDocument(o,jt.min()));const h=Cn().add(o),m=new ih(jt.min(),new Map,new hr(gn),c,h);yield q1(r,m),r.gc=r.gc.remove(o),r.yc.delete(e),DM(r)}else yield eg(r.localStore,e,!1).then(()=>hy(r,e,t)).catch(da)}),vM.apply(this,arguments)}function mU(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,xe.Z)(function*(n,e){const t=yt(n),r=e.batch.batchId;try{const i=yield A0(t.localStore,e);IM(t,r,null),bM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tu(t,i)}catch(i){yield da(i)}}),wM.apply(this,arguments)}function _U(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,xe.Z)(function*(n,e,t){const r=yt(n);try{const i=yield function(o,c){const h=yt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,c).next(b=>(Lt(null!==b),y=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(r.localStore,e);IM(r,e,t),bM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tu(r,i)}catch(i){yield da(i)}}),EM.apply(this,arguments)}function bM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function IM(n,e,t){const r=yt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Z1(n,r)})}function Z1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(M(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),DM(n))}function TM(n,e,t){for(const r of t)r instanceof z1?(n.Ic.addReference(r.key,e),vU(n,r)):r instanceof G1?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Z1(n,r.key)):It()}function vU(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.mc.add(r),DM(n))}function DM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new pt(Hn.fromString(e)),r=n.Ac.next();n.yc.set(r,new uU(t)),n.gc=n.gc.insert(t,r),D(n.remoteStore,new Jl(as(gu(t.path)),r,"TargetPurposeLimboResolution",so.ct))}}function Tu(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,xe.Z)(function*(n,e,t){const r=yt(n),i=[],o=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,m)=>{c.push(r.Rc(m,e,t).then(y=>{if((y||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,y?.fromCache?"not-current":"current"),y){i.push(y);const b=Z_.Li(m.targetId,y);o.push(b)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,xe.Z)(function*(m,y){const b=yt(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ue.forEach(y,A=>ue.forEach(A.Fi,F=>b.persistence.referenceDelegate.addReference(T,A.targetId,F)).next(()=>ue.forEach(A.Bi,F=>b.persistence.referenceDelegate.removeReference(T,A.targetId,F)))))}catch(T){if(!zl(T))throw T;Ke("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const F=b.Ji.get(A),ie=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);b.Ji=b.Ji.insert(A,ie)}}}),function(m,y){return h.apply(this,arguments)})(r.localStore,o))}),SM.apply(this,arguments)}function wU(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,xe.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield Q_(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new $e(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tu(t,r.er)}var i}),AM.apply(this,arguments)}function EU(n,e){const t=yt(n),r=t.yc.get(e);if(r&&r.fc)return Cn().add(r.key);{let i=Cn();const o=t._c.get(e);if(!o)return i;for(const c of o){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function FM(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gU.bind(null,e),e.dc.nu=sU.bind(null,e.eventManager),e.dc.Pc=oU.bind(null,e.eventManager),e}function LM(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_U.bind(null,e),e}class V0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.serializer=iy(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Y_(n,e,t,r){return new DT(n,e,t,r)}(this.persistence,new rc,e.initialUser,this.serializer)}createPersistence(e){return new C0(b0.zs,this.serializer)}createSharedClientState(e){return new Yx}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fy{initialize(e,t){var r=this;return(0,xe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wU.bind(null,r.syncEngine),yield function iM(n,e){return sM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iU}createDatastore(e){const t=iy(e.databaseInfo.databaseId),r=new L1(e.databaseInfo);return new s(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>K1(this.syncEngine,h,0),c=RT.D()?new RT:new Qx,new f(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,h,m,y){const b=new dU(r,i,o,c,h,m);return y&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const r=yt(t);Ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield C(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class VT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RU{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=di.UNAUTHENTICATED,this.clientId=Wb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,xe.Z)(function*(h){Ke("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=cy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UT(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,xe.Z)(function*(o){r.isEqual(o)||(yield Q_(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),UM.apply(this,arguments)}function BM(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $M(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>B1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>B1(e.remoteStore,o)),n._onlineComponents=e}),jM.apply(this,arguments)}function eR(n){return"FirebaseError"===n.name?n.code===we.FAILED_PRECONDITION||n.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function $M(n){return HM.apply(this,arguments)}function HM(){return HM=(0,xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield UT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!eR(t))throw t;os("Error using user provided cache. Falling back to memory cache: "+t),yield UT(n,new V0)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield UT(n,new V0);return n._offlineComponents}),HM.apply(this,arguments)}function BT(n){return zM.apply(this,arguments)}function zM(){return zM=(0,xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield BM(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield BM(n,new fy))),n._onlineComponents}),zM.apply(this,arguments)}function jT(n){return $M(n).then(e=>e.localStore)}function py(n){return WM.apply(this,arguments)}function WM(){return WM=(0,xe.Z)(function*(n){const e=yield BT(n),t=e.eventManager;return t.onListen=hU.bind(null,e.syncEngine),t.onUnlisten=fU.bind(null,e.syncEngine),t}),WM.apply(this,arguments)}function iR(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,o,c,h,m){const y=new VT({next:T=>{o.enqueueAndForget(()=>cM(i,b));const A=T.docs.has(c);!A&&T.fromCache?m.reject(new $e(we.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&h&&"server"===h.source?m.reject(new $e(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new hM(gu(c.path),y,{includeMetadataChanges:!0,Ku:!0});return aM(i,b)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}function sR(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,o,c,h,m){const y=new VT({next:T=>{o.enqueueAndForget(()=>cM(i,b)),T.fromCache&&"server"===h.source?m.reject(new $e(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new hM(c,y,{includeMetadataChanges:!0,Ku:!0});return aM(i,b)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}function oR(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const aR=new Map;function qM(n,e,t){if(!t)throw new $e(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cR(n){if(!pt.isDocumentKey(n))throw new $e(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uR(n){if(pt.isDocumentKey(n))throw new $e(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $T(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":It()}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$T(n);throw new $e(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dR(n,e){if(e<=0)throw new $e(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hR{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lR(n,e,t,r){if(!0===e&&!0===r)throw new $e(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oR(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $e(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZA;switch(t.type){case"firstParty":return new XA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aR.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),aR.delete(e),t.terminate())}(this),Promise.resolve()}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class sc extends hs{constructor(e,t,r){super(e,t,gu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new pt(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function HT(n,e,...t){if(n=(0,re.m9)(n),1===arguments.length&&(e=Wb.A()),qM("doc","path",e),n instanceof U0){const r=Hn.fromString(e,...t);return cR(r),new Fr(n,null,new pt(r))}{if(!(n instanceof Fr||n instanceof sc))throw new $e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return cR(r),new Fr(n.firestore,n instanceof sc?n.converter:null,new pt(r))}}function gR(n,e){return n=(0,re.m9)(n),e=(0,re.m9)(e),(n instanceof Fr||n instanceof sc)&&(e instanceof Fr||e instanceof sc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function KM(n,e){return n=(0,re.m9)(n),e=(0,re.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&Lp(n._query,e._query)&&n.converter===e.converter}class zU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new LT(this,"async_queue_retry"),this.Xc=()=>{const t=R0();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=R0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=R0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ii;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!zl(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=oM.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&It()}verifyOperationInProgress(){}sa(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ZM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Lr extends U0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mR(this),this._firestoreClient.terminate()}}function qU(n,e){const t="object"==typeof n?n:(0,Co.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Co._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,re.P0)("firestore");o&&function fR(n,e,t,r={}){var i;const o=(n=zn(n,U0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=di.MOCK_USER;else{h=(0,re.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $e(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new di(y)}n._authCredentials=new YA(new zb(h,m))}}(i,...o)}return i}function fi(n){return n._firestoreClient||mR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mR(n){var e,t,r;const i=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mx(n._databaseId,h,n._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,oR(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new RU(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(hi.fromBase64String(e))}catch(t){throw new $e(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oc(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ig{constructor(e){this._methodName=e}}class zT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const rB=/^__.*__$/;class iB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}class vR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class GT{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new GT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return KT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(wR(this.ca)&&rB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||iy(e)}ya(e,t,r,i=!1){return new GT({ca:e,methodName:t,ga:r,path:kr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=iy(n._databaseId);return new sB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WT(n,e,t,r,i,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,e,t,i);XM("Data must be an object, but it was:",c,r);const h=bR(r,c);let m,y;if(o.merge)m=new Es(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const T of o.mergeFields){const A=$0(e,T,t);if(!c.contains(A))throw new $e(we.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);TR(b,A)||b.push(A)}m=new Es(b),y=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,y=c.fieldTransforms;return new iB(new wi(h),m,y)}class j0 extends ig{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}function CR(n,e,t,r=!1){return og(t,n.ya(r?4:3,e))}function og(n,e){if(IR(n=(0,re.m9)(n)))return XM("Unsupported field value:",e,n),bR(n,e);if(n instanceof ig)return function(t,r){if(!wR(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let h=og(c,r.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,re.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return NI(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dr.fromDate(t);return{timestampValue:zp(r.serializer,i)}}if(t instanceof Dr){const i=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zp(r.serializer,i)}}if(t instanceof zT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oc)return{bytesValue:r0(r.serializer,t._byteString)};if(t instanceof Fr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yl(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${$T(t)}`)}(n,e)}function bR(n,e){const t={};return fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(n,(r,i)=>{const o=og(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function IR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof zT||n instanceof oc||n instanceof Fr||n instanceof ig)}function XM(n,e,t){if(!IR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$T(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function $0(n,e,t){if((e=(0,re.m9)(e))instanceof Du)return e._internalPath;if("string"==typeof e)return qT(n,e);throw KT("Field path arguments must be of type string or ",n,!1,void 0,t)}const cB=new RegExp("[~\\*/\\[\\]]");function qT(n,e,t){if(e.search(cB)>=0)throw KT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Du(...e.split("."))._internalPath}catch{throw KT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KT(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new $e(we.INVALID_ARGUMENT,h+n+m)}function TR(n,e){return n.some(t=>t.isEqual(e))}class H0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uB extends H0{data(){return super.data()}}function ZT(n,e){return"string"==typeof e?qT(n,e):e instanceof Du?e._internalPath:e._delegate._internalPath}function DR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eP{}class z0 extends eP{}function _h(n,e,...t){let r=[];e instanceof eP&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof gy).length,c=i.filter(h=>h instanceof G0).length;if(o>1||o>0&&c>0)throw new $e(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class G0 extends z0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new G0(e,t,r)}_apply(e){const t=this._parse(e);return MR(e._query,t),new hs(e.firestore,e.converter,C_(e._query,t))}_parse(e){const t=sg(e.firestore);return function(i,o,c,h,m,y,b){let T;if(m.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new $e(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){xR(b,y);const A=[];for(const F of b)A.push(AR(h,i,F));T={arrayValue:{values:A}}}else T=AR(h,i,b)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||xR(b,y),T=CR(c,"where",b,"in"===y||"not-in"===y);return Pn.create(m,y,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gy extends eP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const h of c)MR(o,h),o=C_(o,h)}(e._query,t),new hs(e.firestore,e.converter,C_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tP extends z0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tP(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new $e(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new $e(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Yd(i,o);return function(h,m){if(null===zw(h)){const y=Gw(h);null!==y&&PR(0,y,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new pa(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class YT extends z0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new YT(e,t,r)}_apply(e){return new hs(e.firestore,e.converter,b_(e._query,this._limit,this._limitType))}}class QT extends z0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new QT(e,t,r)}_apply(e){const t=SR(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(i=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class JT extends z0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new JT(e,t,r)}_apply(e){const t=SR(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,(i=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function SR(n,e,t,r){if(t[0]=(0,re.m9)(t[0]),t[0]instanceof H0)return function(i,o,c,h,m){if(!h)throw new $e(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const b of mu(i))if(b.field.isKeyField())y.push(tl(o,h.key));else{const T=h.data.field(b.field);if(Gl(T))throw new $e(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const A=b.field.canonicalString();throw new $e(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}y.push(T)}return new nl(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sg(n.firestore);return function(o,c,h,m,y,b){const T=o.explicitOrderBy;if(y.length>T.length)throw new $e(we.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let F=0;F<y.length;F++){const H=y[F];if(T[F].field.isKeyField()){if("string"!=typeof H)throw new $e(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof H}`);if(!SI(o)&&-1!==H.indexOf("/"))throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${H}' contains a slash.`);const ie=o.path.child(Hn.fromString(H));if(!pt.isDocumentKey(ie))throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const pe=new pt(ie);A.push(tl(c,pe))}else{const ie=CR(h,m,H);A.push(ie)}}return new nl(A,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function AR(n,e,t){if("string"==typeof(t=(0,re.m9)(t))){if(""===t)throw new $e(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SI(e)&&-1!==t.indexOf("/"))throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Hn.fromString(t));if(!pt.isDocumentKey(r))throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tl(n,new pt(r))}if(t instanceof Fr)return tl(n,t._key);throw new $e(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$T(t)}.`)}function xR(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MR(n,e){if(e.isInequality()){const r=Gw(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new $e(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=zw(n);null!==o&&PR(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new $e(we.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function PR(n,e,t){if(!t.isEqual(e))throw new $e(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nP{convertValue(e,t="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw It()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new zT(Hr(e.latitude),Hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=p_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Hn.fromString(e);Lt(Px(r));const i=new Xa(r.get(1),r.get(3)),o=new pt(r.popFirst(5));return i.isEqual(t)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function XT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends H0{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ZT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class W0 extends Su{data(e={}){return super.data(e)}}class yh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ag(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new W0(this._firestore,this._userDataWriter,r.key,r,new ag(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new W0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ag(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new W0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ag(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:EB(c.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}function NR(n,e){return n instanceof Su&&e instanceof Su?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof yh&&e instanceof yh&&n._firestore===e._firestore&&KM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class vh extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function RR(n,e,t){n=zn(n,Fr);const r=zn(n.firestore,Lr),i=XT(n.converter,e,t);return my(r,[WT(sg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Er.none())])}function kR(n,e,t,...r){n=zn(n,Fr);const i=zn(n.firestore,Lr),o=sg(i);let c;return c="string"==typeof(e=(0,re.m9)(e))||e instanceof Du?function JM(n,e,t,r,i,o){const c=n.ya(1,e,t),h=[$0(e,r,t)],m=[i];if(o.length%2!=0)throw new $e(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)h.push($0(e,o[A])),m.push(o[A+1]);const y=[],b=wi.empty();for(let A=h.length-1;A>=0;--A)if(!TR(y,h[A])){const F=h[A];let H=m[A];H=(0,re.m9)(H);const ie=c.da(F);if(H instanceof j0)y.push(F);else{const pe=og(H,ie);null!=pe&&(y.push(F),b.set(F,pe))}}const T=new Es(y);return new vR(b,T,c.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function QM(n,e,t,r){const i=n.ya(1,e,t);XM("Data must be an object, but it was:",i,r);const o=[],c=wi.empty();hu(r,(m,y)=>{const b=qT(e,m,t);y=(0,re.m9)(y);const T=i.da(b);if(y instanceof j0)o.push(b);else{const A=og(y,T);null!=A&&(o.push(b),c.set(b,A))}});const h=new Es(o);return new vR(c,h,i.fieldTransforms)}(o,"updateDoc",n._key,e),my(i,[c.toMutation(n._key,Er.exists(!0))])}function FR(n,...e){var t,r,i;n=(0,re.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||ZM(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(ZM(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[c+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let m,y,b;if(n instanceof Fr)y=zn(n.firestore,Lr),b=gu(n._key.path),m={next:T=>{e[c]&&e[c](rP(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=zn(n,hs);y=zn(T.firestore,Lr),b=T._query;const A=new vh(y);m={next:F=>{e[c]&&e[c](new yh(y,A,T,F))},error:e[c+1],complete:e[c+2]},DR(n._query)}return function(T,A,F,H){const ie=new VT(H),pe=new hM(A,ie,F);return T.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return aM(yield py(T),pe)})),()=>{ie.Dc(),T.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return cM(yield py(T),pe)}))}}(fi(y),b,h,m)}function my(n,e){return function(t,r){const i=new ii;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function pU(n,e,t){return _M.apply(this,arguments)}(yield function GM(n){return BT(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(fi(n),e)}function rP(n,e,t){const r=t.docs.get(e._key),i=new vh(n);return new Su(n,i,e._key,r,new ag(t.hasPendingWrites,t.fromCache),e.converter)}function UR(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function BR(){if(!function px(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}class q0{constructor(e){this._delegate=e}static fromBase64String(e){return BR(),new q0(oc.fromBase64String(e))}static fromUint8Array(e){return UR(),new q0(oc.fromUint8Array(e))}toBase64(){return BR(),this._delegate.toBase64()}toUint8Array(){return UR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sP(n){return function ZB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class eD extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new q0(new oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new W0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Z0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new lg(e,new eD(e),t),i.set(t,o)),o}}lg.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new Fr(t._delegate,r,new pt(e)))}static forKey(e,t,r){return new va(t,new Fr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,function pR(n,e,...t){if(n=(0,re.m9)(n),qM("collection","path",e),n instanceof U0){const r=Hn.fromString(e,...t);return uR(r),new sc(n,null,r)}{if(!(n instanceof Fr||n instanceof sc))throw new $e(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return uR(r),new sc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,re.m9)(e))instanceof Fr&&gR(this._delegate,e)}set(e,t){t=function iP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?RR(this._delegate,e,t):RR(this._delegate,e)}catch(r){throw $s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?kR(this._delegate,e):kR(this._delegate,e,t,...r)}catch(i){throw $s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function AB(n){return my(zn(n.firestore,Lr),[new wu(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=zR(e),r=GR(e,i=>new K0(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return FR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function bB(n){n=zn(n,Fr);const e=zn(n.firestore,Lr),t=fi(e),r=new vh(e);return function LU(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(r=(0,xe.Z)(function*(i,o,c){try{const h=yield function(m,y){const b=yt(m);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,y))}(i,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new $e(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=cy(h,`Failed to get document '${o} from cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield jT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Su(e,r,n._key,i,new ag(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function IB(n){n=zn(n,Fr);const e=zn(n.firestore,Lr);return iR(fi(e),n._key,{source:"server"}).then(t=>rP(e,n,t))}(this._delegate):function CB(n){n=zn(n,Fr);const e=zn(n.firestore,Lr);return iR(fi(e),n._key).then(t=>rP(e,n,t))}(this._delegate),t.then(r=>new K0(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function zR(n){for(const e of n)if("object"==typeof e&&!sP(e))return e;return{}}function GR(n,e){var t,r;let i;return i=sP(n[0])?n[0]:sP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class K0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NR(this._delegate,e._delegate)}}class Z0 extends K0{data(e){const t=this._delegate.data(e);return function Hb(n,e){n||It()}(void 0!==t),t}}class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eD(e)}where(e,t,r){try{return new Hs(this.firestore,_h(this._delegate,function dB(n,e,t){const r=e,i=ZT("where",n);return G0._create(i,r,t)}(e,t,r)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hs(this.firestore,_h(this._delegate,function hB(n,e="asc"){const t=e,r=ZT("orderBy",n);return tP._create(r,t)}(e,t)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hs(this.firestore,_h(this._delegate,function fB(n){return dR("limit",n),YT._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hs(this.firestore,_h(this._delegate,function pB(n){return dR("limitToLast",n),YT._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hs(this.firestore,_h(this._delegate,function gB(...n){return QT._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hs(this.firestore,_h(this._delegate,function mB(...n){return QT._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hs(this.firestore,_h(this._delegate,function _B(...n){return JT._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hs(this.firestore,_h(this._delegate,function yB(...n){return JT._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return KM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function DB(n){n=zn(n,hs);const e=zn(n.firestore,Lr),t=fi(e),r=new vh(e);return function VU(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(r=(0,xe.Z)(function*(i,o,c){try{const h=yield ty(i,o,!0),m=new W1(o,h.ir),y=m.sc(h.documents),b=m.applyChanges(y,!1);c.resolve(b.snapshot)}catch(h){const m=cy(h,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield jT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new yh(e,r,n,i))}(this._delegate):"server"===e?.source?function SB(n){n=zn(n,hs);const e=zn(n.firestore,Lr),t=fi(e),r=new vh(e);return sR(t,n._query,{source:"server"}).then(i=>new yh(e,r,n,i))}(this._delegate):function TB(n){n=zn(n,hs);const e=zn(n.firestore,Lr),t=fi(e),r=new vh(e);return DR(n._query),sR(t,n._query).then(i=>new yh(e,r,n,i))}(this._delegate),t.then(r=>new oP(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zR(e),r=GR(e,i=>new oP(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return FR(this._delegate,t,r)}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class JB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Z0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Z0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new JB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Z0(this._firestore,r))})}isEqual(e){return NR(this._delegate,e._delegate)}}class _y extends Hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?HT(this._delegate):HT(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return function xB(n,e){const t=zn(n.firestore,Lr),r=HT(n),i=XT(n.converter,e);return my(t,[WT(sg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return gR(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}var nj=R(6451),tD=R(5363),rj=R(6063);class ij extends Nr.x{constructor(e=1/0,t=1/0,r=rj.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)h=m;h&&r.splice(0,h+1)}}}var sj=R(3099);function WR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,sj.B)({connector:()=>new ij(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qR(n,e){return(0,kc.m)(e)?li(()=>n,e):li(()=>n)}var lP=R(9468),ac=R(8140);class Au{constructor(e){return e}}class Y0{constructor(){return(0,ac.C6)()}}const cP=new u.OlP("angularfire2._apps"),aj={provide:Au,useFactory:function oj(n){return n&&1===n.length?n[0]:new Au((0,ac.Mq)())},deps:[[new u.FiY,cP]]},lj={provide:Y0,deps:[[new u.FiY,cP]]};function cj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Au(r)}}let uj=(()=>{class n{constructor(t){(0,ac.KN)("angularfire",ln.q4.full,"core"),(0,ac.KN)("angularfire",ln.q4.full,"app"),(0,ac.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aj,lj]}),n})();function dj(n,...e){return{ngModule:uj,providers:[{provide:cP,useFactory:cj(n),multi:!0,deps:[u.R0b,u.zs3,ln.HU,...e]}]}}const hj=(0,ln.u3)(ac.ZF,!0);var Eh=R(9681);const uP=new Map,KR={activated:!1,tokenObservers:[]},fj={initialized:!1,enabled:!1};function si(n){return uP.get(n)||Object.assign({},KR)}function nD(){return fj}class vj{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new re.BH,yield function wj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new re.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fs=new re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hP(n){if(!si(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function sD(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,xe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,o)}catch(T){throw fs.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw fs.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(T){throw fs.create("fetch-parse-error",{originalErrorMessage:T?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(m[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+y,issuedAtTimeMillis:b}}),pP.apply(this,arguments)}function YR(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Q0="firebase-app-check-store";let oD=null;function JR(){return oD||(oD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Q0,{keyPath:"compositeKey"})}}catch(t){e(fs.create("storage-open",{originalErrorMessage:t?.message}))}}),oD)}function gP(){return gP=(0,xe.Z)(function*(n,e){const r=(yield JR()).transaction(Q0,"readwrite"),o=r.objectStore(Q0).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=m=>{c()},r.onerror=m=>{var y;h(fs.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})}),gP.apply(this,arguments)}const J0=new aa.Yd("@firebase/app-check");function yP(n,e){return(0,re.hl)()?function Sj(n,e){return function XR(n,e){return gP.apply(this,arguments)}(function tk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{J0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wP(){return nD().enabled}function EP(){return CP.apply(this,arguments)}function CP(){return CP=(0,xe.Z)(function*(){const n=nD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),CP.apply(this,arguments)}const Nj={error:"UNKNOWN_ERROR"};function Rj(n){return re.US.encodeString(JSON.stringify(n),!1)}function aD(n){return bP.apply(this,arguments)}function bP(){return bP=(0,xe.Z)(function*(n,e=!1){const t=n.app;hP(t);const r=si(t);let o,i=r.token;if(i&&!yy(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(yy(m)?i=m:yield yP(t,void 0))}if(!e&&i&&yy(i))return{token:i.token};let h,c=!1;if(wP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sD(YR(t,yield EP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield yP(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield si(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?J0.warn(m.message):J0.error(m),o=m}return i?o?h=yy(i)?{token:i.token,internalError:o}:sk(o):(h={token:i.token},r.token=i,yield yP(t,i)):h=sk(o),c&&ik(t,h),h}),bP.apply(this,arguments)}function IP(){return IP=(0,xe.Z)(function*(n){const e=n.app;hP(e);const{provider:t}=si(e);if(wP()){const r=yield EP(),{token:i}=yield sD(YR(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),IP.apply(this,arguments)}function DP(n,e){const t=si(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function rk(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function kj(n){const{app:e}=n;return new vj((0,xe.Z)(function*(){let r;if(r=si(e).token?yield aD(n,!0):yield aD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ik(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function yy(n){return n.expireTimeMillis-Date.now()>0}function sk(n){return{token:Rj(Nj),error:n}}class Fj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)DP(this.app,t.next);return Promise.resolve()}}const fk="app-check-internal";!function Yj(){(0,Eh.Xd)(new kl.wA("app-check",n=>function Lj(n,e){return new Fj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fk).initialize()})),(0,Eh.Xd)(new kl.wA(fk,n=>function Vj(n){return{getToken:e=>aD(n,e),getLimitedUseToken:()=>function nk(n){return IP.apply(this,arguments)}(n),addTokenListener:e=>function TP(n,e,t,r){const{app:i}=n,o=si(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&yy(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),rk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>rk(n))}(n,"INTERNAL",e),removeTokenListener:e=>DP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Eh.KN)("@firebase/app-check","0.8.0")}();class vy{constructor(){return(0,ln.vb)("app-check")}}typeof window<"u"&&window;var t$=R(1274);const gk=new u.OlP("angularfire2.auth.use-emulator"),mk=new u.OlP("angularfire2.auth.settings"),_k=new u.OlP("angularfire2.auth.tenant-id"),yk=new u.OlP("angularfire2.auth.langugage-code"),vk=new u.OlP("angularfire2.auth.use-device-language"),wk=new u.OlP("angularfire.auth.persistence"),Ek=(n,e,t,r,i,o,c,h)=>(0,Eo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,o&&m.useDeviceLanguage(),c)for(const[y,b]of Object.entries(c))m.settings[y]=b;return h&&m.setPersistence(h),m},[t,r,i,o,c,h]);let Ck=(()=>{class n{constructor(t,r,i,o,c,h,m,y,b,T,A,F){const H=new Nr.x,ie=Vt(void 0).pipe((0,tD.Q)(c.outsideAngular),li(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5054)))),(0,Qt.U)(()=>(0,Eo.on)(t,o,r)),(0,Qt.U)(pe=>Ek(pe,o,h,y,b,T,m,A)),WR({bufferSize:1,refCount:!1}));if(Ks(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Vt(null);else{ie.pipe(fo()).subscribe();const ze=ie.pipe(li(At=>At.getRedirectResult().then(_n=>_n,()=>null)),ln.iC,WR({bufferSize:1,refCount:!1})),gt=ie.pipe(li(At=>new Qs.y(_n=>({unsubscribe:o.runOutsideAngular(()=>At.onAuthStateChanged(yn=>_n.next(yn),yn=>_n.error(yn),()=>_n.complete()))})))),Et=ie.pipe(li(At=>new Qs.y(_n=>({unsubscribe:o.runOutsideAngular(()=>At.onIdTokenChanged(yn=>_n.next(yn),yn=>_n.error(yn),()=>_n.complete()))}))));this.authState=ze.pipe(qR(gt),(0,lP.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular)),this.user=ze.pipe(qR(Et),(0,lP.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular)),this.idToken=this.user.pipe(li(At=>At?(0,ar.D)(At.getIdToken()):Vt(null))),this.idTokenResult=this.user.pipe(li(At=>At?(0,ar.D)(At.getIdTokenResult()):Vt(null))),this.credential=(0,nj.T)(ze,H,this.authState.pipe(Ki(At=>!At))).pipe((0,Qt.U)(At=>At?.user?At:null),(0,lP.R)(c.outsideAngular),(0,tD.Q)(c.insideAngular))}return(0,Eo.pX)(this,ie,o,{spy:{apply:(pe,ze,gt)=>{(pe.startsWith("signIn")||pe.startsWith("createUser"))&&gt.then(Et=>H.next(Et))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Eo.Dh),u.LFG(Eo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ln.HU),u.LFG(gk,8),u.LFG(mk,8),u.LFG(_k,8),u.LFG(yk,8),u.LFG(vk,8),u.LFG(wk,8),u.LFG(vy,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bk(n,e){return function r$(n,e=wA.z){return new Qs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function PP(n,e){return bk(n,e).pipe((0,Qt.U)(t=>({payload:t,type:"query"})))}function cD(n,e){return PP(n,e).pipe(xl(void 0),$v(),(0,Qt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const m=i.find(b=>b.doc.ref.isEqual(c.ref)),y=t?.payload.docs.find(b=>b.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function Ik(n,e,t){return cD(n,t).pipe(Ba((r,i)=>function s$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function o$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),function EA(n,e=Yo.y){return n=n??QC,(0,qi.e)((t,r)=>{let i,o=!0;t.subscribe((0,_i.x)(r,c=>{const h=e(c);(o||!n(i,h))&&(o=!1,i=h,r.next(c))}))})}(),(0,Qt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function OP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Tk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Dk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xl(void 0),$v(),Ki(([r,i])=>i.length>0||!r),(0,Qt.U)(([r,i])=>i),ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ba((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Tk(e);return Ik(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return PP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ln.iC)}get(e){return(0,ar.D)(this.query.get(e)).pipe(ln.iC)}add(e){return this.ref.add(e)}doc(e){return new Sk(this.ref.doc(e),this.afs)}}class Sk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=Mk(r,t);return new Dk(i,o,this.afs)}snapshotChanges(){return function i$(n,e){return bk(n,e).pipe(xl(void 0),$v(),(0,Qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ar.D)(this.ref.get(e)).pipe(ln.iC)}}class a${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ki(t=>t.length>0),ln.iC):cD(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ba((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Tk(e);return Ik(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return PP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ln.iC)}get(e){return(0,ar.D)(this.query.get(e)).pipe(ln.iC)}}const Ak=new u.OlP("angularfire2.enableFirestorePersistence"),xk=new u.OlP("angularfire2.firestore.persistenceSettings"),l$=new u.OlP("angularfire2.firestore.settings"),c$=new u.OlP("angularfire2.firestore.use-emulator");function Mk(n,e=(t=>t)){return{query:e(n),ref:n}}let Pk=(()=>{class n{constructor(t,r,i,o,c,h,m,y,b,T,A,F,H,ie,pe,ze,gt){this.schedulers=m;const Et=(0,Eo.on)(t,h,r),At=b;T&&Ek(Et,h,A,H,ie,pe,F,ze),[this.firestore,this.persistenceEnabled$]=(0,Eo.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const _n=h.runOutsideAngular(()=>Et.firestore());if(o&&_n.settings(o),At&&_n.useEmulator(...At),i&&!Ks(c)){const yn=()=>{try{return(0,ar.D)(_n.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(ir){return typeof console<"u"&&console.warn(ir),Vt(!1)}};return[_n,h.runOutsideAngular(yn)]}return[_n,Vt(!1)]},[o,At,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=Mk(i,r),h=this.schedulers.ngZone.run(()=>o);return new Dk(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new a$(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Sk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Eo.Dh),u.LFG(Eo.xv,8),u.LFG(Ak,8),u.LFG(l$,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ln.HU),u.LFG(xk,8),u.LFG(c$,8),u.LFG(Ck,8),u.LFG(gk,8),u.LFG(mk,8),u.LFG(_k,8),u.LFG(yk,8),u.LFG(vk,8),u.LFG(wk,8),u.LFG(vy,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u$=(()=>{class n{constructor(){t$.Z.registerVersion("angularfire",ln.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ak,useValue:!0},{provide:xk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Pk]}),n})(),Ok=(()=>{class n{constructor(){this.db=(0,u.f3M)(Pk),this.projects=new Nr.x,this.homeScreenBackgrounds=new Nr.x}getData(){this.projectsCollection=this.db.collection("projects"),this.projectsCollection.valueChanges().subscribe(t=>{this.projects.next(t[0].projects)}),this.backgroundsCollection=this.db.collection("background"),this.backgroundsCollection.valueChanges().subscribe(t=>{this.homeScreenBackgrounds.next(t[0].homeScreen)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nk=(()=>{class n{constructor(){this.firebaseService=(0,u.f3M)(Ok)}ngOnInit(){this.firebaseService.getData()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-home-page")}}),n})();var uD=(()=>(function(n){n.ua="ua",n.en="en"}(uD||(uD={})),uD))();const d$={navServices:"\u041f\u043e\u0441\u043b\u0443\u0433\u0438",navTeam:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",navProcess:"\u041f\u0440\u043e\u0446\u0435\u0441",navProjects:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438",navContacts:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",homeScreenTitle:"\u041f\u0456\u0434\u043a\u0440\u0435\u0441\u043b\u0438 \u0441\u0432\u043e\u044e \u0456\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c",homeScreenSubtitle:"\u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0440\u0435\u0430\u043b\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u043e\u0457 \u0444\u0430\u043d\u0442\u0430\u0437\u0456\u0457 \n\u0432 \u0433\u043e\u0442\u043e\u0432\u043e\u043c\u0443 \u0431\u0443\u0434\u0438\u043d\u043a\u0443.",contactUs:"\u0417\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",servicesBlockTitle:"\u041d\u0430\u0448\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438",serviceTitle1:"\u0412\u0438\u0431\u0456\u0440 \u0434\u0456\u043b\u044f\u043d\u043a\u0438",serviceSubtitle1:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438\u0432\u044b\u0430",serviceTitle2:"\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0442\u0430 \u0434\u0438\u0437\u0430\u0439\u043d",serviceSubtitle2:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",serviceTitle3:"\u0411\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u043f\u0456\u0434 \u043a\u043b\u044e\u0447",serviceSubtitle3:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",serviceTitle4:"\u042e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0439 \u0441\u0443\u043f\u0440\u043e\u0432\u0456\u0434",serviceSubtitle4:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",providedScreenTitle:"\u0429\u043e \u043c\u0438 \u0434\u0430\u0454\u043c\u043e",providedTitle:"\u0421\u0443\u0447\u0430\u0441\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a \u2014 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0442\u0430\u043a\u043e\u0433\u043e \u043d\u0435 \u0431\u0443\u0434\u0435!",providedSubtitle:"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u0441\u0442\u0438\u043b\u044c\u043d\u043e\u0433\u043e, \u0435\u043d\u0435\u0440\u0433\u043e-\u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e, \u0437\u0430\u0442\u0438\u0448\u043d\u043e\u0433\u043e \u0442\u0430 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0443\u0434\u0438\u043d\u043a\u0443.",offer1:"\u0415\u0441\u0442\u0435\u0442\u0438\u043a\u0430",offer2:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442",offer3:"\u0423\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0438\u0439 \n\u0431\u0443\u0434\u0438\u043d\u043e\u043a",offer4:"\u0406\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f",offer5:"\u0421\u0443\u0447\u0430\u0441\u043d\u0456 \n\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457",offer6:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441",teamScreenTitle:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",teamScreenSubtitle:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0442\u0456\u043b\u044c\u043a\u0438 \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0456\u0432 \u0441\u0432\u043e\u0454\u0457 \u0441\u043f\u0440\u0430\u0432\u0438!",processScreenTitle:"\u041f\u0440\u043e\u0446\u0435\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c",process1:"\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f \n\u0437 \u0437\u0430\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c",process2:"\u041f\u0440\u043e\u0446\u0435\u0441 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457",process3:"\u041f\u0440\u0438\u0439\u043d\u044f\u0442\u0442\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0432 \u0433\u043e\u0442\u043e\u0432\u043e\u043c\u0443 \u0431\u0443\u0434\u0438\u043d\u043a\u0443",ourProjectsScreenTitle:"\u041d\u0430\u0448\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438",contactsScreenTitle:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",contactsScreenContactUs:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0443\u0439\u0442\u0435 \u043d\u0430\u043c:",contactsScreenSendUs:"\u041f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u043c:",contactsScreenFollowUs:"\u0421\u043b\u0456\u0434\u043a\u0443\u0439\u0442\u0435 \u0437\u0430 \u043d\u0430\u043c\u0438:",stanislav:"\u0421\u0442\u0430\u043d\u0456\u0441\u043b\u0430\u0432",irina:"\u0406\u0440\u0438\u043d\u0430",mikhailo:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e",stanislavResponsibilities:"\u0420\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f \u0442\u0430 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0456\u0432",irinaResponsibilities:"\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430, \u0434\u0438\u0437\u0430\u0439\u043d",mikhailoResponsibilities:"\u0420\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f \u0442\u0430 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0456\u0432",howToNameYou:"\u042f\u043a \u0434\u043e \u0432\u0430\u0441 \u0437\u0432\u0435\u0440\u0442\u0430\u0442\u0438\u0441\u044f?",yourName:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f \u0442\u0430 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",yourPhoneNumber:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",send:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438",thanks:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e!",weWillContact:"\u041c\u0438 \u0437 \u0432\u0430\u043c\u0438 \u0437\u0432'\u044f\u0436\u0435\u043c\u043e\u0441\u044f \u0437\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443.",square:"\u041f\u043b\u043e\u0449\u0430",wallMaterial:"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b \u0441\u0442\u0456\u043d",additional:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e"},h$={navServices:"Services",navTeam:"Team",navProcess:"Process",navProjects:"Projects",navContacts:"Contacts",homeScreenTitle:"\u041f\u0456\u0434\u043a\u0440\u0435\u0441\u043b\u0438 \u0441\u0432\u043e\u044e \u0456\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c",homeScreenSubtitle:"\u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0440\u0435\u0430\u043b\u0456\u0437\u0443\u0432\u0430\u0442\u0438 \u0441\u0432\u043e\u0457 \u0444\u0430\u043d\u0442\u0430\u0437\u0456\u0457 \n\u0432 \u0433\u043e\u0442\u043e\u0432\u043e\u043c\u0443 \u0431\u0443\u0434\u0438\u043d\u043a\u0443.",contactUs:"\u0417\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438",servicesBlockTitle:"\u041d\u0430\u0448\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438",serviceTitle1:"\u0412\u0438\u0431\u0456\u0440 \n\u0434\u0456\u043b\u044f\u043d\u043a\u0438",serviceSubtitle1:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438\u0432\u044b\u0430",serviceTitle2:"\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0442\u0430 \u0434\u0438\u0437\u0430\u0439\u043d",serviceSubtitle2:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",serviceTitle3:"\u0411\u0443\u0434\u0456\u0432\u043d\u0438\u0446\u0442\u0432\u043e \u043f\u0456\u0434 \u043a\u043b\u044e\u0447",serviceSubtitle3:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",serviceTitle4:"\u042e\u0440\u0438\u0434\u0438\u0447\u043d\u0438\u0439 \u0441\u0443\u043f\u0440\u043e\u0432\u0456\u0434",serviceSubtitle4:"\u042f\u043a\u0438\u0439\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u044f\u043a \u043e\u043f\u0438\u0441 \u0446\u0456\u0454\u0457 \u043f\u043e\u0441\u043b\u0443\u0433\u0438 \u0441\u044e\u0434\u0438 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0434\u043e\u0434\u0430\u0442\u0438",providedScreenTitle:"\u0429\u043e \u043c\u0438 \u0434\u0430\u0454\u043c\u043e",providedTitle:"\u0421\u0443\u0447\u0430\u0441\u043d\u0438\u0439 \u0431\u0443\u0434\u0438\u043d\u043e\u043a \u2014 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0442\u0430\u043a\u043e\u0433\u043e \u043d\u0435 \u0431\u0443\u0434\u0435!",providedSubtitle:"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u0441\u0442\u0438\u043b\u044c\u043d\u043e\u0433\u043e, \u0435\u043d\u0435\u0440\u0433\u043e-\u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e, \u0437\u0430\u0442\u0438\u0448\u043d\u043e\u0433\u043e \u0442\u0430 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0443\u0434\u0438\u043d\u043a\u0443.",offer1:"\u0415\u0441\u0442\u0435\u0442\u0438\u043a\u0430",offer2:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442",offer3:"\u0423\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0438\u0439 \n\u0431\u0443\u0434\u0438\u043d\u043e\u043a",offer4:"\u0406\u043d\u0434\u0438\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f",offer5:"\u0421\u0443\u0447\u0430\u0441\u043d\u0456 \n\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457",offer6:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441",teamScreenTitle:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",teamScreenSubtitle:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0442\u0456\u043b\u044c\u043a\u0438 \u0437 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u043e\u043d\u0430\u043b\u0456\u0432 \u0441\u0432\u043e\u0454\u0457 \u0441\u043f\u0440\u0430\u0432\u0438!",processScreenTitle:"\u041f\u0440\u043e\u0446\u0435\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c",process1:"\u041f\u0440\u043e\u0435\u043a\u0442\u0443\u0432\u0430\u043d\u043d\u044f \n\u0437 \u0437\u0430\u043c\u043e\u0432\u043d\u0438\u043a\u043e\u043c",process2:"\u041f\u0440\u043e\u0446\u0435\u0441 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457",process3:"\u041f\u0440\u0438\u0439\u043d\u044f\u0442\u0442\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0432 \u0433\u043e\u0442\u043e\u0432\u043e\u043c\u0443 \u0431\u0443\u0434\u0438\u043d\u043a\u0443",ourProjectsScreenTitle:"\u041d\u0430\u0448\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438",contactsScreenTitle:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",contactsScreenContactUs:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0443\u0439\u0442\u0435 \u043d\u0430\u043c:",contactsScreenSendUs:"\u041f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u043c:",contactsScreenFollowUs:"\u0421\u043b\u0456\u0434\u043a\u0443\u0439\u0442\u0435 \u0437\u0430 \u043d\u0430\u043c\u0438:",stanislav:"\u0421\u0442\u0430\u043d\u0456\u0441\u043b\u0430\u0432",irina:"\u0406\u0440\u0438\u043d\u0430",mikhailo:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e",stanislavResponsibilities:"\u0420\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f \u0442\u0430 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0456\u0432",irinaResponsibilities:"\u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430, \u0434\u0438\u0437\u0430\u0439\u043d",mikhailoResponsibilities:"\u0420\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f \u0442\u0430 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0456\u0432",square:"Square",wallMaterial:"Wall material",additional:"Additional"};let NP=(()=>{class n{constructor(){this.currentLanguage=uD.ua,this.languages={ua:d$,en:h$}}get lang(){return this.languages[this.currentLanguage]}changeLanguage(){this.currentLanguage="ua"===this.currentLanguage?"en":"ua"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ro=(()=>{class n{constructor(){this.translationService=(0,u.f3M)(NP)}transform(t,...r){return this.translationService.lang[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"translate",type:n,pure:!1,standalone:!0}),n})(),Rk=(()=>{class n{scrollToServices(t){const r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth"})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navigation"]],standalone:!0,features:[u.jDz],decls:21,vars:15,consts:[[1,"navbar"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"ul",0)(1,"li")(2,"a",1),u.NdJ("click",function(){return r.scrollToServices("servicesSection")}),u._uU(3),u.ALo(4,"translate"),u.qZA()(),u.TgZ(5,"li")(6,"a",1),u.NdJ("click",function(){return r.scrollToServices("teamSection")}),u._uU(7),u.ALo(8,"translate"),u.qZA()(),u.TgZ(9,"li")(10,"a",1),u.NdJ("click",function(){return r.scrollToServices("processSection")}),u._uU(11),u.ALo(12,"translate"),u.qZA()(),u.TgZ(13,"li")(14,"a",1),u.NdJ("click",function(){return r.scrollToServices("projectsSection")}),u._uU(15),u.ALo(16,"translate"),u.qZA()(),u.TgZ(17,"li")(18,"a",1),u.NdJ("click",function(){return r.scrollToServices("contactsSection")}),u._uU(19),u.ALo(20,"translate"),u.qZA()()()),2&t&&(u.xp6(3),u.Oqu(u.lcZ(4,5,"navServices")),u.xp6(4),u.Oqu(u.lcZ(8,7,"navTeam")),u.xp6(4),u.Oqu(u.lcZ(12,9,"navProcess")),u.xp6(4),u.Oqu(u.lcZ(16,11,"navProjects")),u.xp6(4),u.Oqu(u.lcZ(20,13,"navContacts")))},dependencies:[ai,Ro],styles:[".navbar[_ngcontent-%COMP%]{display:flex;list-style-type:none;gap:40px;align-items:center;font-size:18px;line-height:28px}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.3s;cursor:pointer}@media (min-width: 900px) and (max-width: 1100px){.navbar[_ngcontent-%COMP%]{font-size:14px}}@media (min-width: 768px) and (max-width: 899px){.navbar[_ngcontent-%COMP%]{gap:25px;font-size:14px}}@media (min-width: 360px) and (max-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}"]}),n})();const f$=["selectLang"],p$=function(){return{top:"30px"}},g$=function(){return{bottom:"30px"}};function m$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.changeLanguage())}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngStyle","header"===t.section?u.DdM(2,p$):u.DdM(3,g$)),u.xp6(1),u.Oqu("ua"===t.translationService.currentLanguage?"English":"\u0423\u043a\u0440")}}let _$=(()=>{class n{constructor(){this.translationService=(0,u.f3M)(NP),this.isAnotherLangShowed=!1}onClickOutside(t){this.selectLang.nativeElement.contains(t.target)||(this.isAnotherLangShowed=!1)}changeLanguage(){this.translationService.changeLanguage()}showAnotherLanguage(){this.isAnotherLangShowed=!this.isAnotherLangShowed}arrowPosition(){return this.isAnotherLangShowed?{transform:"rotate(45deg)","margin-bottom":"0px"}:{transform:"rotate(225deg)","margin-bottom":"5px"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-select-language"]],viewQuery:function(t,r){if(1&t&&u.Gf(f$,5),2&t){let i;u.iGM(i=u.CRH())&&(r.selectLang=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("click",function(o){return r.onClickOutside(o)},!1,u.evT)},inputs:{section:"section"},standalone:!0,features:[u.jDz],decls:7,vars:3,consts:[[1,"select-lang",3,"click"],["selectLang",""],[1,"select-lang__block"],[1,"select-lang__current-lang"],[1,"select-lang__arrow",3,"ngStyle"],["class","select-lang__another-lang",3,"ngStyle","click",4,"ngIf"],[1,"select-lang__another-lang",3,"ngStyle","click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("click",function(){return r.showAnotherLanguage()}),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u._UZ(5,"div",4),u.qZA(),u.YNc(6,m$,2,4,"div",5),u.qZA()),2&t&&(u.xp6(4),u.Oqu("ua"===r.translationService.currentLanguage?"\u0423\u043a\u0440":"English"),u.xp6(1),u.Q6J("ngStyle",r.arrowPosition()),u.xp6(1),u.Q6J("ngIf",r.isAnotherLangShowed))},dependencies:[ai,B,Kt],styles:[".select-lang[_ngcontent-%COMP%]{position:relative;cursor:pointer;width:80px;display:none}.select-lang__block[_ngcontent-%COMP%]{transition:.3s;display:flex;align-items:center}.select-lang__block[_ngcontent-%COMP%]:hover{color:#bd9b78}.select-lang__block[_ngcontent-%COMP%]:hover   .select-lang__arrow[_ngcontent-%COMP%]{border-color:#bd9b78}.select-lang__current-lang[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;height:24px}.select-lang__arrow[_ngcontent-%COMP%]{width:7px;height:7px;border-left:2px solid white;border-top:2px solid white;transform:rotate(225deg);transition:.3s;margin-bottom:5px}.select-lang__another-lang[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;justify-content:center;transition:.3s;height:28px}.select-lang__another-lang[_ngcontent-%COMP%]:hover{color:#bd9b78}"]}),n})(),y$=(()=>{class n{constructor(){this.openMenuEmitter=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],outputs:{openMenuEmitter:"openMenuEmitter"},standalone:!0,features:[u.jDz],decls:11,vars:0,consts:[[1,"header"],["src","assets/images/logo.png","alt","logo",1,"header__logo"],[1,"header__tools"],[1,"header__tools-block"],["section","header"],["href","tel:+380950059025",1,"header__tools-phone"],[1,"header__burger-button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"header")(1,"nav",0),u._UZ(2,"img",1)(3,"app-navigation"),u.TgZ(4,"div",2)(5,"div",3),u._UZ(6,"app-select-language",4),u.qZA(),u.TgZ(7,"a",5),u._uU(8,"+38 (095) 005 90 25"),u.qZA()(),u.TgZ(9,"button",6),u.NdJ("click",function(){return r.openMenuEmitter.emit()}),u._UZ(10,"span"),u.qZA()()())},dependencies:[Rk,_$],styles:['.header[_ngcontent-%COMP%]{padding-top:48px;display:grid;grid-template-columns:18% 44% 38%;scroll-behavior:smooth}.header__logo[_ngcontent-%COMP%]{width:120px;height:24px}.header__tools[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.header__tools-block[_ngcontent-%COMP%]{padding-right:40px;display:flex;align-items:center}.header__tools-phone[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;border-bottom:1px solid white;transition:.3s;cursor:pointer;text-decoration:none;color:#fff}.header__tools-phone[_ngcontent-%COMP%]:hover{color:#bd9b78;border-color:#bd9b78}.header__burger-button[_ngcontent-%COMP%]{display:none;width:48px;height:48px;background:none;border:1px solid white;position:relative;z-index:20}.header__burger-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:16px;height:2px;background-color:#fff;margin:0 auto;position:relative}.header__burger-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:#fff;width:16px;height:2px;left:0;bottom:5px}.header__burger-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:#fff;width:16px;height:2px;left:0;top:5px}@media (min-width: 900px) and (max-width: 1100px){.header__logo[_ngcontent-%COMP%]{width:120px;height:20px}.header__tools-phone[_ngcontent-%COMP%]{font-size:14px}}@media (min-width: 768px) and (max-width: 899px){.header__logo[_ngcontent-%COMP%]{width:120px;height:24px}.header__tools-phone[_ngcontent-%COMP%]{font-size:14px}}@media (min-width: 360px) and (max-width: 767px){.header[_ngcontent-%COMP%]{padding-top:32px;display:flex;justify-content:space-between;align-items:center}.header__logo[_ngcontent-%COMP%]{width:120px;height:24px;position:relative;z-index:20}.header__tools-phone[_ngcontent-%COMP%]{display:none}.header__burger-button[_ngcontent-%COMP%]{display:block}}']}),n})();class kk{}const xu="*";function RP(n,e){return{type:7,name:n,definitions:e,options:{}}}function al(n,e=null){return{type:4,styles:e,timings:n}}function Fk(n,e=null){return{type:2,steps:n,options:e}}function pi(n){return{type:6,styles:n,offset:null}}function wy(n,e,t){return{type:0,name:n,styles:e,options:t}}function ll(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Lk(n){Promise.resolve().then(n)}class X0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Lk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Vk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?Lk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let Uk=(()=>{class n{constructor(){this.onModalOpen=new u.vpe,this.isHover=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-button-contact"]],outputs:{onModalOpen:"onModalOpen"},standalone:!0,features:[u.jDz],decls:4,vars:4,consts:[[1,"button",3,"mouseover","mouseleave","click"],[1,"button-border"]],template:function(t,r){1&t&&(u.TgZ(0,"button",0),u.NdJ("mouseover",function(){return r.isHover=!0})("mouseleave",function(){return r.isHover=!1})("click",function(){return r.onModalOpen.emit()}),u._UZ(1,"div",1),u._uU(2),u.ALo(3,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Q6J("@contactUs",r.isHover&&"over"),u.xp6(1),u.hij(" ",u.lcZ(3,2,"contactUs"),"\n"))},dependencies:[ai,Ro],styles:['.button[_ngcontent-%COMP%]{font-family:Mont,sans-serif;margin-top:40px;color:#fff;width:288px;height:56px;background-color:#bd9b78;border:none;position:relative;transition:all .6s;cursor:pointer}.button-border[_ngcontent-%COMP%]{content:"";position:absolute;background-color:transparent;border:1px solid #BD9B78;transition:all .6s ease;bottom:0;right:0;width:100%;height:100%;box-sizing:border-box}@media (min-width: 360px) and (max-width: 767px){.button[_ngcontent-%COMP%]{margin-top:24px;width:100%}}'],data:{animation:[RP("contactUs",[wy("over",pi({bottom:"-6px",right:"-6px"})),ll(":enter",[pi({bottom:"0px",right:"0px"}),al(".2s ease-in-out")]),ll(":leave",[al(".2s ease-in-out",pi({bottom:"0px",right:"0px"}))])])]}}),n})();const w$=function(){return{opacity:"100%"}},E$=function(){return{opacity:"50%"}};function C$(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",19),u.NdJ("click",function(){const o=u.CHM(t).index,c=u.oxw(3);return u.KtG(c.changeBackground(o))}),u.TgZ(2,"p",20),u._uU(3),u.qZA(),u._UZ(4,"div",21),u.qZA(),u.BQk()}if(2&n){const t=e.index,r=u.oxw(3);u.xp6(2),u.Q6J("ngStyle",r.currentBackground===t?u.DdM(3,w$):u.DdM(4,E$)),u.xp6(1),u.hij("0",t+1,""),u.xp6(1),u.Q6J("hidden",r.currentBackground!==t)}}function b$(n,e){if(1&n&&(u.ynx(0),u.YNc(1,C$,5,5,"ng-container",18),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.homeScreenBackgrounds)}}function I$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",22)(1,"ul",23)(2,"li")(3,"a",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.scrollToServices("servicesSection"))}),u._uU(4),u.ALo(5,"translate"),u.qZA()(),u.TgZ(6,"li")(7,"a",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.scrollToServices("teamSection"))}),u._uU(8),u.ALo(9,"translate"),u.qZA()(),u.TgZ(10,"li")(11,"a",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.scrollToServices("processSection"))}),u._uU(12),u.ALo(13,"translate"),u.qZA()(),u.TgZ(14,"li")(15,"a",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.scrollToServices("projectsSection"))}),u._uU(16),u.ALo(17,"translate"),u.qZA()(),u.TgZ(18,"li")(19,"a",24),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.scrollToServices("contactsSection"))}),u._uU(20),u.ALo(21,"translate"),u.qZA()()(),u.TgZ(22,"div",25)(23,"a",11),u._uU(24,"Facebook"),u.qZA(),u.TgZ(25,"a",12),u._uU(26,"Instagram"),u.qZA()()()}2&n&&(u.xp6(4),u.Oqu(u.lcZ(5,5,"navServices")),u.xp6(4),u.Oqu(u.lcZ(9,7,"navTeam")),u.xp6(4),u.Oqu(u.lcZ(13,9,"navProcess")),u.xp6(4),u.Oqu(u.lcZ(17,11,"navProjects")),u.xp6(4),u.Oqu(u.lcZ(21,13,"navContacts")))}function T$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"section",1)(1,"div",2)(2,"app-header",3),u.NdJ("openMenuEmitter",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onMenuOpen())}),u.qZA(),u.TgZ(3,"div",4)(4,"div",5)(5,"h1",6),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"h2",7),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.TgZ(11,"app-button-contact",8),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.modalEmitter.emit("form"))})("onModalOpen",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onModalOpen.emit())}),u.qZA()()(),u.TgZ(12,"div",9)(13,"div",10)(14,"a",11),u._uU(15,"Facebook"),u.qZA(),u.TgZ(16,"a",12),u._uU(17,"Instagram"),u.qZA()(),u.TgZ(18,"div",13)(19,"button",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.changeToPrevBackground())}),u._UZ(20,"span"),u.qZA(),u.TgZ(21,"button",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.changeToNextBackground())}),u._UZ(22,"span"),u.qZA()()()(),u.TgZ(23,"div",15),u.YNc(24,b$,2,1,"ng-container",16),u.qZA(),u.YNc(25,I$,27,15,"div",17),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngStyle",t.getBackground()),u.xp6(6),u.Oqu(u.lcZ(7,7,"homeScreenTitle")),u.xp6(3),u.Oqu(u.lcZ(10,9,"homeScreenSubtitle")),u.xp6(10),u.Q6J("disabled",0===t.currentBackground),u.xp6(2),u.Q6J("disabled",t.homeScreenBackgrounds.length-1===t.currentBackground),u.xp6(3),u.Q6J("ngIf",t.homeScreenBackgrounds),u.xp6(1),u.Q6J("ngIf",t.isMenuOpened)}}let D$=(()=>{class n{constructor(){this.onModalOpen=new u.vpe,this.modalEmitter=new u.vpe,this.currentBackground=0,this.timer=7e5,this.isMenuOpened=!1}onMenuOpen(){this.isMenuOpened=!this.isMenuOpened,console.log(this.isMenuOpened)}changeToPrevBackground(){this.currentBackground--,this.startInterval()}changeToNextBackground(){this.currentBackground++,this.startInterval()}changeBackground(t){this.currentBackground=t,this.startInterval()}startInterval(){clearInterval(this.interval),this.interval=setInterval(()=>{this.homeScreenBackgrounds.length-1===this.currentBackground?this.currentBackground=0:this.currentBackground++},this.timer)}getBackground(){return{background:`linear-gradient(rgba(0, 0, 0, 0.6),\n      rgba(0, 0, 0, 0.6)), url(${this.homeScreenBackgrounds[this.currentBackground]})`}}scrollToServices(t){const r=document.getElementById(t);r&&(this.isMenuOpened=!1,r.scrollIntoView({behavior:"smooth"}))}ngOnInit(){this.homeScreenBackgrounds.length>1&&this.startInterval()}ngOnDestroy(){clearInterval(this.interval)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-screen"]],inputs:{homeScreenBackgrounds:"homeScreenBackgrounds"},outputs:{onModalOpen:"onModalOpen",modalEmitter:"modalEmitter"},standalone:!0,features:[u.jDz],decls:1,vars:1,consts:[["class","home-container",3,"ngStyle",4,"ngIf"],[1,"home-container",3,"ngStyle"],[1,"_container"],[3,"openMenuEmitter"],[1,"home-container__text","_container_small"],[1,"home-container__text-block"],[1,"home-container__text-title"],[1,"home-container__text-subtitle"],[3,"click","onModalOpen"],[1,"home-container__footer"],[1,"home-container__footer-contacts"],["href","https://www.facebook.com/7house.ua/"],["href","https://www.instagram.com/7house.ua/"],[1,"home-container__footer-buttons","d-flex","space-between"],[3,"disabled","click"],[1,"home-container__carousel"],[4,"ngIf"],["class","menu",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"home-container__carousel-item",3,"click"],[3,"ngStyle"],[1,"home-container__carousel-item-line",3,"hidden"],[1,"menu"],[1,"menu__navbar"],[3,"click"],[1,"menu__contacts"]],template:function(t,r){1&t&&u.YNc(0,T$,26,11,"section",0),2&t&&u.Q6J("ngIf",r.homeScreenBackgrounds)},dependencies:[ai,or,B,Kt,y$,Ro,Uk],styles:['.home-container[_ngcontent-%COMP%]{height:100vh;color:#fff;background-size:cover!important;background-position:center center!important}.home-container__text[_ngcontent-%COMP%]{margin-top:17vh;height:53vh;display:flex;align-items:center}.home-container__text-title[_ngcontent-%COMP%]{width:698px;font-size:80px;line-height:96px}.home-container__text-subtitle[_ngcontent-%COMP%]{margin-top:24px;width:622px;font-size:24px;font-weight:100}.home-container__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10vh;align-items:flex-end}.home-container__footer-contacts[_ngcontent-%COMP%]{display:flex;gap:40px;height:28px}.home-container__footer-contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#fff;text-decoration:none;transition:.3s}.home-container__footer-contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#bd9b78}.home-container__footer-buttons[_ngcontent-%COMP%]{width:136px}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;width:56px;background:none;cursor:pointer;border:1px solid rgba(255,255,255,.5);transition:.3s}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#bd9b78}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{z-index:2;cursor:pointer;transition:.3s;position:relative}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover:before, .home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover:after{background-color:#bd9b78}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:before{content:"";width:55px;height:1px;background-color:#fff;top:0;left:0;position:absolute;z-index:1}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:after{content:"";width:1px;height:40px;background-color:#fff;top:0;left:54px;position:absolute;z-index:1}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:2px;display:block;margin:0 auto;position:relative;background-color:#fff;transition:.3s}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background-color:#bd9b78}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;left:0;top:-5px;transform:rotate(45deg);transition:.3s;border-bottom:2px solid white;border-left:2px solid white}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;top:-5px;left:4px;transform:rotate(315deg);transition:.3s;border-bottom:2px solid white;border-right:2px solid white}.home-container__footer-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:before{border-color:#bd9b78}.home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before, .home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{cursor:auto;border-color:#ffffff80}.home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ffffff80}.home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:before, .home-container__footer-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:after{display:none}.home-container__carousel[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:100vh;display:flex;flex-direction:column;justify-content:center}.home-container__carousel-item[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:pointer}.home-container__carousel-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}.home-container__carousel-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:.3s;height:24px;width:20px;font-size:18px;display:flex;align-items:center;margin-right:16px}.home-container__carousel-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{opacity:1!important}.home-container__carousel-item-line[_ngcontent-%COMP%]{height:1px;width:80px;color:#fff;background-color:#fff}',"@media (min-width: 900px) and (max-width: 1100px){.home-container__text-title[_ngcontent-%COMP%]{margin-top:10vh;width:680px;font-size:60px;line-height:90px}.home-container__text-subtitle[_ngcontent-%COMP%]{width:600px;font-size:20px}.home-container__footer[_ngcontent-%COMP%]{margin-top:50px;position:absolute;bottom:32px;width:85%}}@media (min-width: 768px) and (max-width: 899px){.home-container__text-title[_ngcontent-%COMP%]{width:100%;font-size:54px;line-height:76px}.home-container__text-subtitle[_ngcontent-%COMP%]{width:480px;font-size:20px}.home-container__footer[_ngcontent-%COMP%]{position:absolute;bottom:32px;width:95%}}@media (min-width: 360px) and (max-width: 767px){.home-container[_ngcontent-%COMP%]{position:relative;min-height:812px;height:100vh}.home-container__text[_ngcontent-%COMP%]{margin-top:17vh}.home-container__text-title[_ngcontent-%COMP%]{width:100%;font-size:32px;line-height:48px}.home-container__text-subtitle[_ngcontent-%COMP%]{width:100%;font-size:16px;margin-top:16px;line-height:24px}.home-container__footer[_ngcontent-%COMP%]{width:auto;position:absolute;right:32px;bottom:32px}.home-container__footer-contacts[_ngcontent-%COMP%]{display:none}.home-container__footer-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:24px;width:auto}.home-container__carousel[_ngcontent-%COMP%]{position:absolute;inset:auto auto 32px 32px;height:28px;display:flex;flex-direction:row;justify-content:normal}.home-container__carousel-item-line[_ngcontent-%COMP%]{display:none}.home-container__carousel-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0}.home-container[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:100vh;background-color:#000;width:100%;position:fixed;top:0;z-index:15}.home-container[_ngcontent-%COMP%]   .menu__navbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:32px;line-height:48px;color:#fff;margin-left:32px;margin-top:184px;list-style:none;font-weight:700;font-size:32px}.home-container[_ngcontent-%COMP%]   .menu__contacts[_ngcontent-%COMP%]{margin-left:32px;display:flex;flex-direction:column;margin-top:48px;row-gap:16px}.home-container[_ngcontent-%COMP%]   .menu__contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;line-height:28px;font-size:18px}}"]}),n})(),S$=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-service"]],inputs:{service:"service"},standalone:!0,features:[u.jDz],decls:5,vars:4,consts:[[1,"service"],["alt","service",1,"service__img",3,"src"],[1,"service__title"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"h3",2),u._uU(3),u.ALo(4,"translate"),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("src",r.service.imgURL,u.LSH),u.xp6(2),u.Oqu(u.lcZ(4,2,r.service.title)))},dependencies:[ai,Ro],styles:[".service[_ngcontent-%COMP%]{width:100%;height:320px;border:1px solid rgba(189,155,120,.3);box-sizing:border-box;padding-left:24px;padding-top:24px;transition:.3s;cursor:pointer}.service__img[_ngcontent-%COMP%]{width:88px;height:88px}.service__title[_ngcontent-%COMP%]{margin-top:24px;width:192px;line-height:32px;white-space:pre-line;font-size:24px;font-weight:600}.service__subtitle[_ngcontent-%COMP%]{margin-top:24px;width:192px;color:#7f8b99}.service[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 1px #bd9b78}@media (min-width: 360px) and (max-width: 767px){.service[_ngcontent-%COMP%]{height:264px}}"]}),n})();function A$(n,e){1&n&&u._UZ(0,"app-service",5),2&n&&u.Q6J("service",e.$implicit)}let x$=(()=>{class n{constructor(){this.services=[{imgURL:"assets/images/service1.png",title:"serviceTitle1",subtitle:"serviceSubtitle1"},{imgURL:"assets/images/service2.png",title:"serviceTitle2",subtitle:"serviceSubtitle2"},{imgURL:"assets/images/service3.png",title:"serviceTitle3",subtitle:"serviceSubtitle3"},{imgURL:"assets/images/service4.png",title:"serviceTitle4",subtitle:"serviceSubtitle4"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-services-screen"]],standalone:!0,features:[u.jDz],decls:7,vars:4,consts:[["id","servicesSection",1,"services-container"],[1,"_container"],[1,"_container_small"],[1,"services-container__list","_container_small"],[3,"service",4,"ngFor","ngForOf"],[3,"service"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"div",3),u.YNc(6,A$,1,1,"app-service",4),u.qZA()()()),2&t&&(u.xp6(3),u.Oqu(u.lcZ(4,2,"servicesBlockTitle")),u.xp6(3),u.Q6J("ngForOf",r.services))},dependencies:[ai,or,Ro,S$],styles:[".services-container[_ngcontent-%COMP%]{min-height:632px;padding-top:104px;box-sizing:border-box}.services-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;box-sizing:border-box;padding-left:8px;border-left:4px solid #BD9B78;min-height:72px;font-size:56px;font-weight:700}.services-container__list[_ngcontent-%COMP%]{margin:48px auto 64px;display:grid;grid-template-columns:repeat(4,240px);gap:32px}@media (min-width: 900px) and (max-width: 1100px){.services-container__list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 768px) and (max-width: 899px){.services-container__list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 360px) and (max-width: 767px){.services-container__list[_ngcontent-%COMP%]{grid-template-columns:311px;justify-content:center}}"]}),n})(),M$=(()=>{class n{constructor(){this.isHover=!1}getOfferBackground(t){return{"background-image":`url(${t})`,"background-size":"cover","background-position":"center center"}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-benefit"]],inputs:{benefit:"benefit"},standalone:!0,features:[u.jDz],decls:5,vars:5,consts:[[1,"benefit",3,"ngStyle","mouseover","mouseleave"],[1,"benefit__dark"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.NdJ("mouseover",function(){return r.isHover=!0})("mouseleave",function(){return r.isHover=!1}),u.TgZ(1,"p"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u._UZ(4,"div",1),u.qZA()),2&t&&(u.Q6J("ngStyle",r.getOfferBackground(r.benefit.imgURL)),u.xp6(2),u.Oqu(u.lcZ(3,3,r.benefit.title)),u.xp6(2),u.Q6J("@hover",r.isHover&&"over"))},dependencies:[ai,Kt,Ro],styles:[".benefit[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;position:relative;cursor:pointer}.benefit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;line-height:32px;padding-left:48px;white-space:pre-line;position:absolute;z-index:1;font-size:24px;font-weight:600}.benefit__dark[_ngcontent-%COMP%]{transition:.3s;position:absolute;width:100%;height:100%;top:0;left:0;background-color:#0009}@media (min-width: 768px) and (max-width: 899px){.benefit[_ngcontent-%COMP%]{height:180px}}@media (min-width: 360px) and (max-width: 767px){.benefit[_ngcontent-%COMP%]{height:184px;width:280px}}"],data:{animation:[RP("hover",[wy("over",pi({opacity:.3})),ll(":enter",[pi({opacity:0}),al(".2s ease-in-out")]),ll(":leave",[al(".3s ease-in-out",pi({opacity:0}))])])]}}),n})();function P$(n,e){1&n&&u._UZ(0,"app-benefit",10),2&n&&u.Q6J("benefit",e.$implicit)}let O$=(()=>{class n{constructor(){this.benefits=[{imgURL:"assets/images/benefit-photo-1.png",title:"offer1"},{imgURL:"assets/images/benefit-photo-2.png",title:"offer2"},{imgURL:"assets/images/benefit-photo-3.png",title:"offer3"},{imgURL:"assets/images/benefit-photo-4.png",title:"offer4"},{imgURL:"assets/images/benefit-photo-5.png",title:"offer5"},{imgURL:"assets/images/benefit-photo-6.png",title:"offer6"}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-benefits-screen"]],standalone:!0,features:[u.jDz],decls:16,vars:10,consts:[[1,"benefits"],[1,"_container_small"],[1,"benefits__header"],[1,"benefits__header-title"],[1,"benefits__header-title-text"],[1,"benefits__header-content"],[1,"benefits__header-content-subtitle"],[1,"benefits__header-content-description"],[1,"benefits__list"],[3,"benefit",4,"ngFor","ngForOf"],[3,"benefit"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),u._uU(5),u.ALo(6,"translate"),u.qZA()(),u.TgZ(7,"div",5)(8,"p",6),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.TgZ(11,"p",7),u._uU(12),u.ALo(13,"translate"),u.qZA()()(),u.TgZ(14,"div",8),u.YNc(15,P$,1,1,"app-benefit",9),u.qZA()()()),2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,4,"providedScreenTitle")),u.xp6(4),u.hij(" ",u.lcZ(10,6,"providedTitle")," "),u.xp6(3),u.hij(" ",u.lcZ(13,8,"providedSubtitle")," "),u.xp6(3),u.Q6J("ngForOf",r.benefits))},dependencies:[ai,or,Ro,M$],styles:[".benefits[_ngcontent-%COMP%]{background-color:#282428;min-height:824px}.benefits__header[_ngcontent-%COMP%]{height:136px;padding-top:96px;color:#fff;display:flex;justify-content:space-between}.benefits__header-title[_ngcontent-%COMP%]{margin-top:8px;border-left:4px solid #BD9B78;width:480px;height:72px;box-sizing:border-box}.benefits__header-title-text[_ngcontent-%COMP%]{padding-left:8px;font-size:56px;font-weight:700;width:468px;height:64px}.benefits__header-content[_ngcontent-%COMP%]{width:480px}.benefits__header-content-subtitle[_ngcontent-%COMP%]{line-height:32px;font-size:24px;font-weight:600}.benefits__header-content-description[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;line-height:28px;opacity:80%}.benefits__list[_ngcontent-%COMP%]{margin-top:48px;display:grid;grid-template-columns:repeat(3,320px);gap:48px;padding-bottom:48px}@media (min-width: 900px) and (max-width: 1100px){.benefits__header[_ngcontent-%COMP%]{height:200px;display:grid;grid-template-columns:376px 376px}.benefits__header-title[_ngcontent-%COMP%]{width:100%;height:156px}.benefits__header-title-text[_ngcontent-%COMP%], .benefits__header-content[_ngcontent-%COMP%]{width:100%}.benefits__list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,320px)}}@media (min-width: 768px) and (max-width: 899px){.benefits__header[_ngcontent-%COMP%]{height:250px;display:flex;row-gap:48px;flex-direction:column;margin-bottom:48px}.benefits__header-title[_ngcontent-%COMP%], .benefits__header-title-text[_ngcontent-%COMP%], .benefits__header-content[_ngcontent-%COMP%]{width:100%}.benefits__list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,280px)}}@media (min-width: 360px) and (max-width: 767px){.benefits[_ngcontent-%COMP%]{min-height:628px}.benefits[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit}.benefits__header[_ngcontent-%COMP%]{height:250px;display:flex;row-gap:48px;width:90%;flex-direction:column;margin:0 auto}.benefits__header-title[_ngcontent-%COMP%]{width:100%}.benefits__header-title-text[_ngcontent-%COMP%]{width:100%;font-size:32px;height:auto}.benefits__header-content[_ngcontent-%COMP%]{width:100%}.benefits__list[_ngcontent-%COMP%]{display:flex;overflow-x:scroll;justify-content:space-between;width:95%;gap:24px;margin-left:auto;padding:0;pointer-events:auto}}"]}),n})();function N$(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"p"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.ALo(6,"translate"),u.qZA()()),2&n){const t=u.oxw();u.xp6(2),u.Oqu(u.lcZ(3,2,t.teammate.name)),u.xp6(3),u.Oqu(u.lcZ(6,4,t.teammate.responsibility))}}let R$=(()=>{class n{constructor(){this.isReadable=!1}getBackgroundTeammate(t){return{"background-image":`url(${t})`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-teammate"]],inputs:{teammate:"teammate"},standalone:!0,features:[u.jDz],decls:7,vars:6,consts:[[1,"teammate",3,"ngStyle"],[1,"teammate__container"],[1,"teammate__block",3,"click"],[1,"teammate__block-info"],["class","teammate__block-info-content",4,"ngIf"],[1,"teammate__block-button"],[1,"teammate__button-icon"],[1,"teammate__block-info-content"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u.NdJ("click",function(){return r.isReadable=!r.isReadable}),u.TgZ(3,"div",3),u.YNc(4,N$,7,6,"div",4),u.qZA(),u.TgZ(5,"div",5),u._UZ(6,"div",6),u.qZA()()()()),2&t&&(u.Q6J("ngStyle",r.getBackgroundTeammate(r.teammate.imgURL)),u.xp6(1),u.Q6J("@readmore",r.isReadable?"container":"container-out"),u.xp6(1),u.Q6J("@readmore",r.isReadable?"info":"info-out"),u.xp6(1),u.Q6J("@readmore",r.isReadable&&"text"),u.xp6(1),u.Q6J("ngIf",r.isReadable),u.xp6(1),u.Q6J("@readmore",r.isReadable&&"plus"))},dependencies:[ai,B,Kt,Ro],styles:['.teammate[_ngcontent-%COMP%]{height:100%;position:relative;background-size:cover}.teammate__container[_ngcontent-%COMP%]{position:absolute;width:56px;height:56px;bottom:24px;right:24px;display:flex;justify-content:flex-end;background-color:#fff}.teammate__block[_ngcontent-%COMP%]{width:56px;background-color:#fff;transition:.5s;position:absolute;bottom:0;cursor:pointer}.teammate__block-info[_ngcontent-%COMP%]{min-height:56px;height:-moz-fit-content;height:fit-content;transition:1.5s;opacity:0}.teammate__block-info-content[_ngcontent-%COMP%]{width:200px;padding:16px 0 16px 16px}.teammate__block-info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{line-height:32px;margin-bottom:8px;width:80%;font-size:24px;font-weight:600}.teammate__block-info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{font-size:16px;line-height:24px;color:#7f8b99;width:70%}.teammate__block-button[_ngcontent-%COMP%]{transform:rotate(0);transition:.5s;width:20px;height:20px;position:absolute;bottom:18px;right:18px}.teammate__block-button[_ngcontent-%COMP%]:after{content:"";width:14px;height:2px;background-color:#bd9b78;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.teammate__block-button[_ngcontent-%COMP%]:before{content:"";width:2px;height:14px;background-color:#bd9b78;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}'],data:{animation:[RP("readmore",[wy("plus",pi({transform:"rotate(45deg)"})),ll(":enter",[pi({transform:"rotate(45deg)"}),al(".5s")]),ll(":leave",[al(".5s",pi({transform:"rotate(0)"}))]),wy("info",pi({width:"272px"})),wy("info-out",pi({width:"56px"})),ll("info => info-out",[pi({width:"272px"}),al(".5s",pi({width:"56px"}))]),ll("info-out => info",[pi({width:"56px"}),al(".5s",pi({width:"272px"}))]),ll(":leave",[al(".5s",pi({width:"272px"}))]),wy("text",pi({opacity:1})),ll(":enter",[pi({opacity:1}),al("1.5s")]),ll(":leave",[al("1.5s",pi({opacity:0}))])])]}}),n})();function k$(n,e){1&n&&u._UZ(0,"app-teammate",5),2&n&&u.Q6J("teammate",e.$implicit)}let F$=(()=>{class n{constructor(){this.team=[{imgURL:"assets/images/stanislav.png",name:"stanislav",responsibility:"stanislavResponsibilities"},{imgURL:"assets/images/irina.png",name:"irina",responsibility:"irinaResponsibilities"},{imgURL:"assets/images/mikhailo.png",name:"mikhailo",responsibility:"mikhailoResponsibilities"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-team-screen"]],standalone:!0,features:[u.jDz],decls:11,vars:7,consts:[["id","teamSection",1,"team"],[1,"_container_small"],[1,"team__header"],[1,"team__teammates"],[3,"teammate",4,"ngFor","ngForOf"],[3,"teammate"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.ALo(8,"translate"),u.qZA()(),u.TgZ(9,"div",3),u.YNc(10,k$,1,1,"app-teammate",4),u.qZA()()()),2&t&&(u.xp6(4),u.Oqu(u.lcZ(5,3,"teamScreenTitle")),u.xp6(3),u.Oqu(u.lcZ(8,5,"teamScreenSubtitle")),u.xp6(3),u.Q6J("ngForOf",r.team))},dependencies:[ai,or,Ro,R$],styles:[".team[_ngcontent-%COMP%]{height:656px}.team__header[_ngcontent-%COMP%]{height:72px;margin-top:96px;display:flex;justify-content:space-between;align-items:center;box-sizing:border-box}.team__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-left:4px solid #BD9B78;padding-left:16px;height:72px;line-height:72px;font-size:56px;font-weight:700}.team__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:480px;height:64px;font-weight:600;font-size:24px;line-height:32px}.team__teammates[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,320px);height:440px;gap:48px;margin-top:48px}@media (min-width: 900px) and (max-width: 1100px){.team[_ngcontent-%COMP%]{height:620px;position:relative}.team[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit;padding:0}.team__header[_ngcontent-%COMP%]{width:95%;margin-left:auto}.team__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.team__teammates[_ngcontent-%COMP%]{height:440px;width:95%;gap:24px;overflow-x:scroll;margin-left:auto}}@media (min-width: 768px) and (max-width: 899px){.team[_ngcontent-%COMP%]{height:560px;position:relative}.team[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit;width:100%;padding:0}.team__header[_ngcontent-%COMP%]{width:95%;margin-left:auto;margin-top:60px}.team__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.team__teammates[_ngcontent-%COMP%]{height:385px;width:95%;gap:24px;overflow-x:scroll;margin-left:auto}}@media (min-width: 360px) and (max-width: 767px){.team[_ngcontent-%COMP%]{height:696px;position:relative}.team[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit;width:100%;padding:0}.team__header[_ngcontent-%COMP%]{width:95%;margin-left:auto;margin-top:60px;display:flex;flex-direction:column;align-items:flex-start;min-height:140px;gap:48px}.team__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:56px;line-height:56px;font-size:32px}.team__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:auto;width:95%;font-size:24px}.team__teammates[_ngcontent-%COMP%]{height:380px;width:95%;gap:24px;overflow-x:scroll;margin-left:auto;margin-top:100px}}"]}),n})(),L$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-project"]],inputs:{project:"project"},standalone:!0,features:[u.jDz],decls:8,vars:3,consts:[[1,"project"],[1,"project__image-block"],["alt","project's image",3,"src"],[1,"project__content"],[1,"project__content-title"],[1,"project__content-subtitle"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"p",4),u._uU(5),u.qZA(),u.TgZ(6,"p",5),u._uU(7),u.qZA()()()),2&t&&(u.xp6(2),u.Q6J("src",r.project.imgURL,u.LSH),u.xp6(3),u.Oqu(r.project.title),u.xp6(2),u.Oqu(r.project.subtitleUA))},dependencies:[ai],styles:[".project[_ngcontent-%COMP%]{height:100%;width:480px;transition:.3s;cursor:pointer}.project__image-block[_ngcontent-%COMP%]{height:320px;transition:.3s}.project[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.project__content[_ngcontent-%COMP%]{margin-top:28px;width:384px}.project__content-title[_ngcontent-%COMP%]{transition:.3s;line-height:32px;font-size:24px;font-weight:600}.project__content-subtitle[_ngcontent-%COMP%]{transition:.3s;margin-top:8px;color:#7f8b99;white-space:pre-line}.project__image-block[_ngcontent-%COMP%]:hover{box-shadow:8px 8px 1px #bd9b78}.project[_ngcontent-%COMP%]:hover   .project__content-title[_ngcontent-%COMP%]{color:#bd9b78}.project[_ngcontent-%COMP%]:hover   .project__content-subtitle[_ngcontent-%COMP%]{color:#000}@media (min-width: 360px) and (max-width: 767px){.project[_ngcontent-%COMP%]{width:280px}.project__image-block[_ngcontent-%COMP%]{height:200px}.project__content[_ngcontent-%COMP%]{margin-top:24px;width:100%}}"]}),n})();const V$=["itemsContainer"];function U$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-project",22),u.NdJ("click",function(){const o=u.CHM(t).index,c=u.oxw();return u.KtG(c.openProjectsModal(o))}),u.qZA()}2&n&&u.Q6J("project",e.$implicit)}let B$=(()=>{class n{constructor(t){this.renderer=t,this.modalEmitter=new u.vpe,this.onModalOpen=new u.vpe,this.currenProjectIndexEmitter=new u.vpe,this.maxScrollLeft=576,this.isLeftButtonDisabled=!0,this.isRightButtonDisabled=!1}ngAfterViewInit(){this.itemsContainer.nativeElement.addEventListener("scroll",this.updateScrollButtons.bind(this))}scrollLeft(){const t=this.itemsContainer.nativeElement,i=Math.max(0,t.scrollLeft-this.maxScrollLeft);this.renderer.setProperty(t,"scrollLeft",i),this.updateScrollButtons()}scrollRight(){console.log("check");const t=this.itemsContainer.nativeElement,i=Math.min(t.scrollWidth-t.clientWidth,t.scrollLeft+this.maxScrollLeft);this.renderer.setProperty(t,"scrollLeft",i),this.updateScrollButtons()}updateScrollButtons(){const t=this.itemsContainer.nativeElement;this.isLeftButtonDisabled=0===t.scrollLeft,this.isRightButtonDisabled=t.scrollLeft===t.scrollWidth-t.clientWidth}openProjectsModal(t){this.modalEmitter.emit("projects"),this.onModalOpen.emit(),this.currenProjectIndexEmitter.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-projects-screen"]],viewQuery:function(t,r){if(1&t&&u.Gf(V$,5),2&t){let i;u.iGM(i=u.CRH())&&(r.itemsContainer=i.first)}},inputs:{projects:"projects"},outputs:{modalEmitter:"modalEmitter",onModalOpen:"onModalOpen",currenProjectIndexEmitter:"currenProjectIndexEmitter"},standalone:!0,features:[u.jDz],decls:47,vars:18,consts:[["id","processSection",1,"projects"],[1,"projects__dark"],[1,"_container_small"],[1,"projects__title"],[1,"projects__title-block"],[1,"projects__title-block-text"],[1,"projects__first","d-flex","space-between"],[1,"process"],["src","assets/images/designing.png","alt","designing",1,"process-img"],[1,"projects__second","d-flex","space-between"],["src","assets/images/release.png","alt","release",1,"process-img"],[1,"projects__third"],["src","assets/images/applying-project.png","alt","applying-project"],["id","projectsSection",1,"_container","projects-list"],[1,"projects__list"],[1,"projects__list-title","d-flex","space-between"],[1,"projects__list-title-buttons"],[3,"disabled","click"],[1,"projects__list-items","d-flex","space-between"],["itemsContainer",""],[3,"project","click",4,"ngFor","ngForOf"],[1,"projects__list-additional"],[3,"project","click"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u._uU(6),u.ALo(7,"translate"),u.qZA()()(),u.TgZ(8,"div",6)(9,"div",7)(10,"p"),u._uU(11,"01"),u.qZA(),u.TgZ(12,"p"),u._uU(13),u.ALo(14,"translate"),u.qZA()(),u._UZ(15,"img",8),u.qZA(),u.TgZ(16,"div",9),u._UZ(17,"img",10),u.TgZ(18,"div",7)(19,"p"),u._uU(20,"02"),u.qZA(),u.TgZ(21,"p"),u._uU(22),u.ALo(23,"translate"),u.qZA()()(),u.TgZ(24,"div",11)(25,"div",7)(26,"p"),u._uU(27,"03"),u.qZA(),u.TgZ(28,"p"),u._uU(29),u.ALo(30,"translate"),u.qZA()(),u._UZ(31,"img",12),u.qZA()()(),u.TgZ(32,"section",13)(33,"div",14)(34,"div",15)(35,"h2"),u._uU(36),u.ALo(37,"translate"),u.qZA(),u.TgZ(38,"div",16)(39,"button",17),u.NdJ("click",function(){return r.scrollLeft()}),u._UZ(40,"span"),u.qZA(),u.TgZ(41,"button",17),u.NdJ("click",function(){return r.scrollRight()}),u._UZ(42,"span"),u.qZA()()(),u.TgZ(43,"div",18,19),u.YNc(45,U$,1,1,"app-project",20),u.qZA(),u._UZ(46,"div",21),u.qZA()()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,8,"processScreenTitle")),u.xp6(7),u.Oqu(u.lcZ(14,10,"process1")),u.xp6(9),u.Oqu(u.lcZ(23,12,"process2")),u.xp6(7),u.Oqu(u.lcZ(30,14,"process3")),u.xp6(7),u.Oqu(u.lcZ(37,16,"ourProjectsScreenTitle")),u.xp6(3),u.Q6J("disabled",r.isLeftButtonDisabled),u.xp6(2),u.Q6J("disabled",r.isRightButtonDisabled),u.xp6(4),u.Q6J("ngForOf",r.projects))},dependencies:[ai,or,Ro,L$],styles:['.projects[_ngcontent-%COMP%]{height:2062px;position:relative}.projects[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{position:relative}.projects__dark[_ngcontent-%COMP%]{height:1823px;background-color:#282428;position:absolute;width:100%;top:0;z-index:-1}.projects__title[_ngcontent-%COMP%]{padding-top:96px}.projects__title-block[_ngcontent-%COMP%]{width:100%;height:72px;box-sizing:border-box;padding-left:8px;border-left:4px solid #BD9B78}.projects__title-block-text[_ngcontent-%COMP%]{color:#fff;width:1044px;height:64px;padding-top:6px;font-size:56px;font-weight:700;line-height:64px}.projects[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{height:239px;width:480px;margin-top:72px;position:relative}.projects[_ngcontent-%COMP%]   .process-img[_ngcontent-%COMP%]{width:480px;height:480px}.projects__first[_ngcontent-%COMP%]{margin-top:96px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#bd9b78;opacity:50%;width:158px;height:204px;position:absolute;top:0;left:0;font-size:160px;font-weight:700;line-height:204px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{position:absolute;top:95px;color:#fff;white-space:pre-line;font-weight:700;font-size:56px}.projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#bd9b78;opacity:50%;width:158px;height:204px;position:absolute;top:0;left:0;font-size:160px;font-weight:700;line-height:204px}.projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{position:absolute;top:95px;color:#fff;white-space:pre-line;font-weight:700;font-size:56px}.projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#bd9b78;opacity:50%;width:158px;height:204px;position:absolute;top:0;left:0;font-size:160px;font-weight:700;line-height:204px}.projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{position:absolute;top:95px;color:#fff;white-space:pre-line;font-weight:700;font-size:56px}.projects__third[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:100%}.projects__third[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:48px;width:100%;height:480px}.projects__list[_ngcontent-%COMP%]{margin-top:96px;position:absolute;width:100%}.projects__list-title[_ngcontent-%COMP%]{height:72px;border-left:4px solid #BD9B78}.projects__list-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:8px;padding-top:8px;width:812px;height:64px;line-height:64px;font-size:56px;font-weight:700}.projects__list-title-buttons[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-end}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;width:56px;background:none;cursor:pointer;transition:.3s;border:1px solid #BD9B78}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#bd9b78}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background-color:#fff}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:before{border-color:#fff!important}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child{background:none;cursor:auto;border-color:#bd9b784d}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{background-color:#bd9b784d}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before{border-bottom:2px solid rgba(189,155,120,.3)!important;border-left:2px solid rgba(189,155,120,.3)!important}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child{background:none;cursor:auto;border-color:#bd9b784d}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{background-color:#bd9b784d}.projects__list-title-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{border-bottom:2px solid rgba(189,155,120,.3);border-right:2px solid rgba(189,155,120,.3)}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:24px}.projects__list-title-buttons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:2px;display:block;margin:0 auto;position:relative;background-color:#bd9b78;transition:.3s}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;left:0;top:-5px;transform:rotate(45deg);transition:.3s;border-bottom:2px solid #BD9B78;border-left:2px solid #BD9B78}.projects__list-title-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;top:-5px;left:4px;transform:rotate(315deg);transition:.3s;border-bottom:2px solid #BD9B78;border-right:2px solid #BD9B78}.projects__list-items[_ngcontent-%COMP%]{margin-top:48px;height:440px;overflow-x:hidden;gap:96px;scroll-behavior:smooth;position:absolute}.projects__list-items[_ngcontent-%COMP%]   app-project[_ngcontent-%COMP%]:last-of-type{margin-right:192px}.projects__list-additional[_ngcontent-%COMP%]{height:560px;width:96px;position:absolute;top:0;right:-192px;background:linear-gradient(90deg,rgba(255,255,255,.1),white);opacity:50%}',".projects-list[_ngcontent-%COMP%]{position:relative;width:1056px;height:728px}._container[_ngcontent-%COMP%]{padding:0}@media (min-width: 900px) and (max-width: 1100px){.projects-list[_ngcontent-%COMP%]{width:756px}.projects[_ngcontent-%COMP%]{height:1548px}.projects__dark[_ngcontent-%COMP%]{height:1372px}.projects__title-block-text[_ngcontent-%COMP%]{width:100%;font-size:32px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:120px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:40px}.projects__first[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%], .projects__second[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:311px}.projects__third[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:346px}.projects[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{margin-top:20px}.projects[_ngcontent-%COMP%]   .process-img[_ngcontent-%COMP%]{width:311px;height:311px}.projects__list-items[_ngcontent-%COMP%]{width:85vw}}@media (min-width: 768px) and (max-width: 899px){.projects-list[_ngcontent-%COMP%]{max-width:720px;margin:0 auto}.projects[_ngcontent-%COMP%]{height:1548px}.projects[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit;width:90%;padding:0}.projects__dark[_ngcontent-%COMP%]{height:1372px}.projects__title-block-text[_ngcontent-%COMP%]{width:100%;font-size:32px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:120px}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:40px}.projects__first[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%], .projects__second[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:311px}.projects__third[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:346px}.projects[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{margin-top:20px}.projects[_ngcontent-%COMP%]   .process-img[_ngcontent-%COMP%]{width:311px;height:311px}.projects__list-items[_ngcontent-%COMP%]{width:100%}}@media (min-width: 360px) and (max-width: 767px){.projects-list[_ngcontent-%COMP%]{width:90%;height:572px}.projects__list[_ngcontent-%COMP%]{margin-top:64px}.projects[_ngcontent-%COMP%]{height:1846px}.projects[_ngcontent-%COMP%]   ._container_small[_ngcontent-%COMP%]{max-width:inherit;width:90%;padding:0}.projects__dark[_ngcontent-%COMP%]{height:1614px}.projects__title[_ngcontent-%COMP%]{height:86px;padding-top:64px}.projects__title-block[_ngcontent-%COMP%]{min-height:72px;height:auto}.projects__title-block-text[_ngcontent-%COMP%]{width:100%;font-size:32px;height:inherit}.projects__first[_ngcontent-%COMP%]{flex-direction:column;margin-top:48px}.projects__second[_ngcontent-%COMP%]{flex-direction:column-reverse}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:80px;height:auto;line-height:inherit}.projects__first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:32px;top:47px;width:85%}.projects__first[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%], .projects__second[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:100%}.projects__third[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{width:95%}.projects__third[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.projects[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{margin-top:20px;height:136px;max-height:200px}.projects[_ngcontent-%COMP%]   .process-img[_ngcontent-%COMP%]{width:100%;height:311px;margin-top:20px;object-fit:cover}.projects__list-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px}.projects__list-title-buttons[_ngcontent-%COMP%]{display:none}.projects__list-items[_ngcontent-%COMP%]{width:100%;overflow-x:scroll;height:344px;gap:24px}.projects__list-additional[_ngcontent-%COMP%]{right:0;height:464px;width:70px}.projects__list-items[_ngcontent-%COMP%]   app-project[_ngcontent-%COMP%]:last-of-type{margin-right:0}}@media (min-width: 768px) and (max-width: 1440px){.projects-list[_ngcontent-%COMP%]{height:706px}.projects__list-additional[_ngcontent-%COMP%]{display:none}}@media (min-width: 1441px){.projects__list-items[_ngcontent-%COMP%]{max-width:1248px}.projects__list-additional[_ngcontent-%COMP%]{right:-192px}}@media (min-width: 1241px) and (max-width: 1440px){.projects__list-items[_ngcontent-%COMP%]{width:85vw}.projects__list-additional[_ngcontent-%COMP%]{display:none}}@media (min-width: 1101px) and (max-width: 1240px){.projects__list-items[_ngcontent-%COMP%]{width:100%}.projects__list-additional[_ngcontent-%COMP%]{display:none}}"]}),n})(),j$=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contacts-screen"]],standalone:!0,features:[u.jDz],decls:33,vars:12,consts:[["id","contactsSection",1,"contacts"],[1,"_container_small"],[1,"d-flex","space-between","contacts__block"],[1,"contacts__info"],[1,"contacts__title"],[1,"d-flex","space-between","contacts__content"],[1,"d-flex","space-between","contacts__details"],[1,"contacts__details-title"],["href","tel:+380950059025",1,"contacts__link"],["href","mailto:hello7house@mail.com",1,"contacts__link"],[1,"d-flex","contacts__socials","space-between"],["href","https://www.facebook.com/7house.ua/",1,"contacts__link"],["href","https://www.instagram.com/7house.ua/",1,"contacts__link"],[1,"contacts__image"],["src","assets/images/team.png","alt","photo of team"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),u._uU(6),u.ALo(7,"translate"),u.qZA()(),u.TgZ(8,"div",5)(9,"div",6)(10,"p",7),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"a",8),u._uU(14,"+38 (095) 005 90 25"),u.qZA()(),u.TgZ(15,"div",6)(16,"p",7),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"a",9),u._uU(20,"hello7house@mail.com"),u.qZA()(),u.TgZ(21,"div",6)(22,"p",7),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.TgZ(25,"div",10)(26,"a",11),u._uU(27,"Facebook"),u.qZA(),u.TgZ(28,"a",12),u._uU(29,"Instagram"),u.qZA()()()(),u._UZ(30,"app-button-contact"),u.qZA(),u.TgZ(31,"div",13),u._UZ(32,"img",14),u.qZA()()()()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,4,"contactsScreenTitle")),u.xp6(5),u.Oqu(u.lcZ(12,6,"contactsScreenContactUs")),u.xp6(6),u.Oqu(u.lcZ(18,8,"contactsScreenSendUs")),u.xp6(6),u.Oqu(u.lcZ(24,10,"contactsScreenFollowUs")))},dependencies:[ai,Ro,Uk],styles:[".contacts[_ngcontent-%COMP%]{height:672px;background-color:#282428}.contacts__block[_ngcontent-%COMP%]{padding-top:96px;height:480px}.contacts__info[_ngcontent-%COMP%]{height:100%;position:relative}.contacts__title[_ngcontent-%COMP%]{height:72px;border-left:4px solid #BD9B78;box-sizing:border-box;padding-left:8px;display:flex;align-items:flex-end}.contacts__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;line-height:64px;height:64px;font-size:56px;font-weight:700}.contacts__content[_ngcontent-%COMP%]{margin-top:64px;width:225px;height:216px;row-gap:24px;flex-direction:column}.contacts__details[_ngcontent-%COMP%]{width:auto;height:56px;flex-direction:column}.contacts__details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{margin-right:40px}.contacts__socials[_ngcontent-%COMP%]{row-gap:40px}.contacts__socials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.contacts__details-title[_ngcontent-%COMP%]{color:#7f8b99;opacity:50%;line-height:24px;font-size:16px}.contacts__link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;line-height:28px;font-size:18px;transition:.3s;cursor:pointer}.contacts__link[_ngcontent-%COMP%]:hover{color:#bd9b78}.contacts[_ngcontent-%COMP%]   app-button-contact[_ngcontent-%COMP%]{position:absolute;bottom:0}.contacts__image[_ngcontent-%COMP%]{width:480px;height:100%}","@media (min-width: 900px) and (max-width: 1100px){.contacts[_ngcontent-%COMP%]{height:636px}.contacts__info[_ngcontent-%COMP%]{height:434px}.contacts__image[_ngcontent-%COMP%]{height:434px;width:434px}.contacts__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.contacts__title[_ngcontent-%COMP%]{height:56px}.contacts__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:56px;line-height:56px;font-size:32px}}@media (min-width: 768px) and (max-width: 899px){.contacts[_ngcontent-%COMP%]{height:582px}.contacts__info[_ngcontent-%COMP%]{height:380px;display:flex;flex-direction:column;justify-content:space-between}.contacts__image[_ngcontent-%COMP%]{height:380px;width:340px}.contacts__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.contacts__title[_ngcontent-%COMP%]{height:56px}.contacts__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:56px;line-height:56px;font-size:32px}.contacts[_ngcontent-%COMP%]   app-button-contact[_ngcontent-%COMP%]{display:none}}@media (min-width: 360px) and (max-width: 767px){.contacts[_ngcontent-%COMP%]{height:807px}.contacts__block[_ngcontent-%COMP%]{flex-direction:column;padding:64px 32px 0}.contacts__info[_ngcontent-%COMP%]{height:311px;display:flex;flex-direction:column;justify-content:space-between}.contacts__image[_ngcontent-%COMP%]{height:311px;width:100%;margin-top:48px}.contacts__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.contacts__title[_ngcontent-%COMP%]{height:56px}.contacts__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{height:56px;line-height:56px;font-size:32px}.contacts__content[_ngcontent-%COMP%]{margin-top:48px}.contacts[_ngcontent-%COMP%]   app-button-contact[_ngcontent-%COMP%]{display:none}}"]}),n})(),$$=(()=>{class n{scrollToServices(t){const r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],standalone:!0,features:[u.jDz],decls:27,vars:15,consts:[[1,"footer"],[1,"_container"],[1,"footer__display","d-flex"],[1,"footer__content"],["src","assets/images/logo.png","alt","logo",1,"footer__logo"],[1,"footer__navbar"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"img",4)(5,"app-navigation"),u.TgZ(6,"ul",5)(7,"li")(8,"a",6),u.NdJ("click",function(){return r.scrollToServices("servicesSection")}),u._uU(9),u.ALo(10,"translate"),u.qZA()(),u.TgZ(11,"li")(12,"a",6),u.NdJ("click",function(){return r.scrollToServices("teamSection")}),u._uU(13),u.ALo(14,"translate"),u.qZA()(),u.TgZ(15,"li")(16,"a",6),u.NdJ("click",function(){return r.scrollToServices("processSection")}),u._uU(17),u.ALo(18,"translate"),u.qZA()(),u.TgZ(19,"li")(20,"a",6),u.NdJ("click",function(){return r.scrollToServices("projectsSection")}),u._uU(21),u.ALo(22,"translate"),u.qZA()(),u.TgZ(23,"li")(24,"a",6),u.NdJ("click",function(){return r.scrollToServices("contactsSection")}),u._uU(25),u.ALo(26,"translate"),u.qZA()()()()()()()),2&t&&(u.xp6(9),u.Oqu(u.lcZ(10,5,"navServices")),u.xp6(4),u.Oqu(u.lcZ(14,7,"navTeam")),u.xp6(4),u.Oqu(u.lcZ(18,9,"navProcess")),u.xp6(4),u.Oqu(u.lcZ(22,11,"navProjects")),u.xp6(4),u.Oqu(u.lcZ(26,13,"navContacts")))},dependencies:[ai,Rk,Ro],styles:[".footer[_ngcontent-%COMP%]{height:92px;background-color:#0b0d0e;color:#fff}.footer__display[_ngcontent-%COMP%]{height:92px;align-items:center;width:100%}.footer__content[_ngcontent-%COMP%]{width:100%;height:28px;display:grid;grid-template-columns:25% 69% 6%}.footer__language[_ngcontent-%COMP%]{font-family:Mont,sans-serif;background:none;color:#fff;font-size:18px;border:none;outline:none;position:relative}.footer__navbar[_ngcontent-%COMP%]{display:none}@media (min-width: 360px) and (max-width: 767px){.footer[_ngcontent-%COMP%]{max-height:264px;min-height:200px;padding-top:64px}.footer__display[_ngcontent-%COMP%]{height:unset}.footer__logo[_ngcontent-%COMP%]{width:120px;height:24px}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer__navbar[_ngcontent-%COMP%]{margin-top:32px;display:flex;justify-content:flex-start;list-style-type:none;flex-wrap:wrap;gap:32px}.footer__navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:32px}.footer__navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}.footer[_ngcontent-%COMP%]   app-navigation[_ngcontent-%COMP%]{display:none}}"]}),n})(),Bk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),dg=(()=>{class n extends Bk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const lc=new u.OlP("NgValueAccessor"),G$={provide:lc,useExisting:(0,u.Gpc)(()=>dD),multi:!0},q$=new u.OlP("CompositionEventMode");let dD=(()=>{class n extends Bk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W$(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(q$,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[u._Bn([G$]),u.qOj]}),n})();function Ch(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $k(n){return null!=n&&"number"==typeof n.length}const Cs=new u.OlP("NgValidators"),bh=new u.OlP("NgAsyncValidators"),Z$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class eE{static min(e){return function Hk(n){return e=>{if(Ch(e.value)||Ch(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function zk(n){return e=>{if(Ch(e.value)||Ch(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Gk(n){return Ch(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Wk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function qk(n){return Ch(n.value)||Z$.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Kk(n){return e=>Ch(e.value)||!$k(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Zk(e)}static pattern(e){return function Yk(n){if(!n)return hD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ch(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return nF(e)}static composeAsync(e){return rF(e)}}function Zk(n){return e=>$k(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function hD(n){return null}function Qk(n){return null!=n}function Jk(n){return(0,u.QGY)(n)?(0,ar.D)(n):n}function Xk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function eF(n,e){return e.map(t=>t(n))}function tF(n){return n.map(e=>function Y$(n){return!n.validate}(e)?e:t=>e.validate(t))}function nF(n){if(!n)return null;const e=n.filter(Qk);return 0==e.length?null:function(t){return Xk(eF(t,e))}}function FP(n){return null!=n?nF(tF(n)):null}function rF(n){if(!n)return null;const e=n.filter(Qk);return 0==e.length?null:function(t){return function H$(...n){const e=(0,Ms.jO)(n),{args:t,keys:r}=ad(n),i=new Qs.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let m=c,y=c;for(let b=0;b<c;b++){let T=!1;(0,ea.Xf)(t[b]).subscribe((0,_i.x)(o,A=>{T||(T=!0,y--),h[b]=A},()=>m--,void 0,()=>{(!m||!T)&&(y||o.next(r?Al(r,h):h),o.complete())}))}});return e?i.pipe(em(e)):i}(eF(t,e).map(Jk)).pipe((0,Qt.U)(Xk))}}function LP(n){return null!=n?rF(tF(n)):null}function iF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sF(n){return n._rawValidators}function oF(n){return n._rawAsyncValidators}function VP(n){return n?Array.isArray(n)?n:[n]:[]}function fD(n,e){return Array.isArray(n)?n.includes(e):n===e}function aF(n,e){const t=VP(e);return VP(n).forEach(i=>{fD(t,i)||t.push(i)}),t}function lF(n,e){return VP(e).filter(t=>!fD(n,t))}class cF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zs extends cF{get formDirective(){return null}get path(){return null}}class Ih extends cF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dF=(()=>{class n extends uF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ih,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),hF=(()=>{class n extends uF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zs,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const tE="VALID",gD="INVALID",Ey="PENDING",nE="DISABLED";function $P(n){return(mD(n)?n.validators:n)||null}function pF(n){return Array.isArray(n)?FP(n):n||null}function HP(n,e){return(mD(e)?e.asyncValidators:n)||null}function gF(n){return Array.isArray(n)?LP(n):n||null}function mD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class yF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=pF(this._rawValidators),this._composedAsyncValidatorFn=gF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tE}get invalid(){return this.status===gD}get pending(){return this.status==Ey}get disabled(){return this.status===nE}get enabled(){return this.status!==nE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gF(e)}addValidators(e){this.setValidators(aF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lF(e,this._rawAsyncValidators))}hasValidator(e){return fD(this._rawValidators,e)}hasAsyncValidator(e){return fD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ey,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tE||this.status===Ey)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nE:tE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ey,this._hasOwnPendingAsyncValidator=!0;const t=Jk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?nE:this.errors?gD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ey)?Ey:this._anyControlsHaveStatus(gD)?gD:tE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class _D extends yF{constructor(e,t,r){super($P(t),HP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _F(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function mF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function rE(n,e){zP(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function sH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vF(n,e)})}(n,e),function aH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function oH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function iH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ED(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zP(n,e){const t=sF(n);null!==e.validator?n.setValidators(iF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=oF(n);null!==e.asyncValidator?n.setAsyncValidators(iF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wD(e._rawValidators,i),wD(e._rawAsyncValidators,i)}function ED(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=sF(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=oF(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return wD(e._rawValidators,r),wD(e._rawAsyncValidators,r),t}function vF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function IF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CD=class extends yF{constructor(e=null,t,r){super($P(t),HP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=IF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const KP=new u.OlP("NgModelWithFormControlWarning"),EH={provide:zs,useExisting:(0,u.Gpc)(()=>bD)};let bD=(()=>{class n extends zs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ED(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return rE(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){vD(t.control||null,t,!1),function dH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function CF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(vD(r||null,t),(n=>n instanceof CD)(i)&&(rE(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function wF(n,e){zP(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function lH(n,e){return ED(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zP(this.form,this),this._oldForm&&ED(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cs,10),u.Y36(bh,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([EH]),u.qOj,u.TTD]}),n})();const IH={provide:Ih,useExisting:(0,u.Gpc)(()=>QP)};let QP=(()=>{class n extends Ih{constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function WP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===dD?t=o:function uH(n){return Object.getPrototypeOf(n.constructor)===dg}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function GP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function yD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(zs,13),u.Y36(Cs,10),u.Y36(bh,10),u.Y36(lc,10),u.Y36(KP,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([IH]),u.qOj,u.TTD]}),n})();let hg=(()=>{class n{constructor(){this._validator=hD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const LH={provide:Cs,useExisting:(0,u.Gpc)(()=>tO),multi:!0};let tO=(()=>{class n extends hg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function VF(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>Zk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([LH]),u.qOj]}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PF]}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[WF]}),n})(),BH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KP,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[WF]}),n})();const $H=["modalBlock"];function HH(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",5)(2,"h3"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"form",6),u.NdJ("ngSubmit",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.sendForm(i.form))}),u.TgZ(6,"div",7)(7,"label",8),u._uU(8),u.ALo(9,"translate"),u.qZA(),u._UZ(10,"input",9),u.ALo(11,"translate"),u.qZA(),u.TgZ(12,"div",7)(13,"label",10),u._uU(14),u.ALo(15,"translate"),u.qZA(),u._UZ(16,"input",11),u.qZA(),u.TgZ(17,"button",12),u._uU(18),u.ALo(19,"translate"),u.qZA()()(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,7,"contactUs")),u.xp6(2),u.Q6J("formGroup",t.form),u.xp6(3),u.Oqu(u.lcZ(9,9,"howToNameYou")),u.xp6(2),u.s9C("placeholder",u.lcZ(11,11,"yourName")),u.xp6(4),u.Oqu(u.lcZ(15,13,"yourPhoneNumber")),u.xp6(3),u.Q6J("disabled",t.form.invalid),u.xp6(1),u.Oqu(u.lcZ(19,15,"send"))}}function zH(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",13)(2,"h3"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.ALo(7,"translate"),u.qZA()(),u.BQk()),2&n&&(u.xp6(3),u.Oqu(u.lcZ(4,2,"thanks")),u.xp6(3),u.Oqu(u.lcZ(7,4,"weWillContact")))}function GH(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"div",14)(2,"div",15),u._UZ(3,"img",16),u.TgZ(4,"div",17)(5,"div")(6,"h3"),u._uU(7),u.qZA(),u.TgZ(8,"div",18)(9,"p",19),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.TgZ(12,"p"),u._uU(13),u.qZA()(),u.TgZ(14,"div",18)(15,"p",19),u._uU(16),u.ALo(17,"translate"),u.qZA(),u.TgZ(18,"p"),u._uU(19),u.qZA()(),u.TgZ(20,"div",18)(21,"p",19),u._uU(22),u.ALo(23,"translate"),u.qZA(),u.TgZ(24,"p",20),u._uU(25),u.qZA()()(),u.TgZ(26,"div",21)(27,"button",22),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.prevProject())}),u._UZ(28,"span"),u.qZA(),u.TgZ(29,"button",22),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.nextProject())}),u._UZ(30,"span"),u.qZA()()()()(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("src",t.project.imgURL,u.LSH),u.xp6(4),u.Oqu(t.project.title),u.xp6(3),u.hij("",u.lcZ(11,10,"square"),":"),u.xp6(3),u.Oqu(t.project.square),u.xp6(3),u.hij("",u.lcZ(17,12,"wallMaterial"),":"),u.xp6(3),u.Oqu(t.getText(t.project.wallMaterialUA,t.project.wallMaterialEN)),u.xp6(3),u.hij("",u.lcZ(23,14,"additional"),":"),u.xp6(3),u.Oqu(t.getText(t.project.additionalInfoUA,t.project.additionalInfoEN)),u.xp6(2),u.Q6J("disabled",!t.currentProjectIndex),u.xp6(2),u.Q6J("disabled",t.currentProjectIndex===t.projects.length-1)}}let WH=(()=>{class n{constructor(){this.translationService=(0,u.f3M)(NP),this.modalEmitter=new u.vpe,this.onOpenEmitter=new u.vpe,this.onCloseEmitter=new u.vpe,this.currenProjectIndexEmitter=new u.vpe,this.isFirstClickOutside=!0}get project(){return this.projects[this.currentProjectIndex]}onClickOutside(t){this.isFirstClickOutside?this.isFirstClickOutside=!1:!this.elementRef.nativeElement.contains(t.target)&&this.isModalOpen&&(this.onCloseEmitter.emit(),this.form.reset())}sendForm(t){this.modalEmitter.emit("thanks"),console.log(t)}getText(t,r){return"ua"===this.translationService.currentLanguage?t:r}prevProject(){this.currentProjectIndex>0&&this.currenProjectIndexEmitter.emit(this.currentProjectIndex-1)}nextProject(){this.currentProjectIndex<this.projects.length-1&&this.currenProjectIndexEmitter.emit(this.currentProjectIndex+1)}ngOnInit(){this.form=new _D({name:new CD("",[eE.minLength(2),eE.required]),phone:new CD("",[eE.minLength(10),eE.maxLength(13),eE.required])})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-modal-contact"]],viewQuery:function(t,r){if(1&t&&u.Gf($H,5),2&t){let i;u.iGM(i=u.CRH())&&(r.elementRef=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("click",function(o){return r.onClickOutside(o)},!1,u.evT)},inputs:{modal:"modal",isModalOpen:"isModalOpen",projects:"projects",currentProjectIndex:"currentProjectIndex"},outputs:{modalEmitter:"modalEmitter",onOpenEmitter:"onOpenEmitter",onCloseEmitter:"onCloseEmitter",currenProjectIndexEmitter:"currenProjectIndexEmitter"},standalone:!0,features:[u.jDz],decls:7,vars:3,consts:[[1,"modal"],[1,"modal__block"],["modalBlock",""],[4,"ngIf"],[1,"modal__button-close",3,"click"],[1,"modal__content"],[1,"modal__form",3,"formGroup","ngSubmit"],[1,"modal__fieldset"],["for","name"],["type","text","id","name","formControlName","name",3,"placeholder"],["for","phone"],["type","text","id","phone","formControlName","phone","placeholder","+380","maxlength","13"],["type","submit",1,"modal__button-send",3,"disabled"],[1,"modal__sent"],[1,"modal__projects","d-flex"],[1,"modal__project","d-flex","space-between"],["alt","project's picture",3,"src"],[1,"modal__project-content","d-flex","space-between"],[1,"d-flex","modal__project-content-text"],[1,"modal__project-grey-text"],[1,"modal__project-info-text"],[1,"modal__buttons"],[3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1,2),u.YNc(3,HH,20,17,"ng-container",3),u.YNc(4,zH,8,6,"ng-container",3),u.YNc(5,GH,31,16,"ng-container",3),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.onCloseEmitter.emit()}),u.qZA()()()),2&t&&(u.xp6(3),u.Q6J("ngIf","form"===r.modal),u.xp6(1),u.Q6J("ngIf","thanks"===r.modal),u.xp6(1),u.Q6J("ngIf","projects"===r.modal))},dependencies:[ai,B,Ro,UH,xF,dD,dF,hF,tO,BH,bD,QP],styles:['.modal[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;background:rgba(0,0,0,.6);z-index:10}.modal__block[_ngcontent-%COMP%]{position:absolute;min-width:480px;min-height:272px;max-height:708px;left:50%;top:50%;transform:translate(-50%,-50%);background-color:#fff}.modal__content[_ngcontent-%COMP%]{width:384px;height:352px;margin:64px auto}.modal__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;height:56px;line-height:56px;font-size:40px;font-weight:700}.modal__button-close[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:24px;right:24px;height:24px;width:24px;background:none;border:none}.modal__button-close[_ngcontent-%COMP%]:before{content:"";width:15.5px;height:2px;background-color:#7f8b99;position:absolute;top:11px;left:4.7px;transform:rotate(45deg)}.modal__button-close[_ngcontent-%COMP%]:after{content:"";width:15.5px;height:2px;background-color:#7f8b99;position:absolute;top:11px;right:3.7px;transform:rotate(315deg)}.modal__fieldset[_ngcontent-%COMP%]{width:100%;height:84px;display:flex;flex-direction:column;margin-top:24px}.modal__fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:24px;line-height:24px;font-size:16px;font-weight:600}.modal__fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" *";color:red}.modal__fieldset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin-top:12px;width:100%;height:48px;line-height:24px;box-sizing:border-box;padding:16px;outline:none;border:1px solid rgba(184,191,198,.5);border-radius:4px;font-size:16px;font-family:Mont,sans-serif}.modal__button-send[_ngcontent-%COMP%]{margin-top:24px;width:100%;height:56px;background-color:#bd9b78;color:#fff;cursor:pointer;border:none;font-size:16px;font-weight:600;font-family:Mont,sans-serif}.modal__button-send[disabled][_ngcontent-%COMP%]{cursor:auto;opacity:.5}.modal__sent[_ngcontent-%COMP%]{width:384px;margin:64px auto 0}.modal__sent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{line-height:56px;height:56px;font-size:40px;font-weight:700}.modal__sent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:24px;color:#7f8b99;line-height:32px;height:64px;font-size:24px}.modal__projects[_ngcontent-%COMP%]{width:1248px;height:708px;align-items:center}.modal__project[_ngcontent-%COMP%]{margin:0 auto;width:1152px;height:612px;align-items:center}.modal__project[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:864px}.modal__project-content[_ngcontent-%COMP%]{width:240px;height:516px;flex-direction:column}.modal__buttons[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-end}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;width:56px;background:none;cursor:pointer;transition:.3s;border:1px solid #BD9B78}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#bd9b78}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background-color:#fff}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:before{border-color:#fff!important}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child{background:none;cursor:auto;border-color:#bd9b784d}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{background-color:#bd9b784d}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before{border-bottom:2px solid rgba(189,155,120,.3)!important;border-left:2px solid rgba(189,155,120,.3)!important}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child{background:none;cursor:auto;border-color:#bd9b784d}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{background-color:#bd9b784d}.modal__buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{border-bottom:2px solid rgba(189,155,120,.3);border-right:2px solid rgba(189,155,120,.3)}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:24px}.modal__buttons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:16px;height:2px;display:block;margin:0 auto;position:relative;background-color:#bd9b78;transition:.3s}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;left:0;top:-5px;transform:rotate(45deg);transition:.3s;border-bottom:2px solid #BD9B78;border-left:2px solid #BD9B78}.modal__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;position:absolute;top:-5px;left:4px;transform:rotate(315deg);transition:.3s;border-bottom:2px solid #BD9B78;border-right:2px solid #BD9B78}.modal__project-content-text[_ngcontent-%COMP%]{flex-direction:column;margin-top:24px}.modal__project-grey-text[_ngcontent-%COMP%]{color:#7f8b99;line-height:24px;font-size:16px}.modal__project-info-text[_ngcontent-%COMP%]{margin-top:4px;color:#0b0d0e;line-height:28px;font-size:18px}',"@media (min-width: 900px) and (max-width: 1260px){.modal__projects[_ngcontent-%COMP%]{width:900px}.modal__project[_ngcontent-%COMP%]{padding:0 20px;width:100%}.modal__project[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:84%;width:70%;object-fit:cover}}@media (min-width: 768px) and (max-width: 899px){.modal__projects[_ngcontent-%COMP%]{width:768px;height:614px}.modal__project[_ngcontent-%COMP%]{padding:0 20px;width:100%}.modal__project[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:76%;width:63%;object-fit:cover}.modal__project-content[_ngcontent-%COMP%]{height:467px}}@media (min-width: 360px) and (max-width: 768px){.modal__block[_ngcontent-%COMP%]{width:100%;min-width:auto}.modal__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px;text-align:center}.modal__fieldset[_ngcontent-%COMP%]{width:90%;margin:0 auto}.modal__button-send[_ngcontent-%COMP%]{width:90%;display:block;margin:24px auto}.modal__projects[_ngcontent-%COMP%]{width:100%;height:588px}.modal__project[_ngcontent-%COMP%]{padding:32px;width:100%;height:100%;flex-direction:column-reverse;box-sizing:border-box}.modal__project[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;height:200px;object-fit:cover}.modal__project-content[_ngcontent-%COMP%]{height:467px;width:280px}.modal__project-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px}.modal__project-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:18px}.modal__buttons[_ngcontent-%COMP%]{display:none}}"]}),n})();function qH(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"app-home-screen",2),u.NdJ("modalEmitter",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.setModal(i))})("onModalOpen",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onOpenModal())}),u.qZA(),u.TgZ(2,"main"),u._UZ(3,"app-services-screen")(4,"app-benefits-screen")(5,"app-team-screen"),u.TgZ(6,"app-projects-screen",3),u.NdJ("modalEmitter",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.setModal(i))})("onModalOpen",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onOpenModal())})("currenProjectIndexEmitter",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.setProjectIndex(i))}),u.qZA(),u._UZ(7,"app-contacts-screen"),u.qZA(),u._UZ(8,"app-footer"),u.BQk()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("homeScreenBackgrounds",t.homeScreenBackgrounds),u.xp6(5),u.Q6J("projects",t.projects)}}function KH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-modal-contact",4),u.NdJ("modalEmitter",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.setModal(i))})("onCloseEmitter",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onCloseModal())})("currenProjectIndexEmitter",function(i){u.CHM(t);const o=u.oxw();return u.KtG(o.setProjectIndex(i))}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("modal",t.modal)("isModalOpen",t.isModalOpen)("projects",t.projects)("currentProjectIndex",t.currentProjectIndex)}}let qF=(()=>{class n{constructor(){this.firebaseService=(0,u.f3M)(Ok),this.isModalOpen=!1}onOpenModal(){this.isModalOpen=!0}onCloseModal(){this.isModalOpen=!1,this.modal=""}setModal(t){this.modal=t}setProjectIndex(t){this.currentProjectIndex=t}ngOnInit(){this.firebaseService.homeScreenBackgrounds.subscribe(t=>{this.homeScreenBackgrounds=t}),this.firebaseService.projects.subscribe(t=>{this.projects=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-page"]],standalone:!0,features:[u.jDz],decls:2,vars:2,consts:[[4,"ngIf"],[3,"modal","isModalOpen","projects","currentProjectIndex","modalEmitter","onCloseEmitter","currenProjectIndexEmitter",4,"ngIf"],[3,"homeScreenBackgrounds","modalEmitter","onModalOpen"],[3,"projects","modalEmitter","onModalOpen","currenProjectIndexEmitter"],[3,"modal","isModalOpen","projects","currentProjectIndex","modalEmitter","onCloseEmitter","currenProjectIndexEmitter"]],template:function(t,r){1&t&&(u.YNc(0,qH,9,2,"ng-container",0),u.YNc(1,KH,1,4,"app-modal-contact",1)),2&t&&(u.Q6J("ngIf",r.homeScreenBackgrounds),u.xp6(1),u.Q6J("ngIf",r.isModalOpen))},dependencies:[D$,x$,O$,F$,B$,j$,$$,B,WH]}),n})();class KF{}class ZF{}class Mu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Mu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Mu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Mu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ZH{encodeKey(e){return YF(e)}encodeValue(e){return YF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QH=/%(\d[a-f0-9])/gi,JH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YF(n){return encodeURIComponent(n).replace(QH,(e,t)=>JH[t]??e)}function ID(n){return`${n}`}class Th{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ZH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],m=t.get(c)||[];m.push(h),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ID):[ID(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Th({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ID(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ID(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function QF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JF(n){return typeof Blob<"u"&&n instanceof Blob}function XF(n){return typeof FormData<"u"&&n instanceof FormData}class sE{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function e4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Mu),this.context||(this.context=new XH),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Th,this.urlWithParams=t}serializeBody(){return null===this.body?null:QF(this.body)||JF(this.body)||XF(this.body)||function t4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XF(this.body)?null:JF(this.body)?this.body.type||null:QF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,y=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((T,A)=>T.set(A,e.setHeaders[A]),m)),e.setParams&&(y=Object.keys(e.setParams).reduce((T,A)=>T.set(A,e.setParams[A]),y)),new sE(t,r,o,{params:y,headers:m,context:b,reportProgress:h,responseType:i,withCredentials:c})}}var bi=(()=>((bi=bi||{})[bi.Sent=0]="Sent",bi[bi.UploadProgress=1]="UploadProgress",bi[bi.ResponseHeader=2]="ResponseHeader",bi[bi.DownloadProgress=3]="DownloadProgress",bi[bi.Response=4]="Response",bi[bi.User=5]="User",bi))();class nO{constructor(e,t=200,r="OK"){this.headers=e.headers||new Mu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rO extends nO{constructor(e={}){super(e),this.type=bi.ResponseHeader}clone(e={}){return new rO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TD extends nO{constructor(e={}){super(e),this.type=bi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new TD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eL extends nO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function iO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let n4=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof sE)o=t;else{let m,y;m=i.headers instanceof Mu?i.headers:new Mu(i.headers),i.params&&(y=i.params instanceof Th?i.params:new Th({fromObject:i.params})),o=new sE(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Vt(o).pipe(Xs(m=>this.handler.handle(m)));if(t instanceof sE||"events"===i.observe)return c;const h=c.pipe(Ki(m=>m instanceof TD));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Qt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,Qt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,Qt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,Qt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Th).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iO(i,r))}post(t,r,i={}){return this.request("POST",t,iO(i,r))}put(t,r,i={}){return this.request("PUT",t,iO(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KF))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class tL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const nL=new u.OlP("HTTP_INTERCEPTORS");let r4=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const i4=/^\)\]\}',?\n/;let rL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qs.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((F,H)=>i.setRequestHeader(F,H.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const F=t.detectContentTypeHeader();null!==F&&i.setRequestHeader("Content-Type",F)}if(t.responseType){const F=t.responseType.toLowerCase();i.responseType="json"!==F?F:"text"}const o=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const F=i.statusText||"OK",H=new Mu(i.getAllResponseHeaders()),ie=function s4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new rO({headers:H,status:i.status,statusText:F,url:ie}),c},m=()=>{let{headers:F,status:H,statusText:ie,url:pe}=h(),ze=null;204!==H&&(ze=typeof i.response>"u"?i.responseText:i.response),0===H&&(H=ze?200:0);let gt=H>=200&&H<300;if("json"===t.responseType&&"string"==typeof ze){const Et=ze;ze=ze.replace(i4,"");try{ze=""!==ze?JSON.parse(ze):null}catch(At){ze=Et,gt&&(gt=!1,ze={error:At,text:ze})}}gt?(r.next(new TD({body:ze,headers:F,status:H,statusText:ie,url:pe||void 0})),r.complete()):r.error(new eL({error:ze,headers:F,status:H,statusText:ie,url:pe||void 0}))},y=F=>{const{url:H}=h(),ie=new eL({error:F,status:i.status||0,statusText:i.statusText||"Unknown Error",url:H||void 0});r.error(ie)};let b=!1;const T=F=>{b||(r.next(h()),b=!0);let H={type:bi.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(H.total=F.total),"text"===t.responseType&&!!i.responseText&&(H.partialText=i.responseText),r.next(H)},A=F=>{let H={type:bi.UploadProgress,loaded:F.loaded};F.lengthComputable&&(H.total=F.total),r.next(H)};return i.addEventListener("load",m),i.addEventListener("error",y),i.addEventListener("timeout",y),i.addEventListener("abort",y),t.reportProgress&&(i.addEventListener("progress",T),null!==o&&i.upload&&i.upload.addEventListener("progress",A)),i.send(o),r.next({type:bi.Sent}),()=>{i.removeEventListener("error",y),i.removeEventListener("abort",y),i.removeEventListener("load",m),i.removeEventListener("timeout",y),t.reportProgress&&(i.removeEventListener("progress",T),null!==o&&i.upload&&i.upload.removeEventListener("progress",A)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sO=new u.OlP("XSRF_COOKIE_NAME"),oO=new u.OlP("XSRF_HEADER_NAME");class iL{}let o4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Or(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(u.Lbi),u.LFG(sO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),aO=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iL),u.LFG(oO))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),a4=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(nL,[]);this.chain=r.reduceRight((i,o)=>new tL(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ZF),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),l4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:aO,useClass:r4}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:sO,useValue:t.cookieName}:[],t.headerName?{provide:oO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aO,{provide:nL,useExisting:aO,multi:!0},{provide:iL,useClass:o4},{provide:sO,useValue:"XSRF-TOKEN"},{provide:oO,useValue:"X-XSRF-TOKEN"}]}),n})(),c4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[n4,{provide:KF,useClass:a4},rL,{provide:ZF,useExisting:rL}],imports:[l4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const lO_firebase={projectId:"house-c2f86",appId:"1:498171639664:web:2b0a61aa66e032579481b5",storageBucket:"house-c2f86.appspot.com",locationId:"europe-west",apiKey:"AIzaSyDcLEcFvJ6eM9D6zv83CfaiEFt4djsT3IY",authDomain:"house-c2f86.firebaseapp.com",messagingSenderId:"498171639664"};R(9500);class DD{constructor(){return(0,ln.vb)("auth")}}class p4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,re.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,re.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class g4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,re.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const lL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p4(e)}}catch{}return new g4},fg=lL("localStorage"),hO=lL("sessionStorage"),Cy=new aa.Yd("@firebase/database"),cL=function(){let n=1;return function(){return n++}}(),uL=function(n){const e=(0,re.dS)(n),t=new re.gQ;t.update(e);const r=t.digest();return re.US.encodeByteArray(r)},oE=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=oE.apply(null,r):e+="object"==typeof r?(0,re.Wl)(r):r,e+=" "}return e};let pg=null,dL=!0;const Qi=function(...n){if(!0===dL&&(dL=!1,null===pg&&!0===hO.get("logging_enabled")&&function(n,e){(0,re.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Cy.logLevel=aa.in.VERBOSE,pg=Cy.log.bind(Cy),e&&hO.set("logging_enabled",!0)):"function"==typeof n?pg=n:(pg=null,hO.remove("logging_enabled"))}(!0)),pg){const e=oE.apply(null,n);pg(e)}},aE=function(n){return function(...e){Qi(n,...e)}},fO=function(...n){const e="FIREBASE INTERNAL ERROR: "+oE(...n);Cy.error(e)},cc=function(...n){const e=`FIREBASE FATAL ERROR: ${oE(...n)}`;throw Cy.error(e),new Error(e)},bs=function(...n){const e="FIREBASE WARNING: "+oE(...n);Cy.warn(e)},Dh="[MIN_NAME]",Pu="[MAX_NAME]",gg=function(n,e){if(n===e)return 0;if(n===Dh||e===Pu)return-1;if(e===Dh||n===Pu)return 1;{const t=gL(n),r=gL(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},lE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,re.Wl)(e))},pO=function(n){if("object"!=typeof n||null===n)return(0,re.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,re.Wl)(e[r]),t+=":",t+=pO(n[e[r]]);return t+="}",t},fL=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};const pL=function(n){(0,re.hu)(!function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)}(n),"Invalid JSON number");const r=1023;let i,o,c,h,m;0===n?(o=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=h+r,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(i?1:0),y.reverse();const b=y.join("");let T="";for(m=0;m<64;m+=8){let A=parseInt(b.substr(m,8),2).toString(16);1===A.length&&(A="0"+A),T+=A}return T.toLowerCase()},C4=new RegExp("^-?(0*)\\d{1,10}$"),gL=function(n){if(C4.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},by=function(n){try{n()}catch(e){setTimeout(()=>{throw bs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},cE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};let uE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const wL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bL="websocket",IL="long_polling";class mO{constructor(e,t,r,i,o=!1,c="",h=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function TL(n,e,t){let r;if((0,re.hu)("string"==typeof e,"typeof type must == string"),(0,re.hu)("object"==typeof t,"typeof params must == object"),e===bL)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==IL)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function A4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return function Ji(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}(t,(o,c)=>{i.push(o+"="+c)}),r+i.join("&")}class x4{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,re.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,re.p$)(this.counters_)}}const _O={};function vO(n){const e=n.toString();return _O[e]||(_O[e]=new x4),_O[e]}class P4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&by(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Sh{constructor(e,t,r,i,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aE(e),this.stats_=vO(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),TL(t,IL,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new P4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,re.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wO((...o)=>{const[c,h,m,y,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wL.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sh.forceAllow_=!0}static forceDisallow(){Sh.forceDisallow_=!0}static isAvailable(){return!((0,re.Yr)()||!Sh.forceAllow_&&(Sh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,re.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,re.h$)(t),i=fL(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,re.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,re.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class wO{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=cL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=wO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Qi("frame writing exception"),h.stack&&Qi(h.stack),Qi(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,re.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Qi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let xD=null;typeof MozWebSocket<"u"?xD=MozWebSocket:typeof WebSocket<"u"&&(xD=WebSocket);let Iy=(()=>{class n{constructor(t,r,i,o,c,h,m){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aE(this.connId),this.stats_=vO(r),this.connURL=n.connectionURL_(r,h,m,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,c){const h={v:"5"};return!(0,re.Yr)()&&typeof location<"u"&&location.hostname&&wL.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),o&&(h.ac=o),c&&(h.p=c),TL(t,bL,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fg.set("previous_websocket_failure",!0);try{let i;if((0,re.Yr)()){i={headers:{"User-Agent":`Firebase/5//${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new xD(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==xD&&!n.forceDisallow_}static previouslyFailed(){return fg.isInMemoryStorage||!0===fg.get("previous_websocket_failure")}markConnectionHealthy(){fg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,re.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,re.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=fL(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),OL=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Sh,Iy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Iy&&Iy.isAvailable();let i=r&&!Iy.previouslyFailed();if(t.webSocketOnly&&(r||bs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Iy];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class UL{constructor(e,t,r,i,o,c,h,m,y,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aE("c:"+this.id+":"),this.transportManager_=new OL(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=cE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=lE("t",e),r=lE("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=lE("t",e),r=lE("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=lE("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?fO("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&bs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),cE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class jL{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,re.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,re.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class MD extends jL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,re.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new MD}getInitialEvent(e){return(0,re.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class lr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function On(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ah(n){return n.pieces_.length-n.pieceNum_}function Cr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new lr(n.pieces_,e)}class IO extends jL{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new IO}getInitialEvent(e){return(0,re.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const hE=1e3;let OD,_g=(()=>{class n extends class BL{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}{constructor(t,r,i,o,c,h,m,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=aE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");IO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&MD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,c={r:o,a:t,b:r};this.log_((0,re.Wl)(c)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new re.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const m=h.d;"ok"===h.s?r.resolve(m):r.reject(m)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,re.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const c={p:i};t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,m=>{const y=m.d,b=m.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(i,o),t.onComplete&&t.onComplete(b,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,re.r3)(t,"w")){const i=(0,re.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();bs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,re.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,re.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,re.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const c={p:t};o&&(c.q=i,c.t=o),this.sendRequest("n",c)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const c={p:r,d:i};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,c){this.initConnection_();const h={p:r,d:i};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,re.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):fO("Unrecognized action received from server: "+(0,re.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,xe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,y=null;const b=function(){y?y.close():(m=!0,o())};t.realtime_={close:b,sendRequest:function(F){(0,re.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(F)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,H]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);m?Qi("getToken() completed but was canceled"):(Qi("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=H&&H.token,y=new UL(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,ie=>{bs(ie+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(F){t.log_("Failed to get token: "+F),m||(t.repoInfo_.nodeAdmin&&bs(F),b())}}})()}interrupt(t){Qi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Qi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=hE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(c=>pO(c)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new lr(t).toString();let o;if(this.listens.has(i)){const c=this.listens.get(i);o=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Qi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Qi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,re.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+"".replace(/\./g,"-")]=1,(0,re.uI)()?t["framework.cordova"]=1:(0,re.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=MD.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rn(e,t)}}class PD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Rn(Dh,e),i=new Rn(Dh,t);return 0!==this.compare(r,i)}minPost(){return Rn.MIN}}class KL extends PD{static get __EMPTY_NODE(){return OD}static set __EMPTY_NODE(e){OD=e}compare(e,t){return gg(e.name,t.name)}isDefinedOn(e){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rn.MIN}maxPost(){return new Rn(Pu,OD)}makePost(e,t){return(0,re.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Rn(e,OD)}toString(){return".key"}}const uc=new KL;class ND{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,i&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let cl=(()=>{class n{constructor(t,r,i,o,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??co.EMPTY_NODE,this.right=c??co.EMPTY_NODE}copy(t,r,i,o,c){return new n(t??this.key,r??this.value,i??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const c=i(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===c?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return co.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return co.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class a3{copy(e,t,r,i,o){return this}insert(e,t,r){return new cl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class co{constructor(e,t=co.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new co(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,cl.BLACK,null,null))}remove(e){return new co(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cl.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ND(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ND(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ND(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ND(this.root_,null,this.comparator_,!0,e)}}function TO(n,e){return gg(n,e)}co.EMPTY_NODE=new a3;const ZL=function(n){return"number"==typeof n?"number:"+pL(n):"string:"+n},YL=function(n){if(n.isLeafNode()){const e=n.val();(0,re.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,re.r3)(e,".sv"),"Priority must be a string or number.")}else(0,re.hu)(undefined===n||n.isEmpty(),"priority of unexpected type.");(0,re.hu)(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QL,Ty=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),YL(this.priorityNode_)}static set __childrenNodeConstructor(t){QL=t}static get __childrenNodeConstructor(){return QL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return function Nn(n){return n.pieceNum_>=n.pieces_.length}(t)?this:".priority"===On(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=On(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,re.hu)(".priority"!==i||1===Ah(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ZL(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?pL(this.value_):this.value_,this.lazyHash_=uL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,re.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,re.hu)(o>=0,"Unknown leaf type: "+r),(0,re.hu)(c>=0,"Unknown leaf type: "+i),o===c?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class h3 extends PD{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?gg(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rn.MIN}maxPost(){return new Rn(Pu,new Ty("[PRIORITY-POST]",undefined))}makePost(e,t){const r=undefined(e);return new Rn(t,new Ty("[PRIORITY-POST]",r))}toString(){return".priority"}}const Sr=new h3,f3=Math.log(2);class p3{constructor(e){this.count=parseInt(Math.log(e+1)/f3,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const RD=function(n,e,t,r){n.sort(e);const i=function(m,y){const b=y-m;let T,A;if(0===b)return null;if(1===b)return T=n[m],A=t?t(T):T,new cl(A,T.node,cl.BLACK,null,null);{const F=parseInt(b/2,10)+m,H=i(m,F),ie=i(F+1,y);return T=n[F],A=t?t(T):T,new cl(A,T.node,cl.BLACK,H,ie)}},h=function(m){let y=null,b=null,T=n.length;const A=function(H,ie){const pe=T-H,ze=T;T-=H;const gt=i(pe+1,ze),Et=n[pe],At=t?t(Et):Et;F(new cl(At,Et.node,ie,null,gt))},F=function(H){y?(y.left=H,y=H):(b=H,y=H)};for(let H=0;H<m.count;++H){const ie=m.nextBitIsOne(),pe=Math.pow(2,m.count-(H+1));ie?A(pe,cl.BLACK):(A(pe,cl.BLACK),A(pe,cl.RED))}return b}(new p3(n.length));return new co(r||e,h)};let SO;const Dy={};class Ou{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,re.hu)(Dy&&Sr,"ChildrenNode.ts has not been loaded"),SO=SO||new Ou({".priority":Dy},{".priority":Sr}),SO}get(e){const t=(0,re.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof co?t:null}hasIndex(e){return(0,re.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,re.hu)(e!==uc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(Rn.Wrap);let h,c=o.getNext();for(;c;)i=i||e.isDefinedOn(c.node),r.push(c),c=o.getNext();h=i?RD(r,e.getCompare()):Dy;const m=e.toString(),y=Object.assign({},this.indexSet_);y[m]=e;const b=Object.assign({},this.indexes_);return b[m]=h,new Ou(b,y)}addToIndexes(e,t){const r=(0,re.UI)(this.indexes_,(i,o)=>{const c=(0,re.DV)(this.indexSet_,o);if((0,re.hu)(c,"Missing index implementation for "+o),i===Dy){if(c.isDefinedOn(e.node)){const h=[],m=t.getIterator(Rn.Wrap);let y=m.getNext();for(;y;)y.name!==e.name&&h.push(y),y=m.getNext();return h.push(e),RD(h,c.getCompare())}return Dy}{const h=t.get(e.name);let m=i;return h&&(m=m.remove(new Rn(e.name,h))),m.insert(e,e.node)}});return new Ou(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,re.UI)(this.indexes_,i=>{if(i===Dy)return i;{const o=t.get(e.name);return o?i.remove(new Rn(e.name,o)):i}});return new Ou(r,this.indexSet_)}}let fE,Tn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&YL(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fE||(fE=new n(new co(TO),null,Ou.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?fE:r}}getChild(t){const r=On(t);return null===r?this:this.getImmediateChild(r).getChild(Cr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,re.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Rn(t,r);let o,c;r.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(i,this.children_));const h=o.isEmpty()?fE:this.priorityNode_;return new n(o,h,c)}}updateChild(t,r){const i=On(t);if(null===i)return r;{(0,re.hu)(".priority"!==On(t)||1===Ah(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Cr(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,c=!0;if(this.forEachChild(Sr,(h,m)=>{r[h]=m.val(t),i++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*i){const h=[];for(const m in r)h[m]=r[m];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+ZL(this.getPriority().val())+":"),this.forEachChild(Sr,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":uL(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const c=o.getPredecessorKey(new Rn(t,r));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Rn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Rn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Rn.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Rn.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pE?-1:0}withIndex(t){if(t===uc||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===uc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Sr),o=r.getIterator(Sr);let c=i.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=i.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===uc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class g3 extends Tn{constructor(){super(new co(TO),Tn.EMPTY_NODE,Ou.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Tn.EMPTY_NODE}isEmpty(){return!1}}const pE=new g3;function S6(n=(0,Co.getApp)(),e){const t=(0,Co._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,re.P0)("database");r&&function A6(n,e,t,r={}){(n=(0,re.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&cc("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&cc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new uE(uE.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,re.Sg)(r.mockUserToken,n.app.options.projectId);o=new uE(c)}!function E6(n,e,t,r){n.repoInfo_=new mO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(t,...r)}return t}KL.__EMPTY_NODE=Tn.EMPTY_NODE,Ty.__childrenNodeConstructor=Tn,_g.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},_g.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};class vN{constructor(e){return e}}const nV="database",wN=new u.OlP("angularfire2.database-instances");function R6(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vN(r)}}const k6={provide:class O6{constructor(){return(0,ln.vb)(nV)}},deps:[[new u.FiY,wN]]},F6={provide:vN,useFactory:function N6(n,e){const t=(0,ln.JM)(nV,n,e);return t&&new vN(t)},deps:[[new u.FiY,wN],Au]};let L6=(()=>{class n{constructor(){(0,ac.KN)("angularfire",ln.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[F6,k6]}),n})();function V6(n,...e){return{ngModule:L6,providers:[{provide:wN,useFactory:R6(n),multi:!0,deps:[u.R0b,u.zs3,ln.HU,Y0,[new u.FiY,DD],[new u.FiY,vy],...e]}]}}const U6=(0,ln.u3)(S6,!0);class EN{constructor(e){return e}}const rV="firestore",CN=new u.OlP("angularfire2.firestore-instances");function $6(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new EN(r)}}const H6={provide:class B6{constructor(){return(0,ln.vb)(rV)}},deps:[[new u.FiY,CN]]},z6={provide:EN,useFactory:function j6(n,e){const t=(0,ln.JM)(rV,n,e);return t&&new EN(t)},deps:[[new u.FiY,CN],Au]};let G6=(()=>{class n{constructor(){(0,ac.KN)("angularfire",ln.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[z6,H6]}),n})();function W6(n,...e){return{ngModule:G6,providers:[{provide:CN,useFactory:$6(n),multi:!0,deps:[u.R0b,u.zs3,ln.HU,Y0,[new u.FiY,DD],[new u.FiY,vy],...e]}]}}const q6=(0,ln.u3)(qU,!0),IN="functions";class J6{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,xe.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return(0,xe.Z)(function*(){if(t.appCheck){const r=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var t=this;return(0,xe.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const TN="us-central1";class eG{constructor(e,t,r,i,o=TN,c){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new J6(t,r,i),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin,this.region=TN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const aV="@firebase/functions";function uG(n=(0,Eh.Mq)(),e=TN){const r=(0,Eh.qX)((0,re.m9)(n),IN).getImmediate({identifier:e}),i=(0,re.P0)("functions");return i&&function dG(n,e,t){!function tG(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,re.m9)(n),e,t)}(r,...i),r}!function cG(n,e){(0,Eh.Xd)(new kl.wA(IN,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),c=r.getProvider("auth-internal"),h=r.getProvider("messaging-internal"),m=r.getProvider("app-check-internal");return new eG(o,c,h,m,i,n)},"PUBLIC").setMultipleInstances(!0)),(0,Eh.KN)(aV,"0.10.0",e),(0,Eh.KN)(aV,"0.10.0","esm2017")}(fetch.bind(self));class AN{constructor(e){return e}}const cV="functions",xN=new u.OlP("angularfire2.functions-instances");function pG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new AN(r)}}const gG={provide:class hG{constructor(){return(0,ln.vb)(cV)}},deps:[[new u.FiY,xN]]},mG={provide:AN,useFactory:function fG(n,e){const t=(0,ln.JM)(cV,n,e);return t&&new AN(t)},deps:[[new u.FiY,xN],Au]};let _G=(()=>{class n{constructor(){(0,ac.KN)("angularfire",ln.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mG,gG]}),n})();function yG(n,...e){return{ngModule:_G,providers:[{provide:xN,useFactory:pG(n),multi:!0,deps:[u.R0b,u.zs3,ln.HU,Y0,[new u.FiY,DD],[new u.FiY,vy],...e]}]}}const vG=(0,ln.u3)(uG,!0);var wG=R(8628);class MN{constructor(e){return e}}const uV="messaging",PN=new u.OlP("angularfire2.messaging-instances");function bG(n){return(e,t)=>{if(!ln.n1.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new MN(r)}}const IG={provide:class EG{constructor(){return(0,ln.vb)(uV)}},deps:[[new u.FiY,PN]]},TG={provide:MN,useFactory:function CG(n,e){if(!ln.n1.sync())return null;const t=(0,ln.JM)(uV,n,e);return t&&new MN(t)},deps:[[new u.FiY,PN],Au]};let DG=(()=>{class n{constructor(){(0,ac.KN)("angularfire",ln.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[TG,IG,{provide:u.ip1,useValue:ln.n1.async,multi:!0}]}),n})();function SG(n,...e){return{ngModule:DG,providers:[{provide:PN,useFactory:bG(n),multi:!0,deps:[u.R0b,u.zs3,ln.HU,Y0,...e]}]}}const AG=(0,ln.u3)(wG.KL,!0);function dV(n){return new u.vHH(3e3,!1)}function cW(){return typeof window<"u"&&typeof window.document<"u"}function ON(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fh(n){switch(n.length){case 0:return new X0;case 1:return n[0];default:return new Vk(n)}}function hV(n,e,t,r,i=new Map,o=new Map){const c=[],h=[];let m=-1,y=null;if(r.forEach(b=>{const T=b.get("offset"),A=T==m,F=A&&y||new Map;b.forEach((H,ie)=>{let pe=ie,ze=H;if("offset"!==ie)switch(pe=e.normalizePropertyName(pe,c),ze){case"!":ze=i.get(ie);break;case xu:ze=o.get(ie);break;default:ze=e.normalizeStyleValue(ie,pe,ze,c)}F.set(pe,ze)}),A||h.push(F),y=F,m=T}),c.length)throw function QG(n){return new u.vHH(3502,!1)}();return h}function NN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&RN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&RN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&RN(t,"destroy",n)))}}function RN(n,e,t){const o=kN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function kN(n,e,t,r,i="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!c}}function Lo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function fV(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let FN=(n,e)=>!1,pV=(n,e,t)=>[],gV=null;function LN(n){const e=n.parentNode||n.host;return e===gV?null:e}(ON()||typeof Element<"u")&&(cW()?(gV=(()=>document.documentElement)(),FN=(n,e)=>{for(;e;){if(e===n)return!0;e=LN(e)}return!1}):FN=(n,e)=>n.contains(e),pV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let bg=null,mV=!1;const _V=FN,yV=pV;let vV=(()=>{class n{validateStyleProperty(t){return function dW(n){bg||(bg=function hW(){return typeof document<"u"?document.body:null}()||{},mV=!!bg.style&&"WebkitAppearance"in bg.style);let e=!0;return bg.style&&!function uW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bg.style,!e&&mV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bg.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return _V(t,r)}getParentElement(t){return LN(t)}query(t,r,i){return yV(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,c,h=[],m){return new X0(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),VN=(()=>{class n{}return n.NOOP=new vV,n})();const UN="ng-enter",lS="ng-leave",cS="ng-trigger",uS=".ng-trigger",EV="ng-animating",BN=".ng-animating";function Nu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jN(parseFloat(e[1]),e[2])}function jN(n,e){return"s"===e?1e3*n:n}function dS(n,e,t){return n.hasOwnProperty("duration")?n:function gW(n,e,t){let i,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(dV()),{duration:0,delay:0,easing:""};i=jN(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=jN(parseFloat(m),h[4]));const y=h[5];y&&(c=y)}else i=n;if(!t){let h=!1,m=e.length;i<0&&(e.push(function xG(){return new u.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function MG(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,dV())}return{duration:i,delay:o,easing:c}}(n,e,t)}function OE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function CV(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Lh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function IV(n,e,t){return t?e+":"+t+";":""}function TV(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=IV(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=IV(0,vW(t),n.style[t]));n.setAttribute("style",e)}function fc(n,e,t){n.style&&(e.forEach((r,i)=>{const o=HN(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),ON()&&TV(n))}function Ig(n,e){n.style&&(e.forEach((t,r)=>{const i=HN(r);n.style[i]=""}),ON()&&TV(n))}function NE(n){return Array.isArray(n)?1==n.length?n[0]:Fk(n):n}const $N=new RegExp("{{\\s*(.+?)\\s*}}","g");function DV(n){let e=[];if("string"==typeof n){let t;for(;t=$N.exec(n);)e.push(t[1]);$N.lastIndex=0}return e}function RE(n,e,t){const r=n.toString(),i=r.replace($N,(o,c)=>{let h=e[c];return null==h&&(t.push(function OG(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function hS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yW=/-+([a-z0-9])/g;function HN(n){return n.replace(yW,(...e)=>e[1].toUpperCase())}function vW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function NG(n){return new u.vHH(3004,!1)}()}}function SV(n,e){return window.getComputedStyle(n)[e]}function TW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function DW(n,e,t){if(":"==n[0]){const m=function SW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qG(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function WG(n){return new u.vHH(3015,!1)}()),e;const i=r[1],o=r[2],c=r[3];e.push(AV(i,c));"<"==o[0]&&!("*"==i&&"*"==c)&&e.push(AV(c,i))}(r,t,e)):t.push(n),t}const mS=new Set(["true","1"]),_S=new Set(["false","0"]);function AV(n,e){const t=mS.has(n)||_S.has(n),r=mS.has(e)||_S.has(e);return(i,o)=>{let c="*"==n||n==i,h="*"==e||e==o;return!c&&t&&"boolean"==typeof i&&(c=i?mS.has(n):_S.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?mS.has(e):_S.has(e)),c&&h}}const AW=new RegExp("s*:selfs*,?","g");function zN(n,e,t,r){return new xW(n).build(e,t,r)}class xW{constructor(e){this._driver=e}build(e,t,r){const i=new OW(t);return this._resetContextStyleTimingState(i),Vo(this,NE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function kG(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,y=m.name;y.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,o.push(this.visitState(m,t))}),m.name=y}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function FG(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{DV(m).forEach(y=>{c.hasOwnProperty(y)||o.add(y)})})}),o.size&&(hS(o.values()),t.errors.push(function LG(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vo(this,NE(e.animation),t);return{type:1,matchers:TW(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Tg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vo(this,r,t)),options:Tg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(c=>{t.currentTime=r;const h=Vo(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:Tg(e.options)}}visitAnimate(e,t){const r=function RW(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GN(dS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=GN(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=dS(t,e);return GN(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:pi({});if(5==o.type)i=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const y={};r.easing&&(y.easing=r.easing),c=pi(y)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=h,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===xu?r.push(h):t.errors.push(new u.vHH(3002,!1)):r.push(CV(h));let o=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,m)=>{const y=t.collectedStyles.get(t.currentQuerySelector),b=y.get(m);let T=!0;b&&(o!=i&&o>=b.startTime&&i<=b.endTime&&(t.errors.push(function UG(n,e,t,r,i){return new u.vHH(3010,!1)}()),T=!1),o=b.startTime),T&&y.set(m,{startTime:o,endTime:i}),t.options&&function _W(n,e,t){const r=e.params||{},i=DV(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function PG(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function BG(){return new u.vHH(3011,!1)}()),r;let o=0;const c=[];let h=!1,m=!1,y=0;const b=e.steps.map(ze=>{const gt=this._makeStyleAst(ze,t);let Et=null!=gt.offset?gt.offset:function NW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(gt.styles),At=0;return null!=Et&&(o++,At=gt.offset=Et),m=m||At<0||At>1,h=h||At<y,y=At,c.push(At),gt});m&&t.errors.push(function jG(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function $G(){return new u.vHH(3200,!1)}());const T=e.steps.length;let A=0;o>0&&o<T?t.errors.push(function HG(){return new u.vHH(3202,!1)}()):0==o&&(A=1/(T-1));const F=T-1,H=t.currentTime,ie=t.currentAnimateTimings,pe=ie.duration;return b.forEach((ze,gt)=>{const Et=A>0?gt==F?1:A*gt:c[gt],At=Et*pe;t.currentTime=H+ie.delay+At,ie.duration=At,this._validateStyleAst(ze,t),ze.offset=Et,r.styles.push(ze)}),r}visitReference(e,t){return{type:8,animation:Vo(this,NE(e.animation),t),options:Tg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Tg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Tg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function MW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(AW,"")),n=n.replace(/@\*/g,uS).replace(/@\w+/g,t=>uS+"-"+t.slice(1)).replace(/:animating/g,BN),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Lo(t.collectedStyles,t.currentQuerySelector,new Map);const h=Vo(this,NE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Tg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function zG(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dS(e.timings,t.errors,!0);return{type:12,animation:Vo(this,NE(e.animation),t),timings:r,options:null}}}class OW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tg(n){return n?(n=OE(n)).params&&(n.params=function PW(n){return n?OE(n):null}(n.params)):n={},n}function GN(n,e,t){return{duration:n,delay:e,easing:t}}function WN(n,e,t,r,i,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:c,subTimeline:h}}class yS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const LW=new RegExp(":enter","g"),UW=new RegExp(":leave","g");function qN(n,e,t,r,i,o=new Map,c=new Map,h,m,y=[]){return(new BW).buildKeyframes(n,e,t,r,i,o,c,h,m,y)}class BW{buildKeyframes(e,t,r,i,o,c,h,m,y,b=[]){y=y||new yS;const T=new KN(e,t,y,i,o,b,[]);T.options=m;const A=m.delay?Nu(m.delay):0;T.currentTimeline.delayNextStep(A),T.currentTimeline.setStyles([c],null,T.errors,m),Vo(this,r,T);const F=T.timelines.filter(H=>H.containsAnimation());if(F.length&&h.size){let H;for(let ie=F.length-1;ie>=0;ie--){const pe=F[ie];if(pe.element===t){H=pe;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,T.errors,m)}return F.length?F.map(H=>H.buildKeyframes()):[WN(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const c="number"==typeof o?o:Nu(RE(o,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const c=null!=r.duration?Nu(r.duration):null,h=null!=r.delay?Nu(r.delay):null;return 0!==c&&e.forEach(m=>{const y=t.appendInstructionToTimeline(m,c,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vS);const c=Nu(o.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Vo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Nu(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Vo(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dS(t.params?RE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Nu(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vS);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((y,b)=>{t.currentQueryIndex=b;const T=t.createSubContext(e.options,y);o&&T.delayNextStep(o),y===t.element&&(m=T.currentTimeline),Vo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const b=t.currentTimeline;m&&b.delayNextStep(m);const T=b.currentTime;Vo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const vS={};class KN{constructor(e,t,r,i,o,c,h,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new wS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Nu(r.duration)),null!=r.delay&&(i.delay=Nu(r.delay));const o=r.params;if(o){let c=i.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=RE(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new KN(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new jW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(LW,"."+this._enterClassName)).replace(UW,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!o&&0==h.length&&c.push(function GG(n){return new u.vHH(3014,!1)}()),h}}class wS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||xu),this._currentKeyframe.set(t,xu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},c=function $W(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,xu)}else Lh(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of c){const y=RE(m,o,r);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??xu),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const y=Lh(h,new Map,this._backFill);y.forEach((b,T)=>{"!"===b?e.add(T):b===xu&&t.add(T)}),r||y.set("offset",m/this.duration),i.push(y)});const o=e.size?hS(e.values()):[],c=t.size?hS(t.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return WN(this.element,i,o,c,this.duration,this.startTime,this.easing,!1)}}class jW extends wS{constructor(e,t,r,i,o,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=r+t,h=t/c,m=Lh(e[0]);m.set("offset",0),o.push(m);const y=Lh(e[0]);y.set("offset",PV(h)),o.push(y);const b=e.length-1;for(let T=1;T<=b;T++){let A=Lh(e[T]);const F=A.get("offset");A.set("offset",PV((t+F*r)/c)),o.push(A)}r=c,t=0,i="",e=o}return WN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function PV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ZN{}const HW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zW extends ZN{normalizePropertyName(e,t){return HN(e)}normalizeStyleValue(e,t,r,i){let o="";const c=r.toString().trim();if(HW.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function RG(n,e){return new u.vHH(3005,!1)}())}return c+o}}function OV(n,e,t,r,i,o,c,h,m,y,b,T,A){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:h,queriedElements:m,preStyleProps:y,postStyleProps:b,totalTime:T,errors:A}}const YN={};class NV{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function GW(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,c,h,m,y,b){const T=[],A=this.ast.options&&this.ast.options.params||YN,H=this.buildStyles(r,h&&h.params||YN,T),ie=m&&m.params||YN,pe=this.buildStyles(i,ie,T),ze=new Set,gt=new Map,Et=new Map,At="void"===i,_n={params:WW(ie,A),delay:this.ast.options?.delay},yn=b?[]:qN(e,t,this.ast.animation,o,c,H,pe,_n,y,T);let ir=0;if(yn.forEach(ba=>{ir=Math.max(ba.duration+ba.delay,ir)}),T.length)return OV(t,this._triggerName,r,i,At,H,pe,[],[],gt,Et,ir,T);yn.forEach(ba=>{const Ru=ba.element,KV=Lo(gt,Ru,new Set);ba.preStyleProps.forEach(Dg=>KV.add(Dg));const FE=Lo(Et,Ru,new Set);ba.postStyleProps.forEach(Dg=>FE.add(Dg)),Ru!==t&&ze.add(Ru)});const ps=hS(ze.values());return OV(t,this._triggerName,r,i,At,H,pe,yn,ps,gt,Et,ir)}}function WW(n,e){const t=OE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class qW{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=OE(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(i[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=RE(c,i,t));const m=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,m,c,t),r.set(m,c)})}),r}}class ZW{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new qW(i.style,i.options&&i.options.params||{},r))}),RV(this.states,"true","1"),RV(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new NV(e,i,this.states))}),this.fallbackTransition=function YW(n,e,t){return new NV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function RV(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const QW=new yS;class JW{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=zN(this._driver,t,r,[]);if(r.length)throw function JG(n){return new u.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=hV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=qN(this._driver,t,o,UN,lS,new Map,new Map,r,QW,i),c.forEach(b=>{const T=Lo(h,b.element,new Map);b.postStyleProps.forEach(A=>T.set(A,null))})):(i.push(function XG(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function eW(n){return new u.vHH(3504,!1)}();h.forEach((b,T)=>{b.forEach((A,F)=>{b.set(F,this._driver.computeStyle(T,F,xu))})});const y=Fh(c.map(b=>{const T=h.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function tW(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=kN(t,"","","");return NN(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const kV="ng-animate-queued",QN="ng-animate-disabled",r5=[],FV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},i5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea="__ng_removed";class JN{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function l5(n){return n??null}(r?e.value:e),r){const o=OE(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const kE="void",XN=new JN(kE);class s5{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ca(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function nW(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function rW(n){return new u.vHH(3303,!1)}();if(!function c5(n){return"start"==n||"done"==n}(r))throw function iW(n,e){return new u.vHH(3400,!1)}();const o=Lo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};o.push(c);const h=Lo(this._engine.statesByElement,e,new Map);return h.has(t)||(Ca(e,cS),Ca(e,cS+"-"+t),h.set(t,XN)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(c);m>=0&&o.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function sW(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),c=new e1(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ca(e,cS),Ca(e,cS+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const y=new JN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),h.set(t,y),m||(m=XN),y.value!==kE&&m.value===y.value){if(!function h5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(m.params,y.params)){const ie=[],pe=o.matchStyles(m.value,m.params,ie),ze=o.matchStyles(y.value,y.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Ig(e,pe),fc(e,ze)})}return}const A=Lo(this._engine.playersByElement,e,[]);A.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let F=o.matchTransition(m.value,y.value,e,y.params),H=!1;if(!F){if(!i)return;F=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:m,toState:y,player:c,isFallbackTransition:H}),H||(Ca(e,kV),c.onStart(()=>{Fy(e,kV)})),c.onDone(()=>{let ie=this.players.indexOf(c);ie>=0&&this.players.splice(ie,1);const pe=this._engine.playersByElement.get(e);if(pe){let ze=pe.indexOf(c);ze>=0&&pe.splice(ze,1)}}),this.players.push(c),A.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,uS,!0);r.forEach(i=>{if(i[Ea])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((m,y)=>{if(c.set(y,m.value),this._triggers.has(y)){const b=this.trigger(e,y,kE,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Fh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const c=o.name;if(i.has(c))return;i.add(c);const m=this._triggers.get(c).fallbackTransition,y=r.get(c)||XN,b=new JN(kE),T=new e1(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:y,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ea];(!o||o===FV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==r.triggerName){const m=kN(o,r.triggerName,r.fromState.value,r.toState.value);m._data=e,NN(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class o5{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new s5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const m=i.get(h);if(m){const y=r.indexOf(m);r.splice(y+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(ES(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ES(t))return;const o=t[Ea];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ca(e,QN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fy(e,QN))}removeNode(e,t,r,i){if(ES(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Ea]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return ES(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,uS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,BN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ea];if(t&&t.setForRemoval){if(e[Ea]=FV,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(QN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ca(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function oW(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new yS,i=[],o=new Map,c=[],h=new Map,m=new Map,y=new Map,b=new Set;this.disabledNodes.forEach(Bt=>{b.add(Bt);const tn=this.driver.query(Bt,".ng-animate-queued",!0);for(let cn=0;cn<tn.length;cn++)b.add(tn[cn])});const T=this.bodyNode,A=Array.from(this.statesByElement.keys()),F=UV(A,this.collectedEnterElements),H=new Map;let ie=0;F.forEach((Bt,tn)=>{const cn=UN+ie++;H.set(tn,cn),Bt.forEach(Xn=>Ca(Xn,cn))});const pe=[],ze=new Set,gt=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const tn=this.collectedLeaveElements[Bt],cn=tn[Ea];cn&&cn.setForRemoval&&(pe.push(tn),ze.add(tn),cn.hasAnimation?this.driver.query(tn,".ng-star-inserted",!0).forEach(Xn=>ze.add(Xn)):gt.add(tn))}const Et=new Map,At=UV(A,Array.from(ze));At.forEach((Bt,tn)=>{const cn=lS+ie++;Et.set(tn,cn),Bt.forEach(Xn=>Ca(Xn,cn))}),e.push(()=>{F.forEach((Bt,tn)=>{const cn=H.get(tn);Bt.forEach(Xn=>Fy(Xn,cn))}),At.forEach((Bt,tn)=>{const cn=Et.get(tn);Bt.forEach(Xn=>Fy(Xn,cn))}),pe.forEach(Bt=>{this.processLeaveNode(Bt)})});const _n=[],yn=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(t).forEach(cn=>{const Xn=cn.player,Xi=cn.element;if(_n.push(Xn),this.collectedEnterElements.length){const Is=Xi[Ea];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(cn.triggerName)){const Sg=Is.previousTriggersValues.get(cn.triggerName),Ia=this.statesByElement.get(cn.element);if(Ia&&Ia.has(cn.triggerName)){const IS=Ia.get(cn.triggerName);IS.value=Sg,Ia.set(cn.triggerName,IS)}}return void Xn.destroy()}}const pc=!T||!this.driver.containsElement(T,Xi),Uo=Et.get(Xi),Vh=H.get(Xi),ei=this._buildInstruction(cn,r,Vh,Uo,pc);if(ei.errors&&ei.errors.length)return void yn.push(ei);if(pc)return Xn.onStart(()=>Ig(Xi,ei.fromStyles)),Xn.onDestroy(()=>fc(Xi,ei.toStyles)),void i.push(Xn);if(cn.isFallbackTransition)return Xn.onStart(()=>Ig(Xi,ei.fromStyles)),Xn.onDestroy(()=>fc(Xi,ei.toStyles)),void i.push(Xn);const QV=[];ei.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||QV.push(Is)}),ei.timelines=QV,r.append(Xi,ei.timelines),c.push({instruction:ei,player:Xn,element:Xi}),ei.queriedElements.forEach(Is=>Lo(h,Is,[]).push(Xn)),ei.preStyleProps.forEach((Is,Sg)=>{if(Is.size){let Ia=m.get(Sg);Ia||m.set(Sg,Ia=new Set),Is.forEach((IS,r1)=>Ia.add(r1))}}),ei.postStyleProps.forEach((Is,Sg)=>{let Ia=y.get(Sg);Ia||y.set(Sg,Ia=new Set),Is.forEach((IS,r1)=>Ia.add(r1))})});if(yn.length){const Bt=[];yn.forEach(tn=>{Bt.push(function aW(n,e){return new u.vHH(3505,!1)}())}),_n.forEach(tn=>tn.destroy()),this.reportError(Bt)}const ir=new Map,ps=new Map;c.forEach(Bt=>{const tn=Bt.element;r.has(tn)&&(ps.set(tn,tn),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,ir))}),i.forEach(Bt=>{const tn=Bt.element;this._getPreviousPlayers(tn,!1,Bt.namespaceId,Bt.triggerName,null).forEach(Xn=>{Lo(ir,tn,[]).push(Xn),Xn.destroy()})});const ba=pe.filter(Bt=>jV(Bt,m,y)),Ru=new Map;VV(Ru,this.driver,gt,y,xu).forEach(Bt=>{jV(Bt,m,y)&&ba.push(Bt)});const FE=new Map;F.forEach((Bt,tn)=>{VV(FE,this.driver,new Set(Bt),m,"!")}),ba.forEach(Bt=>{const tn=Ru.get(Bt),cn=FE.get(Bt);Ru.set(Bt,new Map([...Array.from(tn?.entries()??[]),...Array.from(cn?.entries()??[])]))});const Dg=[],ZV=[],YV={};c.forEach(Bt=>{const{element:tn,player:cn,instruction:Xn}=Bt;if(r.has(tn)){if(b.has(tn))return cn.onDestroy(()=>fc(tn,Xn.toStyles)),cn.disabled=!0,cn.overrideTotalTime(Xn.totalTime),void i.push(cn);let Xi=YV;if(ps.size>1){let Uo=tn;const Vh=[];for(;Uo=Uo.parentNode;){const ei=ps.get(Uo);if(ei){Xi=ei;break}Vh.push(Uo)}Vh.forEach(ei=>ps.set(ei,Xi))}const pc=this._buildAnimation(cn.namespaceId,Xn,ir,o,FE,Ru);if(cn.setRealPlayer(pc),Xi===YV)Dg.push(cn);else{const Uo=this.playersByElement.get(Xi);Uo&&Uo.length&&(cn.parentPlayer=Fh(Uo)),i.push(cn)}}else Ig(tn,Xn.fromStyles),cn.onDestroy(()=>fc(tn,Xn.toStyles)),ZV.push(cn),b.has(tn)&&i.push(cn)}),ZV.forEach(Bt=>{const tn=o.get(Bt.element);if(tn&&tn.length){const cn=Fh(tn);Bt.setRealPlayer(cn)}}),i.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<pe.length;Bt++){const tn=pe[Bt],cn=tn[Ea];if(Fy(tn,lS),cn&&cn.hasAnimation)continue;let Xn=[];if(h.size){let pc=h.get(tn);pc&&pc.length&&Xn.push(...pc);let Uo=this.driver.query(tn,BN,!0);for(let Vh=0;Vh<Uo.length;Vh++){let ei=h.get(Uo[Vh]);ei&&ei.length&&Xn.push(...ei)}}const Xi=Xn.filter(pc=>!pc.destroyed);Xi.length?u5(this,tn,Xi):this.processLeaveNode(tn)}return pe.length=0,Dg.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const tn=this.players.indexOf(Bt);this.players.splice(tn,1)}),Bt.play()}),Dg}elementContainsData(e,t){let r=!1;const i=t[Ea];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const m=!o||o==kE;h.forEach(y=>{y.queued||!m&&y.triggerName!=i||c.push(y)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const y=m.element,b=y!==o,T=Lo(r,y,[]);this._getPreviousPlayers(y,b,c,h,t.toState).forEach(F=>{const H=F.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),F.destroy(),T.push(F)})}Ig(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,c){const h=t.triggerName,m=t.element,y=[],b=new Set,T=new Set,A=t.timelines.map(H=>{const ie=H.element;b.add(ie);const pe=ie[Ea];if(pe&&pe.removedBeforeQueried)return new X0(H.duration,H.delay);const ze=ie!==m,gt=function d5(n){const e=[];return BV(n,e),e}((r.get(ie)||r5).map(ir=>ir.getRealPlayer())).filter(ir=>!!ir.element&&ir.element===ie),Et=o.get(ie),At=c.get(ie),_n=hV(0,this._normalizer,0,H.keyframes,Et,At),yn=this._buildPlayer(H,_n,gt);if(H.subTimeline&&i&&T.add(ie),ze){const ir=new e1(e,h,ie);ir.setRealPlayer(yn),y.push(ir)}return yn});y.forEach(H=>{Lo(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function a5(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,H.element,H))}),b.forEach(H=>Ca(H,EV));const F=Fh(A);return F.onDestroy(()=>{b.forEach(H=>Fy(H,EV)),fc(m,t.toStyles)}),T.forEach(H=>{Lo(i,H,[]).push(F)}),F}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new X0(e.duration,e.delay)}}class e1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new X0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>NN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ES(n){return n&&1===n.nodeType}function LV(n,e){const t=n.style.display;return n.style.display=e??"none",t}function VV(n,e,t,r,i){const o=[];t.forEach(m=>o.push(LV(m)));const c=[];r.forEach((m,y)=>{const b=new Map;m.forEach(T=>{const A=e.computeStyle(y,T,i);b.set(T,A),(!A||0==A.length)&&(y[Ea]=i5,c.push(y))}),n.set(y,b)});let h=0;return t.forEach(m=>LV(m,o[h++])),c}function UV(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function c(h){if(!h)return 1;let m=o.get(h);if(m)return m;const y=h.parentNode;return m=t.has(y)?y:i.has(y)?1:c(y),o.set(h,m),m}return e.forEach(h=>{const m=c(h);1!==m&&t.get(m).push(h)}),t}function Ca(n,e){n.classList?.add(e)}function Fy(n,e){n.classList?.remove(e)}function u5(n,e,t){Fh(t).onDone(()=>n.processLeaveNode(e))}function BV(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Vk?BV(r.players,e):e.push(r)}}function jV(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class CS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new o5(e,t,r),this._timelineEngine=new JW(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const m=[],b=zN(this._driver,o,m,[]);if(m.length)throw function YG(n,e){return new u.vHH(3404,!1)}();h=function KW(n,e,t){return new ZW(n,e,t)}(i,b,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,c]=fV(r);this._timelineEngine.command(o,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[c,h]=fV(r);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let p5=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fc(this._element,this._initialStyles),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ig(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ig(this._element,this._endStyles),this._endStyles=null),fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function t1(n){let e=null;return n.forEach((t,r)=>{(function g5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class $V{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:SV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class m5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _V(e,t)}getParentElement(e){return LN(e)}query(e,t,r){return yV(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(m.easing=o);const y=new Map,b=c.filter(F=>F instanceof $V);(function wW(n,e){return 0===n||0===e})(r,i)&&b.forEach(F=>{F.currentSnapshot.forEach((H,ie)=>y.set(ie,H))});let T=function mW(n){return n.length?n[0]instanceof Map?n:n.map(e=>CV(e)):[]}(t).map(F=>Lh(F));T=function EW(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,c)=>{r.has(c)||i.push(c),r.set(c,o)}),i.length)for(let o=1;o<e.length;o++){let c=e[o];i.forEach(h=>c.set(h,SV(n,h)))}}return e}(e,T,y);const A=function f5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=t1(e[0]),e.length>1&&(r=t1(e[e.length-1]))):e instanceof Map&&(t=t1(e)),t||r?new p5(n,t,r):null}(e,T);return new $V(e,T,m,A)}}let _5=(()=>{class n extends kk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Fk(t):t;return HV(this._renderer,null,r,"register",[i]),new y5(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ge))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class y5 extends class v${}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new v5(this._id,e,t||{},this._renderer)}}class v5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return HV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function HV(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const zV="@.disabled";let w5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(o);return b||(b=new GV("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(c,h,t,b.name,b)};return r.data.animation.forEach(m),new E5(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(CS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class GV{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==zV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class E5 extends GV{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==zV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function C5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function b5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let I5=(()=>{class n extends CS{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(VN),u.LFG(ZN),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const WV=[{provide:kk,useClass:_5},{provide:ZN,useFactory:function T5(){return new zW}},{provide:CS,useClass:I5},{provide:u.FYo,useFactory:function D5(n,e,t){return new w5(n,e,t)},deps:[Ac,CS,u.R0b]}],n1=[{provide:VN,useFactory:()=>new m5},{provide:u.QbO,useValue:"BrowserAnimations"},...WV],qV=[{provide:VN,useClass:vV},{provide:u.QbO,useValue:"NoopAnimations"},...WV];let S5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qV:n1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:n1,imports:[rf]}),n})(),A5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Nk]}),n.\u0275inj=u.cJS({imports:[rf,vA,qF,c4,Eo.hO.initializeApp(lO_firebase),u$,dj(()=>hj(lO_firebase)),V6(()=>U6()),W6(()=>q6()),yG(()=>vG()),SG(()=>AG()),S5]}),n})();u.B6R(Nk,function(){return[qF]},[]),(0,u.G48)(),nf().bootstrapModule(A5).catch(n=>console.error(n))},9751:(Mt,je,R)=>{R.d(je,{y:()=>ye});var u=R(2961),$=R(727),k=R(8822),ae=R(9635),de=R(2416),Ee=R(576),ge=R(2806);let ye=(()=>{class X{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Oe=new X;return Oe.source=this,Oe.operator=Se,Oe}subscribe(Se,Oe,lt){const De=function q(X){return X&&X instanceof u.Lv||function W(X){return X&&(0,Ee.m)(X.next)&&(0,Ee.m)(X.error)&&(0,Ee.m)(X.complete)}(X)&&(0,$.Nn)(X)}(Se)?Se:new u.Hp(Se,Oe,lt);return(0,ge.x)(()=>{const{operator:fe,source:Ct}=this;De.add(fe?fe.call(De,Ct):Ct?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Oe){Se.error(Oe)}}forEach(Se,Oe){return new(Oe=Ce(Oe))((lt,De)=>{const fe=new u.Hp({next:Ct=>{try{Se(Ct)}catch(ft){De(ft),fe.unsubscribe()}},error:De,complete:lt});this.subscribe(fe)})}_subscribe(Se){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Se)}[k.L](){return this}pipe(...Se){return(0,ae.U)(Se)(this)}toPromise(Se){return new(Se=Ce(Se))((Oe,lt)=>{let De;this.subscribe(fe=>De=fe,fe=>lt(fe),()=>Oe(De))})}}return X.create=qe=>new X(qe),X})();function Ce(X){var qe;return null!==(qe=X??de.v.Promise)&&void 0!==qe?qe:Promise}},7579:(Mt,je,R)=>{R.d(je,{x:()=>ge});var u=R(9751),$=R(727);const ae=(0,R(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=R(8737),Ee=R(2806);let ge=(()=>{class Ce extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const X=new ye(this,this);return X.operator=q,X}_throwIfClosed(){if(this.closed)throw new ae}next(q){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(q)}})}error(q){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:X}=this;for(;X.length;)X.shift().error(q)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:X,isStopped:qe,observers:Se}=this;return X||qe?$.Lc:(this.currentObservers=null,Se.push(q),new $.w0(()=>{this.currentObservers=null,(0,de.P)(Se,q)}))}_checkFinalizedStatuses(q){const{hasError:X,thrownError:qe,isStopped:Se}=this;X?q.error(qe):Se&&q.complete()}asObservable(){const q=new u.y;return q.source=this,q}}return Ce.create=(W,q)=>new ye(W,q),Ce})();class ye extends ge{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===X||X.call(q,W)}error(W){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===X||X.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,X;return null!==(X=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==X?X:$.Lc}}},2961:(Mt,je,R)=>{R.d(je,{Hp:()=>lt,Lv:()=>X});var u=R(576),$=R(727),k=R(2416),ae=R(7849);function de(){}const Ee=Ce("C",void 0,void 0);function Ce(Fe,Ae,Me){return{kind:Fe,value:Ae,error:Me}}var W=R(3410),q=R(2806);class X extends $.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,$.Nn)(Ae)&&Ae.add(this)):this.destination=ft}static create(Ae,Me,nt){return new lt(Ae,Me,nt)}next(Ae){this.isStopped?Ct(function ye(Fe){return Ce("N",Fe,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Ct(function ge(Fe){return Ce("E",void 0,Fe)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Ct(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Se(Fe,Ae){return qe.call(Fe,Ae)}class Oe{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Ae)}catch(nt){De(nt)}}error(Ae){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Ae)}catch(nt){De(nt)}else De(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Me){De(Me)}}}class lt extends X{constructor(Ae,Me,nt){let Xe;if(super(),(0,u.m)(Ae)||!Ae)Xe={next:Ae??void 0,error:Me??void 0,complete:nt??void 0};else{let K;this&&k.v.useDeprecatedNextContext?(K=Object.create(Ae),K.unsubscribe=()=>this.unsubscribe(),Xe={next:Ae.next&&Se(Ae.next,K),error:Ae.error&&Se(Ae.error,K),complete:Ae.complete&&Se(Ae.complete,K)}):Xe=Ae}this.destination=new Oe(Xe)}}function De(Fe){k.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Fe):(0,ae.h)(Fe)}function Ct(Fe,Ae){const{onStoppedNotification:Me}=k.v;Me&&W.z.setTimeout(()=>Me(Fe,Ae))}const ft={closed:!0,next:de,error:function fe(Fe){throw Fe},complete:de}},727:(Mt,je,R)=>{R.d(je,{Lc:()=>Ee,w0:()=>de,Nn:()=>ge});var u=R(576);const k=(0,R(3888).d)(Ce=>function(q){Ce(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((X,qe)=>`${qe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ae=R(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Se of q)Se.remove(this);else q.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(Se){W=Se instanceof k?Se.errors:[Se]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Se of qe)try{ye(Se)}catch(Oe){W=W??[],Oe instanceof k?W=[...W,...Oe.errors]:W.push(Oe)}}if(W)throw new k(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ye(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,ae.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,ae.P)(q,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const Ce=new de;return Ce.closed=!0,Ce})();const Ee=de.EMPTY;function ge(Ce){return Ce instanceof de||Ce&&"closed"in Ce&&(0,u.m)(Ce.remove)&&(0,u.m)(Ce.add)&&(0,u.m)(Ce.unsubscribe)}function ye(Ce){(0,u.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Mt,je,R)=>{R.d(je,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Mt,je,R)=>{R.d(je,{E:()=>$});const $=new(R(9751).y)(de=>de.complete())},8996:(Mt,je,R)=>{R.d(je,{D:()=>Ae});var u=R(8421),$=R(5363),k=R(9468),Ee=R(9751),ye=R(2202),Ce=R(576),W=R(9672);function X(Me,nt){if(!Me)throw new Error("Iterable cannot be null");return new Ee.y(Xe=>{(0,W.f)(Xe,nt,()=>{const K=Me[Symbol.asyncIterator]();(0,W.f)(Xe,nt,()=>{K.next().then(be=>{be.done?Xe.complete():Xe.next(be.value)})},0,!0)})})}var qe=R(3670),Se=R(8239),Oe=R(1144),lt=R(6495),De=R(2206),fe=R(4532),Ct=R(3260);function Ae(Me,nt){return nt?function Fe(Me,nt){if(null!=Me){if((0,qe.c)(Me))return function ae(Me,nt){return(0,u.Xf)(Me).pipe((0,k.R)(nt),(0,$.Q)(nt))}(Me,nt);if((0,Oe.z)(Me))return function ge(Me,nt){return new Ee.y(Xe=>{let K=0;return nt.schedule(function(){K===Me.length?Xe.complete():(Xe.next(Me[K++]),Xe.closed||this.schedule())})})}(Me,nt);if((0,Se.t)(Me))return function de(Me,nt){return(0,u.Xf)(Me).pipe((0,k.R)(nt),(0,$.Q)(nt))}(Me,nt);if((0,De.D)(Me))return X(Me,nt);if((0,lt.T)(Me))return function q(Me,nt){return new Ee.y(Xe=>{let K;return(0,W.f)(Xe,nt,()=>{K=Me[ye.h](),(0,W.f)(Xe,nt,()=>{let be,Ze;try{({value:be,done:Ze}=K.next())}catch(rt){return void Xe.error(rt)}Ze?Xe.complete():Xe.next(be)},0,!0)}),()=>(0,Ce.m)(K?.return)&&K.return()})}(Me,nt);if((0,Ct.L)(Me))return function ft(Me,nt){return X((0,Ct.Q)(Me),nt)}(Me,nt)}throw(0,fe.z)(Me)}(Me,nt):(0,u.Xf)(Me)}},8421:(Mt,je,R)=>{R.d(je,{Xf:()=>qe});var u=R(7582),$=R(1144),k=R(8239),ae=R(9751),de=R(3670),Ee=R(2206),ge=R(4532),ye=R(6495),Ce=R(3260),W=R(576),q=R(7849),X=R(8822);function qe(Fe){if(Fe instanceof ae.y)return Fe;if(null!=Fe){if((0,de.c)(Fe))return function Se(Fe){return new ae.y(Ae=>{const Me=Fe[X.L]();if((0,W.m)(Me.subscribe))return Me.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,$.z)(Fe))return function Oe(Fe){return new ae.y(Ae=>{for(let Me=0;Me<Fe.length&&!Ae.closed;Me++)Ae.next(Fe[Me]);Ae.complete()})}(Fe);if((0,k.t)(Fe))return function lt(Fe){return new ae.y(Ae=>{Fe.then(Me=>{Ae.closed||(Ae.next(Me),Ae.complete())},Me=>Ae.error(Me)).then(null,q.h)})}(Fe);if((0,Ee.D)(Fe))return fe(Fe);if((0,ye.T)(Fe))return function De(Fe){return new ae.y(Ae=>{for(const Me of Fe)if(Ae.next(Me),Ae.closed)return;Ae.complete()})}(Fe);if((0,Ce.L)(Fe))return function Ct(Fe){return fe((0,Ce.Q)(Fe))}(Fe)}throw(0,ge.z)(Fe)}function fe(Fe){return new ae.y(Ae=>{(function ft(Fe,Ae){var Me,nt,Xe,K;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Me=(0,u.KL)(Fe);!(nt=yield Me.next()).done;)if(Ae.next(nt.value),Ae.closed)return}catch(be){Xe={error:be}}finally{try{nt&&!nt.done&&(K=Me.return)&&(yield K.call(Me))}finally{if(Xe)throw Xe.error}}Ae.complete()})})(Fe,Ae).catch(Me=>Ae.error(Me))})}},6451:(Mt,je,R)=>{R.d(je,{T:()=>Ee});var u=R(8189),$=R(8421),k=R(515),ae=R(7669),de=R(8996);function Ee(...ge){const ye=(0,ae.yG)(ge),Ce=(0,ae._6)(ge,1/0),W=ge;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,u.J)(Ce)((0,de.D)(W,ye)):k.E}},5403:(Mt,je,R)=>{R.d(je,{x:()=>$});var u=R(2961);function $(ae,de,Ee,ge,ye){return new k(ae,de,Ee,ge,ye)}class k extends u.Lv{constructor(de,Ee,ge,ye,Ce,W){super(de),this.onFinalize=Ce,this.shouldUnsubscribe=W,this._next=Ee?function(q){try{Ee(q)}catch(X){de.error(X)}}:super._next,this._error=ye?function(q){try{ye(q)}catch(X){de.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(Mt,je,R)=>{R.d(je,{U:()=>k});var u=R(4482),$=R(5403);function k(ae,de){return(0,u.e)((Ee,ge)=>{let ye=0;Ee.subscribe((0,$.x)(ge,Ce=>{ge.next(ae.call(de,Ce,ye++))}))})}},8189:(Mt,je,R)=>{R.d(je,{J:()=>k});var u=R(5577),$=R(4671);function k(ae=1/0){return(0,u.z)($.y,ae)}},5577:(Mt,je,R)=>{R.d(je,{z:()=>ye});var u=R(4004),$=R(8421),k=R(4482),ae=R(9672),de=R(5403),ge=R(576);function ye(Ce,W,q=1/0){return(0,ge.m)(W)?ye((X,qe)=>(0,u.U)((Se,Oe)=>W(X,Se,qe,Oe))((0,$.Xf)(Ce(X,qe))),q):("number"==typeof W&&(q=W),(0,k.e)((X,qe)=>function Ee(Ce,W,q,X,qe,Se,Oe,lt){const De=[];let fe=0,Ct=0,ft=!1;const Fe=()=>{ft&&!De.length&&!fe&&W.complete()},Ae=nt=>fe<X?Me(nt):De.push(nt),Me=nt=>{Se&&W.next(nt),fe++;let Xe=!1;(0,$.Xf)(q(nt,Ct++)).subscribe((0,de.x)(W,K=>{qe?.(K),Se?Ae(K):W.next(K)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(fe--;De.length&&fe<X;){const K=De.shift();Oe?(0,ae.f)(W,Oe,()=>Me(K)):Me(K)}Fe()}catch(K){W.error(K)}}))};return Ce.subscribe((0,de.x)(W,Ae,()=>{ft=!0,Fe()})),()=>{lt?.()}}(X,qe,Ce,q)))}},5363:(Mt,je,R)=>{R.d(je,{Q:()=>ae});var u=R(9672),$=R(4482),k=R(5403);function ae(de,Ee=0){return(0,$.e)((ge,ye)=>{ge.subscribe((0,k.x)(ye,Ce=>(0,u.f)(ye,de,()=>ye.next(Ce),Ee),()=>(0,u.f)(ye,de,()=>ye.complete(),Ee),Ce=>(0,u.f)(ye,de,()=>ye.error(Ce),Ee)))})}},3099:(Mt,je,R)=>{R.d(je,{B:()=>de});var u=R(8421),$=R(7579),k=R(2961),ae=R(4482);function de(ge={}){const{connector:ye=(()=>new $.x),resetOnError:Ce=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=ge;return X=>{let qe,Se,Oe,lt=0,De=!1,fe=!1;const Ct=()=>{Se?.unsubscribe(),Se=void 0},ft=()=>{Ct(),qe=Oe=void 0,De=fe=!1},Fe=()=>{const Ae=qe;ft(),Ae?.unsubscribe()};return(0,ae.e)((Ae,Me)=>{lt++,!fe&&!De&&Ct();const nt=Oe=Oe??ye();Me.add(()=>{lt--,0===lt&&!fe&&!De&&(Se=Ee(Fe,q))}),nt.subscribe(Me),!qe&&lt>0&&(qe=new k.Hp({next:Xe=>nt.next(Xe),error:Xe=>{fe=!0,Ct(),Se=Ee(ft,Ce,Xe),nt.error(Xe)},complete:()=>{De=!0,Ct(),Se=Ee(ft,W),nt.complete()}}),(0,u.Xf)(Ae).subscribe(qe))})(X)}}function Ee(ge,ye,...Ce){if(!0===ye)return void ge();if(!1===ye)return;const W=new k.Hp({next:()=>{W.unsubscribe(),ge()}});return ye(...Ce).subscribe(W)}},9468:(Mt,je,R)=>{R.d(je,{R:()=>$});var u=R(4482);function $(k,ae=0){return(0,u.e)((de,Ee)=>{Ee.add(k.schedule(()=>de.subscribe(Ee),ae))})}},8505:(Mt,je,R)=>{R.d(je,{b:()=>de});var u=R(576),$=R(4482),k=R(5403),ae=R(4671);function de(Ee,ge,ye){const Ce=(0,u.m)(Ee)||ge||ye?{next:Ee,error:ge,complete:ye}:Ee;return Ce?(0,$.e)((W,q)=>{var X;null===(X=Ce.subscribe)||void 0===X||X.call(Ce);let qe=!0;W.subscribe((0,k.x)(q,Se=>{var Oe;null===(Oe=Ce.next)||void 0===Oe||Oe.call(Ce,Se),q.next(Se)},()=>{var Se;qe=!1,null===(Se=Ce.complete)||void 0===Se||Se.call(Ce),q.complete()},Se=>{var Oe;qe=!1,null===(Oe=Ce.error)||void 0===Oe||Oe.call(Ce,Se),q.error(Se)},()=>{var Se,Oe;qe&&(null===(Se=Ce.unsubscribe)||void 0===Se||Se.call(Ce)),null===(Oe=Ce.finalize)||void 0===Oe||Oe.call(Ce)}))}):ae.y}},4408:(Mt,je,R)=>{R.d(je,{o:()=>de});var u=R(727);class $ extends u.w0{constructor(ge,ye){super()}schedule(ge,ye=0){return this}}const k={setInterval(Ee,ge,...ye){const{delegate:Ce}=k;return Ce?.setInterval?Ce.setInterval(Ee,ge,...ye):setInterval(Ee,ge,...ye)},clearInterval(Ee){const{delegate:ge}=k;return(ge?.clearInterval||clearInterval)(Ee)},delegate:void 0};var ae=R(8737);class de extends ${constructor(ge,ye){super(ge,ye),this.scheduler=ge,this.work=ye,this.pending=!1}schedule(ge,ye=0){var Ce;if(this.closed)return this;this.state=ge;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(q,this.id,ye),this}requestAsyncId(ge,ye,Ce=0){return k.setInterval(ge.flush.bind(ge,this),Ce)}recycleAsyncId(ge,ye,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return ye;null!=ye&&k.clearInterval(ye)}execute(ge,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(ge,ye);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ye){let W,Ce=!1;try{this.work(ge)}catch(q){Ce=!0,W=q||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ye}=this,{actions:Ce}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Ce,this),null!=ge&&(this.id=this.recycleAsyncId(ye,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,je,R)=>{R.d(je,{v:()=>k});var u=R(6063);class ${constructor(de,Ee=$.now){this.schedulerActionCtor=de,this.now=Ee}schedule(de,Ee=0,ge){return new this.schedulerActionCtor(this,de).schedule(ge,Ee)}}$.now=u.l.now;class k extends ${constructor(de,Ee=$.now){super(de,Ee),this.actions=[],this._active=!1}flush(de){const{actions:Ee}=this;if(this._active)return void Ee.push(de);let ge;this._active=!0;do{if(ge=de.execute(de.state,de.delay))break}while(de=Ee.shift());if(this._active=!1,ge){for(;de=Ee.shift();)de.unsubscribe();throw ge}}}},4986:(Mt,je,R)=>{R.d(je,{z:()=>k});var u=R(4408);const k=new(R(7565).v)(u.o)},6063:(Mt,je,R)=>{R.d(je,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Mt,je,R)=>{R.d(je,{z:()=>u});const u={setTimeout($,k,...ae){const{delegate:de}=u;return de?.setTimeout?de.setTimeout($,k,...ae):setTimeout($,k,...ae)},clearTimeout($){const{delegate:k}=u;return(k?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(Mt,je,R)=>{R.d(je,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,je,R)=>{R.d(je,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Mt,je,R)=>{R.d(je,{_6:()=>Ee,jO:()=>ae,yG:()=>de});var u=R(576);function k(ge){return ge[ge.length-1]}function ae(ge){return(0,u.m)(k(ge))?ge.pop():void 0}function de(ge){return function $(ge){return ge&&(0,u.m)(ge.schedule)}(k(ge))?ge.pop():void 0}function Ee(ge,ye){return"number"==typeof k(ge)?ge.pop():ye}},8737:(Mt,je,R)=>{function u($,k){if($){const ae=$.indexOf(k);0<=ae&&$.splice(ae,1)}}R.d(je,{P:()=>u})},3888:(Mt,je,R)=>{function u($){const ae=$(de=>{Error.call(de),de.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(je,{d:()=>u})},2806:(Mt,je,R)=>{R.d(je,{O:()=>ae,x:()=>k});var u=R(2416);let $=null;function k(de){if(u.v.useDeprecatedSynchronousErrorHandling){const Ee=!$;if(Ee&&($={errorThrown:!1,error:null}),de(),Ee){const{errorThrown:ge,error:ye}=$;if($=null,ge)throw ye}}else de()}function ae(de){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(Mt,je,R)=>{function u($,k,ae,de=0,Ee=!1){const ge=k.schedule(function(){ae(),Ee?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(ge),!Ee)return ge}R.d(je,{f:()=>u})},4671:(Mt,je,R)=>{function u($){return $}R.d(je,{y:()=>u})},1144:(Mt,je,R)=>{R.d(je,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(Mt,je,R)=>{R.d(je,{D:()=>$});var u=R(576);function $(k){return Symbol.asyncIterator&&(0,u.m)(k?.[Symbol.asyncIterator])}},576:(Mt,je,R)=>{function u($){return"function"==typeof $}R.d(je,{m:()=>u})},3670:(Mt,je,R)=>{R.d(je,{c:()=>k});var u=R(8822),$=R(576);function k(ae){return(0,$.m)(ae[u.L])}},6495:(Mt,je,R)=>{R.d(je,{T:()=>k});var u=R(2202),$=R(576);function k(ae){return(0,$.m)(ae?.[u.h])}},8239:(Mt,je,R)=>{R.d(je,{t:()=>$});var u=R(576);function $(k){return(0,u.m)(k?.then)}},3260:(Mt,je,R)=>{R.d(je,{L:()=>ae,Q:()=>k});var u=R(7582),$=R(576);function k(de){return(0,u.FC)(this,arguments,function*(){const ge=de.getReader();try{for(;;){const{value:ye,done:Ce}=yield(0,u.qq)(ge.read());if(Ce)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ye)}}finally{ge.releaseLock()}})}function ae(de){return(0,$.m)(de?.getReader)}},4482:(Mt,je,R)=>{R.d(je,{A:()=>$,e:()=>k});var u=R(576);function $(ae){return(0,u.m)(ae?.lift)}function k(ae){return de=>{if($(de))return de.lift(function(Ee){try{return ae(Ee,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Mt,je,R)=>{R.d(je,{U:()=>k,z:()=>$});var u=R(4671);function $(...ae){return k(ae)}function k(ae){return 0===ae.length?u.y:1===ae.length?ae[0]:function(Ee){return ae.reduce((ge,ye)=>ye(ge),Ee)}}},7849:(Mt,je,R)=>{R.d(je,{h:()=>k});var u=R(2416),$=R(3410);function k(ae){$.z.setTimeout(()=>{const{onUnhandledError:de}=u.v;if(!de)throw ae;de(ae)})}},4532:(Mt,je,R)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(je,{z:()=>u})},4650:(Mt,je,R)=>{R.d(je,{$8M:()=>Gg,$Z:()=>to,AFp:()=>L_,ALo:()=>Zw,AaK:()=>ye,B6R:()=>Ie,BQk:()=>Ls,CHM:()=>ml,CRH:()=>$I,CZH:()=>ch,CqO:()=>Vd,D6c:()=>ry,DdM:()=>C_,EJc:()=>Fx,EpF:()=>Ob,F4k:()=>e_,FYo:()=>Av,FiY:()=>Qo,G48:()=>Ci,Gf:()=>x_,GfV:()=>xv,Gpc:()=>q,JOm:()=>Ns,KtG:()=>Hu,LFG:()=>Br,LSH:()=>qc,Lbi:()=>dT,Lck:()=>yI,MMx:()=>$w,NdJ:()=>t_,OlP:()=>Kn,Oqu:()=>Rr,PXZ:()=>ec,Q6J:()=>hw,QGY:()=>Xm,QP$:()=>Re,QbO:()=>Cu,Qsj:()=>AC,R0b:()=>lo,RDi:()=>aC,Rgc:()=>ma,SBq:()=>Lf,Sil:()=>fT,Suo:()=>M_,TTD:()=>Da,TgZ:()=>gp,X6Q:()=>E0,XFs:()=>ot,Xpm:()=>Z,Xts:()=>Ed,Y36:()=>Sd,YKP:()=>Bw,YNc:()=>Mb,Yjl:()=>N,Yz7:()=>Be,Z0I:()=>Rt,ZZ4:()=>tg,_Bn:()=>y_,_UZ:()=>Qm,_Vd:()=>Ff,_c5:()=>Qx,_uU:()=>Ke,aQg:()=>gh,c2e:()=>kx,cJS:()=>Tt,cg1:()=>da,dDg:()=>mT,dqk:()=>on,eFA:()=>_0,ekj:()=>Bd,eoX:()=>Kp,evT:()=>kC,f3M:()=>Qt,g9A:()=>h0,h0i:()=>pu,hGG:()=>RT,hij:()=>os,iGM:()=>A_,ifc:()=>ct,ip1:()=>c0,jDz:()=>CI,kL8:()=>ue,lG2:()=>z,lcZ:()=>PI,lqb:()=>Qc,lri:()=>g0,n5z:()=>zg,oAB:()=>bt,oxw:()=>mw,q4F:()=>PC,qLn:()=>Vf,qOj:()=>Wm,qZA:()=>mp,rWj:()=>$i,s9C:()=>wp,sBO:()=>Wx,sIi:()=>Rd,s_b:()=>il,soG:()=>U_,tb:()=>Wp,tp0:()=>Jo,uIk:()=>uw,vHH:()=>Oe,vpe:()=>ga,wAp:()=>Xt,xp6:()=>Vv,ynx:()=>_p,z2F:()=>Qp,zSh:()=>Of,zs3:()=>Rl});var u=R(7579),$=R(727),k=R(9751),ae=R(6451),de=R(3099);function Ee(s){for(let a in s)if(s[a]===Ee)return a;throw Error("Could not find renamed property on target object.")}function ge(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Ce(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=Ee({__forward_ref__:Ee});function q(s){return s.__forward_ref__=q,s.toString=function(){return ye(this())},s}function X(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}class Oe extends Error{constructor(a,l){super(function lt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function De(s){return"string"==typeof s?s:null==s?"":String(s)}function Ae(s,a){throw new Oe(-201,!1)}function se(s,a){null==s&&function oe(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Be(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Tt(s){return{providers:s.providers||[],imports:s.imports||[]}}function qt(s){return un(s,bn)||un(s,Bn)}function Rt(s){return null!==qt(s)}function un(s,a){return s.hasOwnProperty(a)?s[a]:null}function er(s){return s&&(s.hasOwnProperty(Zn)||s.hasOwnProperty(xr))?s[Zn]:null}const bn=Ee({\u0275prov:Ee}),Zn=Ee({\u0275inj:Ee}),Bn=Ee({ngInjectableDef:Ee}),xr=Ee({ngInjectorDef:Ee});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let jn;function tr(s){const a=jn;return jn=s,a}function Mr(s,a,l){const d=qt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ot.Optional?null:void 0!==a?a:void Ae(ye(s))}function dn(s){return{toString:s}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),ct=(()=>{return(s=ct||(ct={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ct;var s})();const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},$t=[],br=Ee({\u0275cmp:Ee}),Ft=Ee({\u0275dir:Ee}),Pr=Ee({\u0275pipe:Ee}),rn=Ee({\u0275mod:Ee}),Wn=Ee({\u0275fac:Ee}),Sn=Ee({__NG_ELEMENT_ID__:Ee});let _e=0;function Z(s){return dn(()=>{const l=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ct.Emulated,id:"c"+_e++,styles:s.styles||$t,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return f.inputs=G(s.inputs,d),f.outputs=G(s.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(We).filter(dt):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(ne).filter(dt):null,f})}function Ie(s,a,l){const d=s.\u0275cmp;d.directiveDefs=()=>("function"==typeof a?a():a).map(We),d.pipeDefs=()=>("function"==typeof l?l():l).map(ne)}function We(s){return O(s)||x(s)}function dt(s){return null!==s}function bt(s){return dn(()=>({type:s.type,bootstrap:s.bootstrap||$t,declarations:s.declarations||$t,imports:s.imports||$t,exports:s.exports||$t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,a){if(null==s)return Gn;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,a&&(a[f]=g)}return l}const z=Z;function N(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[br]||null}function x(s){return s[Ft]||null}function ne(s){return s[Pr]||null}function Re(s){const a=O(s)||x(s)||ne(s);return null!==a&&a.standalone}function at(s,a){const l=s[rn]||null;if(!l&&!0===a)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return l}const B=10;function Le(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qe(s){return Array.isArray(s)&&!0===s[1]}function Pt(s){return 0!=(8&s.flags)}function L(s){return 2==(2&s.flags)}function Q(s){return 1==(1&s.flags)}function he(s){return null!==s.template}function tt(s){return 0!=(256&s[2])}function _s(s,a){return s.hasOwnProperty(Wn)?s[Wn]:null}class Gi{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Da(){return jo}function jo(s){return s.type.prototype.ngOnChanges&&(s.setInput=uo),Sa}function Sa(){const s=$u(this),a=s?.current;if(a){const l=s.previous;if(l===Gn)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function uo(s,a,l,d){const f=$u(s)||function ai(s,a){return s[ju]=a}(s,{previous:Gn,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],I=v[C];g[C]=new Gi(I&&I.currentValue,a,v===Gn),s[d]=a}Da.ngInherit=!0;const ju="__ngSimpleChanges__";function $u(s){return s[ju]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function $o(s,a){return xn(a[s])}function Mi(s,a){return xn(a[s.index])}function gl(s,a){return s.data[a]}function U(s,a){const l=a[s];return Le(l)?l:l[0]}function me(s){return 64==(64&s[2])}function Ge(s,a){return null==a?null:s[a]}function it(s){s[18]=0}function Yt(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Je={lFrame:Gh(null),bindingsEnabled:!0};function ho(){return Je.bindingsEnabled}function Ue(){return Je.lFrame.lView}function an(){return Je.lFrame.tView}function ml(s){return Je.lFrame.contextLView=s,s[8]}function Hu(s){return Je.lFrame.contextLView=null,s}function Zr(){let s=zu();for(;null!==s&&64===s.type;)s=s.parent;return s}function zu(){return Je.lFrame.currentTNode}function ys(s,a){const l=Je.lFrame;l.currentTNode=s,l.isParent=a}function Gu(){return Je.lFrame.isParent}function Wu(){Je.lFrame.isParent=!1}function Wi(){const s=Je.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Pa(){return Je.lFrame.bindingIndex++}function Og(s,a){const l=Je.lFrame;l.bindingIndex=l.bindingRootIndex=s,wc(a)}function wc(s){Je.lFrame.currentDirectiveIndex=s}function _l(){return Je.lFrame.currentQueryIndex}function Go(s){Je.lFrame.currentQueryIndex=s}function Rg(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Uy(s,a,l){if(l&ot.SkipSelf){let f=a,g=s;for(;!(f=f.parent,null!==f||l&ot.Host||(f=Rg(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,s=g}const d=Je.lFrame=zh();return d.currentTNode=a,d.lView=s,!0}function yl(s){const a=zh(),l=s[1];Je.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function zh(){const s=Je.lFrame,a=null===s?null:s.child;return null===a?Gh(s):a}function Gh(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function By(){const s=Je.lFrame;return Je.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kg=By;function vl(){const s=By();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mi(){return Je.lFrame.selectedIndex}function Oa(s){Je.lFrame.selectedIndex=s}function pr(){const s=Je.lFrame;return gl(s.tView,s.selectedIndex)}function qh(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),D&&((s.viewHooks||(s.viewHooks=[])).push(l,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,D)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function wl(s,a,l){jy(s,a,3,l)}function qu(s,a,l,d){(3&s[2])===l&&jy(s,a,l,d)}function Ku(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function jy(s,a,l,d){const g=d??-1,v=a.length-1;let C=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=d&&C>=d)break}else a[I]<0&&(s[18]+=65536),(C<g||-1==g)&&($E(s,l,a,I),s[18]=(4294901760&s[18])+I+2),I++}function $E(s,a,l,d){const f=l[d]<0,g=l[d+1],C=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class El{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Kh(s,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const g=l[d++],v=l[d++],C=l[d++];s.setAttribute(a,v,C,g)}else{const g=f,v=l[++d];Bg(g)?s.setProperty(a,g,v):s.setAttribute(a,g,v),d++}}return d}function Yu(s){return 3===s||4===s||6===s}function Bg(s){return 64===s.charCodeAt(0)}function bc(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||Hy(s,l,f,null,-1===l||2===l?a[++d]:null)}}return s}function Hy(s,a,l,d,f){let g=0,v=s.length;if(-1===a)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,a),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}function zy(s){return-1!==s}function Ic(s){return 32767&s}function qo(s,a){let l=function GE(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let Ko=!0;function Ss(s){const a=Ko;return Ko=s,a}let Qh=0;const As={};function bl(s,a){const l=Dc(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,Tc(d.data,s),Tc(a,null),Tc(d.blueprint,null));const f=Qu(s,a),g=s.injectorIndex;if(zy(f)){const v=Ic(f),C=qo(f,a),I=C[1].data;for(let D=0;D<8;D++)a[g+D]=C[v+D]|I[v+D]}return a[g+8]=f,g}function Tc(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Dc(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Qu(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=tf(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Na(s,a,l){!function jg(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Sn)&&(d=l[Sn]),null==d&&(d=l[Sn]=Qh++);const f=255&d;a.data[s+(f>>5)]|=1<<f}(s,a,l)}function Jh(s,a,l){if(l&ot.Optional||void 0!==s)return s;Ae()}function Gy(s,a,l,d){if(l&ot.Optional&&void 0===d&&(d=null),0==(l&(ot.Self|ot.Host))){const f=s[9],g=tr(void 0);try{return f?f.get(a,d,l&ot.Optional):Mr(a,d,l&ot.Optional)}finally{tr(g)}}return Jh(d,0,l)}function Ac(s,a,l,d=ot.Default,f){if(null!==s){if(1024&a[2]){const v=function ef(s,a,l,d,f){let g=s,v=a;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Xh(g,v,l,d|ot.Self,As);if(C!==As)return C;let I=g.parent;if(!I){const D=v[21];if(D){const M=D.get(l,As,d);if(M!==As)return M}I=tf(v),v=v[15]}g=I}return f}(s,a,l,d,As);if(v!==As)return v}const g=Xh(s,a,l,d,As);if(g!==As)return g}return Gy(a,l,d,f)}function Xh(s,a,l,d,f){const g=function Wy(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Sn)?s[Sn]:void 0;return"number"==typeof a?a>=0?255&a:Ur:a}(l);if("function"==typeof g){if(!Uy(a,s,d))return d&ot.Host?Jh(f,0,d):Gy(a,l,d,f);try{const v=g(d);if(null!=v||d&ot.Optional)return v;Ae()}finally{kg()}}else if("number"==typeof g){let v=null,C=Dc(s,a),I=-1,D=d&ot.Host?a[16][6]:null;for((-1===C||d&ot.SkipSelf)&&(I=-1===C?Qu(s,a):a[C+8],-1!==I&&Il(d,!1)?(v=a[1],C=Ic(I),a=qo(I,a)):C=-1);-1!==C;){const M=a[1];if(Hg(g,C,M.data)){const V=$g(C,a,l,v,d,D);if(V!==As)return V}I=a[C+8],-1!==I&&Il(d,a[1].data[C+8]===D)&&Hg(g,C,a)?(v=M,C=Ic(I),a=qo(I,a)):C=-1}}return f}function $g(s,a,l,d,f,g){const v=a[1],C=v.data[s+8],M=Ju(C,v,l,null==d?L(C)&&Ko:d!=v&&0!=(3&C.type),f&ot.Host&&g===C);return null!==M?Zo(a,v,M,C):As}function Ju(s,a,l,d,f){const g=s.providerIndexes,v=a.data,C=1048575&g,I=s.directiveStart,M=g>>20,J=f?C+M:s.directiveEnd;for(let ce=d?C:C+M;ce<J;ce++){const Ve=v[ce];if(ce<I&&l===Ve||ce>=I&&Ve.type===l)return ce}if(f){const ce=v[I];if(ce&&he(ce)&&ce.type===l)return I}return null}function Zo(s,a,l,d){let f=s[l];const g=a.data;if(function HE(s){return s instanceof El}(f)){const v=f;v.resolving&&function Ct(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${l}`)}(function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():De(s)}(g[l]));const C=Ss(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?tr(v.injectImpl):null;Uy(s,d,ot.Default);try{f=s[l]=v.factory(void 0,g,s,d),a.firstCreatePass&&l>=d.directiveStart&&function Wh(s,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=jo(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],a)}finally{null!==I&&tr(I),Ss(C),v.resolving=!1,kg()}}return f}function Hg(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function Il(s,a){return!(s&ot.Self||s&ot.Host&&a)}class Ra{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return Ac(this._tNode,this._lView,a,d,l)}}function Ur(){return new Ra(Zr(),Ue())}function zg(s){return dn(()=>{const a=s.prototype.constructor,l=a[Wn]||xc(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[Wn]||xc(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function xc(s){return qe(s)?()=>{const a=xc(X(s));return a&&a()}:_s(s)}function tf(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function Gg(s){return function Sc(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(Yu(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(Zr(),s)}const Tl="__parameters__";function xs(s,a,l){return dn(()=>{const d=function Xu(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,D,M){const V=I.hasOwnProperty(Tl)?I[Tl]:Object.defineProperty(I,Tl,{value:[]})[Tl];for(;V.length<=M;)V.push(null);return(V[M]=V[M]||[]).push(v),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Kn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Be({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oi(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(a===s&&(a=s.slice(0,l)),Oi(d,a)):a!==s&&a.push(d)}return a}function Ys(s,a){s.forEach(l=>Array.isArray(l)?Ys(l,a):a(l))}function Zy(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Pc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ns(s,a,l){let d=Fa(s,a);return d>=0?s[1|d]=l:(d=~d,function YE(s,a,l,d){let f=s.length;if(f==a)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function Yg(s,a){const l=Fa(s,a);if(l>=0)return s[1|l]}function Fa(s,a){return function sf(s,a,l){let d=0,f=s.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<l];if(a===v)return g<<l;v>a?f=g:d=g+1}return~(f<<l)}(s,a,1)}const Nr={},Ni="__NG_DI_FLAG__",sd="ngTempTokenPath",Qs=/\n/gm,lf="__source";let Oc;function Sl(s){const a=Oc;return Oc=s,a}function ad(s,a=ot.Default){if(void 0===Oc)throw new Oe(-203,!1);return null===Oc?Mr(s,void 0,a):Oc.get(s,a&ot.Optional?null:void 0,a)}function Br(s,a=ot.Default){return(function Fn(){return jn}()||ad)(X(s),a)}function Qt(s,a=ot.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Br(s,a)}function Nc(s){const a=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Oe(900,!1);let f,g=ot.Default;for(let v=0;v<d.length;v++){const C=d[v],I=em(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}a.push(Br(f,g))}else a.push(Br(d))}return a}function La(s,a){return s[Ni]=a,s.prototype[Ni]=a,s}function em(s){return s[Ni]}const Qo=La(xs("Optional"),8),Jo=La(xs("SkipSelf"),4);var Ns=(()=>((Ns=Ns||{})[Ns.Important=1]="Important",Ns[Ns.DashCase=2]="DashCase",Ns))();const yf=new Map;let Xy=0;const Rs="__ngContext__";function Gt(s,a){Le(a)?(s[Rs]=a[20],function vf(s){yf.set(s[20],s)}(a)):s[Rs]=a}function Bc(s,a){return undefined(s,a)}function jc(s){const a=s[3];return Qe(a)?a[3]:a}function $c(s){return p(s[13])}function w(s){return p(s[4])}function p(s){for(;null!==s&&!Qe(s);)s=s[4];return s}function E(s,a,l,d,f){if(null!=d){let g,v=!1;Qe(d)?g=d:Le(d)&&(v=!0,d=d[0]);const C=xn(d);0===s&&null!==l?null==f?yd(a,l,C):_o(a,l,C,f||null,!0):1===s&&null!==l?_o(a,l,C,f||null,!0):2===s?function cv(s,a,l){const d=hm(s,a);d&&function zc(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,C,v):3===s&&a.destroyNode(C),null!=g&&function PS(s,a,l,d,f){const g=l[7];g!==xn(l)&&E(a,s,d,g,f);for(let C=B;C<l.length;C++){const I=l[C];If(I[1],I,s,a,d,g)}}(a,s,g,l,f)}}function ve(s,a,l){return s.createElement(a,l)}function go(s,a){const l=s[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Yt(f,-1)),l.splice(d,1)}function ia(s,a){if(s.length<=B)return;const l=B+a,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&go(f,d),a>0&&(s[l-1][4]=d[4]);const g=Pc(s,B+a);!function et(s,a){If(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function mo(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&If(s,a,l,3,null,null),function An(s){let a=s[13];if(!a)return Hc(s[1],s);for(;a;){let l=null;if(Le(a))l=a[13];else{const d=a[B];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)Le(a)&&Hc(a[1],a),a=a[3];null===a&&(a=s),Le(a)&&Hc(a[1],a),l=a&&a[4]}a=l}}(a)}}function Hc(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function _d(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof El)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(f)}finally{}}}}(s,a),function Cf(s,a){const l=s.cleanup,d=a[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(a):xn(a[v]),I=d[f=l[g+2]],D=l[g+3];"boolean"==typeof D?C.removeEventListener(l[g],I,D):D>=0?d[f=D]():d[f=-D].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Qe(a[3])){l!==a[3]&&go(l,a);const d=a[19];null!==d&&d.detachView(s)}!function am(s){yf.delete(s[20])}(a)}}function sa(s,a,l){return function bf(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===ct.None||f===ct.Emulated)return null}return Mi(d,l)}(s,a.parent,l)}function _o(s,a,l,d,f){s.insertBefore(a,l,d,f)}function yd(s,a,l){s.appendChild(a,l)}function dm(s,a,l,d,f){null!==d?_o(s,a,l,d,f):yd(s,a,l)}function hm(s,a){return s.parentNode(a)}let Ol,ov=function sv(s,a,l){return 40&s.type?Mi(s,l):null};function oa(s,a,l,d){const f=sa(s,d,a),g=a[11],C=function nC(s,a,l){return ov(s,a,l)}(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)dm(g,f,l[I],C,!1);else dm(g,f,l,C,!1)}function Gc(s,a){if(null!==a){const l=a.type;if(3&l)return Mi(a,s);if(4&l)return lv(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return Gc(s,d);{const f=s[a.index];return Qe(f)?lv(-1,f):xn(f)}}if(32&l)return Bc(a,s)()||xn(s[a.index]);{const d=av(s,a);return null!==d?Array.isArray(d)?d[0]:Gc(jc(s[16]),d):Gc(s,a.next)}}return null}function av(s,a){return null!==a?s[16][6].projection[a.projection]:null}function lv(s,a){const l=B+s+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return Gc(d,f)}return a[7]}function uv(s,a,l,d,f,g,v){for(;null!=l;){const C=d[l.index],I=l.type;if(v&&0===a&&(C&&Gt(xn(C),d),l.flags|=4),64!=(64&l.flags))if(8&I)uv(s,a,l.child,d,f,g,!1),E(a,s,f,C,g);else if(32&I){const D=Bc(l,d);let M;for(;M=D();)E(a,s,f,M,g);E(a,s,f,C,g)}else 16&I?rC(s,a,d,l,f,g):E(a,s,f,C,g);l=v?l.projectionNext:l.next}}function If(s,a,l,d,f,g){uv(l,d,s.firstChild,a,f,g,!1)}function rC(s,a,l,d,f,g){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)E(a,s,f,I[D],g);else uv(s,a,I,v[3],f,g,!0)}function iC(s,a,l){s.setAttribute(a,"style",l)}function dv(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function aC(s){Ol=s}class gv{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function eo(s){return s instanceof gv?s.changingThisBreaksApplicationSecurity:s}const US=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ri=(()=>((ri=ri||{})[ri.NONE=0]="NONE",ri[ri.HTML=1]="HTML",ri[ri.STYLE=2]="STYLE",ri[ri.SCRIPT=3]="SCRIPT",ri[ri.URL=4]="URL",ri[ri.RESOURCE_URL=5]="RESOURCE_URL",ri))();function qc(s){const a=function Kc(){const s=Ue();return s&&s[12]}();return a?a.sanitize(ri.URL,s)||"":function Df(s,a){const l=function RS(s){return s instanceof gv&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}(s,"URL")?eo(s):function vv(s){return(s=String(s)).match(US)?s:"unsafe:"+s}(De(s))}const Ed=new Kn("ENVIRONMENT_INITIALIZER"),Zc=new Kn("INJECTOR",-1),_C=new Kn("INJECTOR_DEF_TYPES");class yC{get(a,l=Nr){if(l===Nr){const d=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw d.name="NullInjectorError",d}return l}}function JS(...s){return{\u0275providers:vC(0,s)}}function vC(s,...a){const l=[],d=new Set;let f;return Ys(a,g=>{const v=g;bv(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&wC(f,l),l}function wC(s,a){for(let l=0;l<s.length;l++){const{providers:f}=s[l];Ys(f,g=>{a.push(g)})}}function bv(s,a,l,d){if(!(s=X(s)))return!1;let f=null,g=er(s);const v=!g&&O(s);if(g||v){if(v&&!v.standalone)return!1;f=s}else{const I=s.ngModule;if(g=er(I),!g)return!1;f=I}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const D of I)bv(D,a,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let D;d.add(f);try{Ys(g.imports,M=>{bv(M,a,l,d)&&(D||(D=[]),D.push(M))})}finally{}void 0!==D&&wC(D,a)}if(!C){const D=_s(f)||(()=>new f);a.push({provide:f,useFactory:D,deps:$t},{provide:_C,useValue:f,multi:!0},{provide:Ed,useValue:()=>Br(f),multi:!0})}const I=g.providers;null==I||C||Ys(I,M=>{a.push(M)})}}return f!==s&&void 0!==s.providers}const XS=Ee({provide:String,useValue:Ee});function Iv(s){return null!==s&&"object"==typeof s&&XS in s}function Ga(s){return"function"==typeof s}const Of=new Kn("Set Injector scope."),Yc={},eA={};let Dv;function vm(){return void 0===Dv&&(Dv=new yC),Dv}class Qc{}class Nf extends Qc{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sv(a,v=>this.processProvider(v)),this.records.set(Zc,Jc(void 0,this)),f.has("environment")&&this.records.set(Qc,Jc(void 0,this));const g=this.records.get(Of);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(_C.multi,$t,ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Sl(this),d=tr(void 0);try{return a()}finally{Sl(l),tr(d)}}get(a,l=Nr,d=ot.Default){this.assertNotDestroyed();const f=Sl(this),g=tr(void 0);try{if(!(d&ot.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function tA(s){return"function"==typeof s||"object"==typeof s&&s instanceof Kn}(a)&&qt(a);C=I&&this.injectableDefInScope(I)?Jc(wm(a),Yc):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&ot.Self?vm():this.parent).get(a,l=d&ot.Optional&&l===Nr?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[sd]=v[sd]||[]).unshift(ye(a)),f)throw v;return function Al(s,a,l,d){const f=s[sd];throw a[lf]&&f.unshift(a[lf]),s.message=function _i(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ye(a);if(Array.isArray(a))f=a.map(ye).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ye(C)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(Qs,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[sd]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{tr(g),Sl(f)}}resolveInjectorInitializers(){const a=Sl(this),l=tr(void 0);try{const d=this.get(Ed.multi,$t,ot.Self);for(const f of d)f()}finally{Sl(a),tr(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(ye(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(a){let l=Ga(a=X(a))?a:X(a&&a.provide);const d=function Em(s){return Iv(s)?Jc(void 0,s.useValue):Jc(Rf(s),Yc)}(a);if(Ga(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Jc(void 0,Yc,!0),f.factory=()=>Nc(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Yc&&(l.value=eA,l.value=l.factory()),"object"==typeof l.value&&l.value&&function IC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wm(s){const a=qt(s),l=null!==a?a.factory:_s(s);if(null!==l)return l;if(s instanceof Kn)throw new Oe(204,!1);if(s instanceof Function)return function bC(s){const a=s.length;if(a>0)throw function rd(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}(a,"?"),new Oe(204,!1);const l=function nn(s){const a=s&&(s[bn]||s[Bn]);if(a){const l=function wn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oe(204,!1)}function Rf(s,a,l){let d;if(Ga(s)){const f=X(s);return _s(f)||wm(f)}if(Iv(s))d=()=>X(s.useValue);else if(function EC(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Nc(s.deps||[]));else if(function Tv(s){return!(!s||!s.useExisting)}(s))d=()=>Br(X(s.useExisting));else{const f=X(s&&(s.useClass||s.provide));if(!function kf(s){return!!s.deps}(s))return _s(f)||wm(f);d=()=>new f(...Nc(s.deps))}return d}function Jc(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function nA(s){return!!s.\u0275providers}function Sv(s,a){for(const l of s)Array.isArray(l)?Sv(l,a):nA(l)?Sv(l.\u0275providers,a):a(l)}class TC{}class iA{resolveComponentFactory(a){throw function Cm(s){const a=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Ff=(()=>{class s{}return s.NULL=new iA,s})();function sA(){return Cd(Zr(),Ue())}function Cd(s,a){return new Lf(Mi(s,a))}let Lf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=sA,s})();function SC(s){return s instanceof Lf?s.nativeElement:s}class Av{}let AC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function xC(){const s=Ue(),l=U(Zr().index,s);return(Le(l)?l:s)[11]}(),s})(),MC=(()=>{class s{}return s.\u0275prov=Be({token:s,providedIn:"root",factory:()=>null}),s})();class xv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const PC=new xv("14.3.0"),Mv={};function Ov(s){return s.ngOriginalError}class Vf{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Ov(a);for(;l&&Ov(l);)l=Ov(l);return l||null}}function kC(s){return s.ownerDocument}function Wa(s){return s instanceof Function?s():s}function Uf(s,a,l){let d=s.length;for(;;){const f=s.indexOf(a,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}l=f+1}}const BC="ng-template";function lA(s,a,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==Uf(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function jC(s){return 4===s.type&&s.value!==BC}function cA(s,a,l){return a===(4!==s.type||l?s.value:BC)}function $C(s,a,l){let d=4;const f=s.attrs||[],g=function Fv(s){for(let a=0;a<s.length;a++)if(Yu(s[a]))return a;return s.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!cA(s,I,l)||""===I&&1===a.length){if(dr(d))return!1;v=!0}}else{const D=8&d?I:a[++C];if(8&d&&null!==s.attrs){if(!lA(s.attrs,D,l)){if(dr(d))return!1;v=!0}continue}const V=uA(8&d?"class":I,f,jC(s),l);if(-1===V){if(dr(d))return!1;v=!0;continue}if(""!==D){let J;J=V>g?"":f[V+1].toLowerCase();const ce=8&d?J:null;if(ce&&-1!==Uf(ce,D,0)||2&d&&D!==J){if(dr(d))return!1;v=!0}}}}else{if(!v&&!dr(d)&&!dr(I))return!1;if(v&&dr(I))continue;v=!1,d=I|1&d}}return dr(d)||v}function dr(s){return 0==(1&s)}function uA(s,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let g=!1;for(;f<a.length;){const v=a[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function dA(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function Rv(s,a,l=!1){for(let d=0;d<a.length;d++)if($C(s,a[d],l))return!0;return!1}function Lv(s,a){return s?":not("+a.trim()+")":a}function h1(s){let a=s[0],l=1,d=2,f="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!dr(v)&&(a+=Lv(g,f),f=""),d=v,g=g||!dr(d);l++}return""!==f&&(a+=Lv(g,f)),a}const pn={};function Vv(s){Bf(an(),Ue(),mi()+s,!1)}function Bf(s,a,l,d){if(!d)if(3==(3&a[2])){const g=s.preOrderCheckHooks;null!==g&&wl(a,g,l)}else{const g=s.preOrderHooks;null!==g&&qu(a,g,0,l)}Oa(l)}function GC(s,a=null,l=null,d){const f=WC(s,a,l,d);return f.resolveInjectorInitializers(),f}function WC(s,a=null,l=null,d,f=new Set){const g=[l||$t,JS(s)];return d=d||("object"==typeof s?void 0:ye(s)),new Nf(g,a||vm(),d||null,f)}let Rl=(()=>{class s{static create(l,d){if(Array.isArray(l))return GC({name:""},d,l,"");{const f=l.name??"";return GC({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Nr,s.NULL=new yC,s.\u0275prov=Be({token:s,providedIn:"any",factory:()=>Br(Zc)}),s.__NG_ELEMENT_ID__=-1,s})();function Sd(s,a=ot.Default){const l=Ue();return null===l?Br(s,a):Ac(Zr(),l,X(s),a)}function to(){throw new Error("invalid")}function Ad(s,a){return s<<17|a<<2}function Wt(s){return s>>17&32767}function Hv(s){return 2|s}function bo(s){return(131068&s)>>2}function zv(s,a){return-131069&s|a<<2}function Gv(s){return 1|s}function Rm(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Go(f),v.contentQueries(2,a[g],g)}}}function Yf(s,a,l,d,f,g,v,C,I,D,M){const V=a.blueprint.slice();return V[0]=f,V[2]=76|d,(null!==M||s&&1024&s[2])&&(V[2]|=1024),it(V),V[3]=V[15]=s,V[8]=l,V[10]=v||s&&s[10],V[11]=C||s&&s[11],V[12]=I||s&&s[12]||null,V[9]=D||s&&s[9]||null,V[6]=g,V[20]=function sm(){return Xy++}(),V[21]=M,V[16]=2==a.type?s[16]:V,V}function xd(s,a,l,d,f){let g=s.data[a];if(null===g)g=function km(s,a,l,d,f){const g=zu(),v=Gu(),I=s.data[a]=function xA(s,a,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,d,f);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,a,l,d,f),function vc(){return Je.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function zo(){const s=Je.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ys(g,!0),g}function Xc(s,a,l,d){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function Qf(s,a,l){yl(a);try{const d=s.viewQuery;null!==d&&Um(1,d,l);const f=s.template;null!==f&&cb(s,a,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Rm(s,a),s.staticViewQueries&&Um(2,s.viewQuery,l);const g=s.components;null!==g&&function lb(s,a){for(let l=0;l<a.length;l++)Cb(s,a[l])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,vl()}}function Jf(s,a,l,d){const f=a[2];if(128!=(128&f)){yl(a);try{it(a),function yc(s){return Je.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&cb(s,a,l,2,d);const v=3==(3&f);if(v){const D=s.preOrderCheckHooks;null!==D&&wl(a,D,null)}else{const D=s.preOrderHooks;null!==D&&qu(a,D,0,null),Ku(a,0)}if(function op(s){for(let a=$c(s);null!==a;a=w(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],g=f[3];0==(512&f[2])&&Yt(g,1),f[2]|=512}}}(a),function wb(s){for(let a=$c(s);null!==a;a=w(a))for(let l=B;l<a.length;l++){const d=a[l],f=d[1];me(d)&&Jf(f,d,f.template,d[8])}}(a),null!==s.contentQueries&&Rm(s,a),v){const D=s.contentCheckHooks;null!==D&&wl(a,D)}else{const D=s.contentHooks;null!==D&&qu(a,D,1),Ku(a,1)}!function Yv(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Oa(~f);else{const g=f,v=l[++d],C=l[++d];Og(v,g),C(2,a[g])}}}finally{Oa(-1)}}(s,a);const C=s.components;null!==C&&function Qv(s,a){for(let l=0;l<a.length;l++)Eb(s,a[l])}(a,C);const I=s.viewQuery;if(null!==I&&Um(2,I,d),v){const D=s.viewCheckHooks;null!==D&&wl(a,D)}else{const D=s.viewHooks;null!==D&&qu(a,D,2),Ku(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Yt(a[3],-1))}finally{vl()}}}function cb(s,a,l,d,f){const g=mi(),v=2&d;try{Oa(-1),v&&a.length>22&&Bf(s,a,22,!1),l(d,f)}finally{Oa(g)}}function Fm(s,a,l){if(Pt(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Xf(s,a,l){!ho()||(function tw(s,a,l,d){const f=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||bl(l,a),Gt(d,a);const v=l.initialInputs;for(let C=f;C<g;C++){const I=s.data[C],D=he(I);D&&PA(a,l,I);const M=Zo(a,s,C,l);Gt(M,a),null!==v&&OA(0,C-f,M,I,0,v),D&&(U(l.index,a)[8]=M)}}(s,a,l,Mi(l,a)),128==(128&l.flags)&&function gb(s,a,l){const d=l.directiveStart,f=l.directiveEnd,g=l.index,v=function Ng(){return Je.lFrame.currentDirectiveIndex}();try{Oa(g);for(let C=d;C<f;C++){const I=s.data[C],D=a[C];wc(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&mb(I,D)}}finally{Oa(-1),wc(v)}}(s,a,l))}function ep(s,a,l=Mi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?l(a,s):s[v];s[f++]=C}}}function ci(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=ui(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function ui(s,a,l,d,f,g,v,C,I,D){const M=22+d,V=M+f,J=function Lm(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:pn);return l}(M,V),ce="function"==typeof D?D():D;return J[1]={type:s,blueprint:J,template:l,queries:null,viewQuery:C,declTNode:a,data:J.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ce,incompleteFirstPass:!1}}function db(s,a,l,d){const f=jm(a);null===l?f.push(d):(f.push(l),s.firstCreatePass&&$m(s).push(d,f.length-1))}function Jv(s,a,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function hb(s,a){const d=a.directiveEnd,f=s.data,g=a.attrs,v=[];let C=null,I=null;for(let D=a.directiveStart;D<d;D++){const M=f[D],V=M.inputs,J=null===g||jC(a)?null:eu(V,g);v.push(J),C=Jv(V,D,C),I=Jv(M.outputs,D,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}function Fs(s,a,l,d,f,g,v,C){const I=Mi(a,l);let M,D=a.inputs;!C&&null!=D&&(M=D[d])?(nu(s,l,M,d,f),L(a)&&Md(l,a.index)):3&a.type&&(d=function MA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(I,d,f))}function Md(s,a){const l=U(a,s);16&l[2]||(l[2]|=32)}function Xv(s,a,l,d){let f=!1;if(ho()){const g=function rp(s,a,l){const d=s.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Rv(l,v.selectors,!1)&&(f||(f=[]),Na(bl(l,a),s,v.type),he(v)?(nw(s,l),f.unshift(v)):f.push(v))}return f}(s,a,l),v=null===d?null:{"":-1};if(null!==g){f=!0,ip(l,s.data.length,g.length);for(let M=0;M<g.length;M++){const V=g[M];V.providersResolver&&V.providersResolver(V)}let C=!1,I=!1,D=Xc(s,a,g.length,null);for(let M=0;M<g.length;M++){const V=g[M];l.mergedAttrs=bc(l.mergedAttrs,V.hostAttrs),vb(s,l,a,D,V),yb(D,V,v),null!==V.contentQueries&&(l.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(l.flags|=128);const J=V.type.prototype;!C&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!I&&(J.ngOnChanges||J.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),D++}hb(s,l)}v&&function _b(s,a,l){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new Oe(-301,!1);d.push(a[f],g)}}}(l,d,v)}return l.mergedAttrs=bc(l.mergedAttrs,l.attrs),f}function np(s,a,l,d,f,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const I=~a.index;(function ew(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function mb(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function nw(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function yb(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;he(a)&&(l[""]=s)}}function ip(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function vb(s,a,l,d,f){s.data[d]=f;const g=f.factory||(f.factory=_s(f.type)),v=new El(g,he(f),Sd);s.blueprint[d]=v,l[d]=v,np(s,a,0,d,Xc(s,l,f.hostVars,pn),f)}function PA(s,a,l){const d=Mi(a,s),f=ci(l),g=s[10],v=tu(s,Yf(s,f,null,l.onPush?32:16,d,a,g,g.createRenderer(d,l),null,null,null));s[a.index]=v}function ss(s,a,l,d,f,g){const v=Mi(s,a);!function rw(s,a,l,d,f,g,v){if(null==g)s.removeAttribute(a,f,l);else{const C=null==v?De(g):v(g,d||"",f);s.setAttribute(a,f,C,l)}}(a[11],v,g,s.value,l,d,f)}function OA(s,a,l,d,f,g){const v=g[a];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const D=v[I++],M=v[I++],V=v[I++];null!==C?d.setInput(l,V,D,M):l[M]=V}}}function eu(s,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function sp(s,a,l,d){return new Array(s,!0,!1,a,null,0,d,l,null,null)}function Eb(s,a){const l=U(a,s);if(me(l)){const d=l[1];48&l[2]?Jf(d,l,d.template,l[8]):l[5]>0&&Fi(l)}}function Fi(s){for(let d=$c(s);null!==d;d=w(d))for(let f=B;f<d.length;f++){const g=d[f];if(me(g))if(512&g[2]){const v=g[1];Jf(v,g,v.template,g[8])}else g[5]>0&&Fi(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=U(l[d],s);me(f)&&f[5]>0&&Fi(f)}}function Cb(s,a){const l=U(a,s),d=l[1];(function ap(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),Qf(d,l,l[8])}function tu(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Vm(s){for(;s;){s[2]|=32;const a=jc(s);if(tt(s)&&!a)return s;s=a}return null}function Pd(s,a,l,d=!0){const f=a[10];f.begin&&f.begin();try{Jf(s,a,s.template,l)}catch(v){throw d&&lp(a,v),v}finally{f.end&&f.end()}}function Um(s,a,l){Go(0),a(s,l)}function jm(s){return s[7]||(s[7]=[])}function $m(s){return s.cleanup||(s.cleanup=[])}function lp(s,a){const l=s[9],d=l?l.get(Vf,null):null;d&&d.handleError(a)}function nu(s,a,l,d,f){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],I=a[v],D=s.data[v];null!==D.setInput?D.setInput(I,f,d,C):I[C]=f}}function zm(s,a,l){let d=l?s.styles:null,f=l?s.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=Ce(f,C):2==g&&(d=Ce(d,C+": "+a[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function Od(s,a,l,d,f=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(xn(g)),Qe(g))for(let C=B;C<g.length;C++){const I=g[C],D=I[1].firstChild;null!==D&&Od(I[1],I,D,d)}const v=l.type;if(8&v)Od(s,a,l.child,d);else if(32&v){const C=Bc(l,a);let I;for(;I=C();)d.push(I)}else if(16&v){const C=av(a,l);if(Array.isArray(C))d.push(...C);else{const I=jc(a[16]);Od(I[1],I,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class Fl{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Od(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Qe(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(ia(a,d),Pc(l,d))}this._attachedToViewContainer=!1}mo(this._lView[1],this._lView)}onDestroy(a){db(this._lView[1],this._lView,null,a)}markForCheck(){Vm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ut(s,a){If(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=a}}class iw extends Fl{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Pd(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Gm extends Ff{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=O(a);return new Ka(l,this.ngModule)}}function sw(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class kA{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,Mv,d);return f!==Mv||l===Mv?f:this.parentInjector.get(a,l,d)}}class Ka extends TC{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function f1(s){return s.map(h1).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return sw(this.componentDef.inputs)}get outputs(){return sw(this.componentDef.outputs)}create(a,l,d,f){let g=(f=f||this.ngModule)instanceof Qc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new kA(a,g):a,C=v.get(Av,null);if(null===C)throw new Oe(407,!1);const I=v.get(MC,null),D=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",V=d?function AA(s,a,l){return s.selectRootElement(a,l===ct.ShadowDom)}(D,d,this.componentDef.encapsulation):ve(D,M,function bb(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),J=this.componentDef.onPush?288:272,ce=ui(0,null,null,1,0,null,null,null,null,null),Ve=Yf(null,ce,null,J,null,null,C,D,I,v,null);let Ye,ht;yl(Ve);try{const Ot=function aw(s,a,l,d,f,g){const v=l[1];l[22]=s;const I=xd(v,22,2,"#host",null),D=I.mergedAttrs=a.hostAttrs;null!==D&&(zm(I,D,!0),null!==s&&(Kh(f,s,D),null!==I.classes&&dv(f,s,I.classes),null!==I.styles&&iC(f,s,I.styles)));const M=d.createRenderer(s,a),V=Yf(l,ci(a),null,a.onPush?32:16,l[22],I,d,M,g||null,null,null);return v.firstCreatePass&&(Na(bl(I,l),v,a.type),nw(v,I),ip(I,l.length,1)),tu(l,V),l[22]=V}(V,this.componentDef,Ve,C,D);if(V)if(d)Kh(D,V,["ng-version",PC.full]);else{const{attrs:zt,classes:He}=function fA(s){const a=[],l=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&a.push(g,s[++d]):8===f&&l.push(g);else{if(!dr(f))break;f=g}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);zt&&Kh(D,V,zt),He&&He.length>0&&dv(D,V,He.join(" "))}if(ht=gl(ce,22),void 0!==l){const zt=ht.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const en=l[He];zt.push(null!=en?Array.from(en):null)}}Ye=function FA(s,a,l,d){const f=l[1],g=function pb(s,a,l){const d=Zr();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),vb(s,d,a,Xc(s,a,1,null),l),hb(s,d));const f=Zo(a,s,d.directiveStart,d);Gt(f,a);const g=Mi(d,a);return g&&Gt(g,a),f}(f,l,a);if(s[8]=l[8]=g,null!==d)for(const C of d)C(g,a);if(a.contentQueries){const C=Zr();a.contentQueries(1,g,C.directiveStart)}const v=Zr();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Oa(v.index),np(l[1],v,0,v.directiveStart,v.directiveEnd,a),mb(a,g)),g}(Ot,this.componentDef,Ve,[LA]),Qf(ce,Ve,null)}finally{vl()}return new cp(this.componentType,Ye,Cd(ht,Ve),Ve,ht)}}class cp extends class rA{}{constructor(a,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new iw(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const g=this._rootLView;nu(g[1],g,f,a,l),Md(g,this._tNode.index)}}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function LA(){const s=Zr();qh(Ue()[1],s)}function Wm(s){let a=function lw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let f;if(he(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Oe(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=Za(s.inputs),v.declaredInputs=Za(s.declaredInputs),v.outputs=Za(s.outputs);const C=f.hostBindings;C&&Km(s,C);const I=f.viewQuery,D=f.contentQueries;if(I&&Ya(s,I),D&&qm(s,D),ge(s.inputs,f.inputs),ge(s.declaredInputs,f.declaredInputs),ge(s.outputs,f.outputs),he(f)&&f.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===Wm&&(l=!1)}}a=Object.getPrototypeOf(a)}!function VA(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=bc(f.hostAttrs,l=bc(l,f.hostAttrs))}}(d)}function Za(s){return s===Gn?{}:s===$t?[]:s}function Ya(s,a){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function qm(s,a){const l=s.contentQueries;s.contentQueries=l?(d,f,g)=>{a(d,f,g),l(d,f,g)}:a}function Km(s,a){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let Ll=null;function To(){if(!Ll){const s=on.Symbol;if(s&&s.iterator)Ll=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ll=d)}}}return Ll}function Rd(s){return!!cw(s)&&(Array.isArray(s)||!(s instanceof Map)&&To()in s)}function cw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ws(s,a,l){return s[a]=l}function Li(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function uw(s,a,l,d){const f=Ue();return Li(f,Pa(),a)&&(an(),ss(pr(),f,s,a,l,d)),uw}function ru(s,a,l,d){return Li(s,Pa(),l)?a+De(l)+d:pn}function Mb(s,a,l,d,f,g,v,C){const I=Ue(),D=an(),M=s+22,V=D.firstCreatePass?function pp(s,a,l,d,f,g,v,C,I){const D=a.consts,M=xd(a,s,4,v||null,Ge(D,C));Xv(a,l,M,Ge(D,I)),qh(a,M);const V=M.tViews=ui(2,M,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,M),V.queries=a.queries.embeddedTView(M)),M}(M,D,I,a,l,d,f,g,v):D.data[M];ys(V,!1);const J=I[11].createComment("");oa(D,I,J,V),Gt(J,I),tu(I,I[M]=sp(J,I,J,V)),Q(V)&&Xf(D,I,V),null!=v&&ep(I,V,C)}function hw(s,a,l){const d=Ue();return Li(d,Pa(),a)&&Fs(an(),pr(),d,s,a,d[11],l,!1),hw}function fw(s,a,l,d,f){const v=f?"class":"style";nu(s,l,a.inputs[v],v,d)}function gp(s,a,l,d){const f=Ue(),g=an(),v=22+s,C=f[11],I=f[v]=ve(C,a,function jE(){return Je.lFrame.currentNamespace}()),D=g.firstCreatePass?function $A(s,a,l,d,f,g,v){const C=a.consts,D=xd(a,s,2,f,Ge(C,g));return Xv(a,l,D,Ge(C,v)),null!==D.attrs&&zm(D,D.attrs,!1),null!==D.mergedAttrs&&zm(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(v,g,f,0,a,l,d):g.data[v];ys(D,!0);const M=D.mergedAttrs;null!==M&&Kh(C,I,M);const V=D.classes;null!==V&&dv(C,I,V);const J=D.styles;return null!==J&&iC(C,I,J),64!=(64&D.flags)&&oa(g,f,I,D),0===function ti(){return Je.lFrame.elementDepthCount}()&&Gt(I,f),function Pi(){Je.lFrame.elementDepthCount++}(),Q(D)&&(Xf(g,f,D),Fm(g,D,f)),null!==d&&ep(f,D),gp}function mp(){let s=Zr();Gu()?Wu():(s=s.parent,ys(s,!1));const a=s;!function Kr(){Je.lFrame.elementDepthCount--}();const l=an();return l.firstCreatePass&&(qh(l,s),Pt(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function zE(s){return 0!=(16&s.flags)}(a)&&fw(l,a,Ue(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $y(s){return 0!=(32&s.flags)}(a)&&fw(l,a,Ue(),a.stylesWithoutHost,!1),mp}function Qm(s,a,l,d){return gp(s,a,l,d),mp(),Qm}function _p(s,a,l){const d=Ue(),f=an(),g=s+22,v=f.firstCreatePass?function Jm(s,a,l,d,f){const g=a.consts,v=Ge(g,d),C=xd(a,s,8,"ng-container",v);return null!==v&&zm(C,v,!0),Xv(a,l,C,Ge(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,d,a,l):f.data[g];ys(v,!0);const C=d[g]=d[11].createComment("");return oa(f,d,C,v),Gt(C,d),Q(v)&&(Xf(f,d,v),Fm(f,v,d)),null!=l&&ep(d,v),_p}function Ls(){let s=Zr();const a=an();return Gu()?Wu():(s=s.parent,ys(s,!1)),a.firstCreatePass&&(qh(a,s),Pt(s)&&a.queries.elementEnd(s)),Ls}function Ob(){return Ue()}function Xm(s){return!!s&&"function"==typeof s.then}function e_(s){return!!s&&"function"==typeof s.subscribe}const Vd=e_;function t_(s,a,l,d){const f=Ue(),g=an(),v=Zr();return function gw(s,a,l,d,f,g,v,C){const I=Q(d),M=s.firstCreatePass&&$m(s),V=a[8],J=jm(a);let ce=!0;if(3&d.type||C){const ht=Mi(d,a),Ot=C?C(ht):ht,zt=J.length,He=C?Jn=>C(xn(Jn[d.index])):d.index;let en=null;if(!C&&I&&(en=function r_(s,a,l,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const C=a[7],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(s,a,f,d.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=g,en.__ngLastListenerFn__=g,ce=!1;else{g=Nb(d,a,V,g,!1);const Jn=l.listen(Ot,f,g);J.push(g,Jn),M&&M.push(f,He,zt,zt+1)}}else g=Nb(d,a,V,g,!1);const Ve=d.outputs;let Ye;if(ce&&null!==Ve&&(Ye=Ve[f])){const ht=Ye.length;if(ht)for(let Ot=0;Ot<ht;Ot+=2){const gr=a[Ye[Ot]][Ye[Ot+1]].subscribe(g),ya=J.length;J.push(g,gr),M&&M.push(f,d.index,ya,-(ya+1))}}}(g,f,f[11],v,s,a,0,d),t_}function yp(s,a,l,d){try{return!1!==l(d)}catch(f){return lp(s,f),!1}}function Nb(s,a,l,d,f){return function g(v){if(v===Function)return d;Vm(2&s.flags?U(s.index,a):a);let I=yp(a,0,d,v),D=g.__ngNextListenerFn__;for(;D;)I=yp(a,0,D,v)&&I,D=D.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function mw(s=1){return function LE(s){return(Je.lFrame.contextLView=function VE(s,a){for(;s>0;)a=a[15],s--;return a}(s,Je.lFrame.contextLView))[8]}(s)}function wp(s,a,l){return Ep(s,"",a,"",l),wp}function Ep(s,a,l,d,f){const g=Ue(),v=ru(g,a,l,d);return v!==pn&&Fs(an(),pr(),g,s,v,g[11],f,!1),Ep}function bw(s,a,l,d,f){const g=s[l+1],v=null===a;let C=d?Wt(g):bo(g),I=!1;for(;0!==C&&(!1===I||v);){const M=s[C+1];Fb(s[C],a)&&(I=!0,s[C+1]=d?Gv(M):Hv(M)),C=d?Wt(M):bo(M)}I&&(s[l+1]=d?Hv(g):Gv(g))}function Fb(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Fa(s,a)>=0}function Bd(s,a){return function Yi(s,a,l,d){const f=Ue(),g=an(),v=function Ds(s){const a=Je.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}(2);g.firstUpdatePass&&function l_(s,a,l,d){const f=s.data;if(null===f[l+1]){const g=f[mi()],v=function Ub(s,a){return a>=s.expandoStartIndex}(s,l);(function $b(s,a){return 0!=(s.flags&(a?16:32))})(g,d)&&null===a&&!v&&(a=!1),a=function GA(s,a,l,d){const f=function Hh(s){const a=Je.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=Ip(l=jd(null,s,a,l,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==f)if(l=jd(f,s,a,l,d),null===g){let I=function WA(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==bo(d))return s[Wt(d)]}(s,a,d);void 0!==I&&Array.isArray(I)&&(I=jd(null,s,a,I[1],d),I=Ip(I,a.attrs,d),function Bb(s,a,l,d){s[Wt(l?a.classBindings:a.styleBindings)]=d}(s,a,d,I))}else g=function qA(s,a,l){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=Ip(d,s[g].hostAttrs,l);return Ip(d,a.attrs,l)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,d),function i_(s,a,l,d,f,g){let v=g?a.classBindings:a.styleBindings,C=Wt(v),I=bo(v);s[d]=l;let M,D=!1;if(Array.isArray(l)){const V=l;M=V[1],(null===M||Fa(V,M)>0)&&(D=!0)}else M=l;if(f)if(0!==I){const J=Wt(s[C+1]);s[d+1]=Ad(J,C),0!==J&&(s[J+1]=zv(s[J+1],d)),s[C+1]=function $f(s,a){return 131071&s|a<<17}(s[C+1],d)}else s[d+1]=Ad(C,0),0!==C&&(s[C+1]=zv(s[C+1],d)),C=d;else s[d+1]=Ad(I,0),0===C?C=d:s[I+1]=zv(s[I+1],d),I=d;D&&(s[d+1]=Hv(s[d+1])),bw(s,M,d,!0),bw(s,M,d,!1),function Vs(s,a,l,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&Fa(g,a)>=0&&(l[d+1]=Gv(l[d+1]))}(a,M,s,d,g),v=Ad(C,I),g?a.classBindings=v:a.styleBindings=v}(f,g,a,l,v,d)}}(g,s,v,d),a!==pn&&Li(f,v,a)&&function di(s,a,l,d,f,g,v,C){if(!(3&a.type))return;const I=s.data,D=I[C+1];Po(function XC(s){return 1==(1&s)}(D)?uu(I,a,l,f,bo(D),v):void 0)||(Po(g)||function jf(s){return 2==(2&s)}(D)&&(g=uu(I,null,l,f,C,v)),function OS(s,a,l,d,f){if(a)f?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:Ns.DashCase;null==f?s.removeStyle(l,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Ns.Important),s.setStyle(l,d,f,g))}}(d,v,$o(mi(),l),f,g))}(g,g.data[mi()],f,f[11],s,f[v+1]=function Dw(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ye(eo(s)))),s}(a,l),d,v)}(s,a,null,!0),Bd}function jd(s,a,l,d,f){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=a[C],d=Ip(d,g.hostAttrs,f),g!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Ip(s,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ns(s,v,!!l||a[++g]))}return void 0===s?null:s}function uu(s,a,l,d,f,g){const v=null===a;let C;for(;f>0;){const I=s[f],D=Array.isArray(I),M=D?I[1]:I,V=null===M;let J=l[f+1];J===pn&&(J=V?$t:void 0);let ce=V?Yg(J,d):M===d?J:void 0;if(D&&!Po(ce)&&(ce=Yg(I,d)),Po(ce)&&(C=ce,v))return C;const Ve=s[f+1];f=v?Wt(Ve):bo(Ve)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(C=Yg(I,d))}return C}function Po(s){return void 0!==s}function Ke(s,a=""){const l=Ue(),d=an(),f=s+22,g=d.firstCreatePass?xd(d,f,1,a,null):d.data[f],v=l[f]=function S(s,a){return s.createText(a)}(l[11],a);oa(d,l,v,g),ys(g,!1)}function Rr(s){return os("",s,""),Rr}function os(s,a,l){const d=Ue(),f=ru(d,s,a,l);return f!==pn&&function ca(s,a,l){const d=$o(a,s);!function P(s,a,l){s.setValue(a,l)}(s[11],d,l)}(d,mi(),f),os}const Hl=void 0;var Aw=["en",[["a","p"],["AM","PM"],Hl],[["AM","PM"],Hl,Hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hl,"{1} 'at' {0}",Hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bs(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let du={};function da(s){const a=function xp(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Ap(a);if(l)return l;const d=a.split("-")[0];if(l=Ap(d),l)return l;if("en"===d)return Aw;throw new Oe(701,!1)}function ue(s){return da(s)[Xt.PluralCase]}function Ap(s){return s in du||(du[s]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[s]),du[s]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const io="en-US";let Gd=io;function Vw(s,a,l,d,f){if(s=X(s),Array.isArray(s))for(let g=0;g<s.length;g++)Vw(s[g],a,l,d,f);else{const g=an(),v=Ue();let C=Ga(s)?s:X(s.provide),I=Rf(s);const D=Zr(),M=1048575&D.providerIndexes,V=D.directiveStart,J=D.providerIndexes>>20;if(Ga(s)||!s.multi){const ce=new El(I,f,Sd),Ve=Qn(C,a,f?M:M+J,V);-1===Ve?(Na(bl(D,v),g,C),__(g,s,a.length),a.push(C),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),l.push(ce),v.push(ce)):(l[Ve]=ce,v[Ve]=ce)}else{const ce=Qn(C,a,M+J,V),Ve=Qn(C,a,M,M+J),Ye=ce>=0&&l[ce],ht=Ve>=0&&l[Ve];if(f&&!ht||!f&&!Ye){Na(bl(D,v),g,C);const Ot=function _I(s,a,l,d,f){const g=new El(s,l,Sd);return g.multi=[],g.index=a,g.componentProviders=0,Pn(g,f,d&&!l),g}(f?Uw:Qd,l.length,f,d,I);!f&&ht&&(l[Ve].providerFactory=Ot),__(g,s,a.length,0),a.push(C),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),l.push(Ot),v.push(Ot)}else __(g,s,ce>-1?ce:Ve,Pn(l[f?Ve:ce],I,!f&&d));!f&&d&&ht&&l[Ve].componentProviders++}}}function __(s,a,l,d){const f=Ga(a),g=function CC(s){return!!s.useClass}(a);if(f||g){const I=(g?X(a.useClass):a).prototype.ngOnDestroy;if(I){const D=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const M=D.indexOf(l);-1===M?D.push(l,[d,I]):D[M+1].push(d,I)}else D.push(l,I)}}}function Pn(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function Qn(s,a,l,d){for(let f=l;f<d;f++)if(a[f]===s)return f;return-1}function Qd(s,a,l,d){return Fp(this.multi,[])}function Uw(s,a,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Zo(l,l[1],this.providerFactory.index,d);g=C.slice(0,v),Fp(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],Fp(f,g);return g}function Fp(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function y_(s,a=[]){return l=>{l.providersResolver=(d,f)=>function Yd(s,a,l){const d=an();if(d.firstCreatePass){const f=he(s);Vw(l,d.data,d.blueprint,f,!0),Vw(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class pu{}class Bw{}function yI(s,a){return new vI(s,a??null)}class vI extends pu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gm(this);const d=at(a);this._bootstrapComponents=Wa(d.bootstrap),this._r3Injector=WC(a,l,[{provide:pu,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class jw extends Bw{constructor(a){super(),this.moduleType=a}create(a){return new vI(this.moduleType,a)}}class wI extends pu{constructor(a,l,d){super(),this.componentFactoryResolver=new Gm(this),this.instance=null;const f=new Nf([...a,{provide:pu,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],l||vm(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function $w(s,a,l=null){return new wI(s,a,l).injector}let EI=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=vC(0,l.type),f=d.length>0?$w([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Be({token:s,providedIn:"environment",factory:()=>new s(Br(Qc))}),s})();function CI(s){s.getStandaloneInjector=a=>a.get(EI).getOrCreateStandaloneInjector(s)}function C_(s,a,l){const d=Wi()+s,f=Ue();return f[d]===pn?ws(f,d,l?a.call(l):a()):function ro(s,a){return s[a]}(f,d)}function ls(s,a,l,d,f,g){const v=a+l;return Li(s,v,f)?ws(s,v+1,g?d.call(g,f):d(f)):function Up(s,a){const l=s[a];return l===pn?void 0:l}(s,v+1)}function Zw(s,a){const l=an();let d;const f=s+22;l.firstCreatePass?(d=function Bp(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const g=d.factory||(d.factory=_s(d.type)),v=tr(Sd);try{const C=Ss(!1),I=g();return Ss(C),function jr(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,Ue(),f,I),I}finally{tr(v)}}function PI(s,a,l){const d=s+22,f=Ue(),g=function j(s,a){return s[a]}(f,d);return function eh(s,a){return s[1].data[a].pure}(f,d)?ls(f,Wi(),a,g.transform,l,g):g.transform(l)}function th(s){return a=>{setTimeout(s,void 0,a)}}const ga=class NI extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,g=l||(()=>null),v=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=th(g),f&&(f=th(f)),v&&(v=th(v)));const C=super.subscribe({next:f,error:g,complete:v});return a instanceof $.w0&&a.add(C),C}};function Cx(){return this._results[To()]()}class I_{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=To(),d=I_.prototype;d[l]||(d[l]=Cx)}get changes(){return this._changes||(this._changes=new ga)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Oi(a);(this._changesDetected=!function nd(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=a[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ma=(()=>{class s{}return s.__NG_ELEMENT_ID__=yu,s})();const _u=ma,RI=class extends _u{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=Yf(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Qf(d,f,a),new Fl(f)}};function yu(){return jp(Zr(),Ue())}function jp(s,a){return 4&s.type?new RI(a,s,Cd(s,a)):null}let il=(()=>{class s{}return s.__NG_ELEMENT_ID__=kI,s})();function kI(){return Er(Zr(),Ue())}const FI=il,nh=class extends FI{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Cd(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qu(this._hostTNode,this._hostLView);if(zy(a)){const l=qo(a,this._hostLView),d=Ic(a);return new Ra(l[1].data[d+8],l)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=LI(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-B}createEmbeddedView(a,l,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=a.createEmbeddedView(l||{},g);return this.insert(v,f),v}createComponent(a,l,d,f,g){const v=a&&!function vs(s){return"function"==typeof s}(a);let C;if(v)C=l;else{const V=l||{};C=V.index,d=V.injector,f=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const I=v?a:new Ka(O(a)),D=d||this.parentInjector;if(!g&&null==I.ngModule){const J=(v?D:this.parentInjector).get(Qc,null);J&&(g=J)}const M=I.create(D,f,void 0,g);return this.insert(M.hostView,C),M}insert(a,l){const d=a._lView,f=d[1];if(function ke(s){return Qe(s[3])}(d)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const V=d[3],J=new nh(V,V[6],V[3]);J.detach(J.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function Zi(s,a,l,d){const f=B+d,g=l.length;d>0&&(l[f-1][4]=a),d<g-B?(a[4]=l[f],Zy(l,B+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function ra(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(s),a[2]|=64}(f,d,v,g);const C=lv(g,v),I=d[11],D=hm(I,v[7]);return null!==D&&function mt(s,a,l,d,f,g){d[0]=f,d[6]=a,If(s,d,l,1,f,g)}(f,v[6],I,d,D,C),a.attachToViewContainerRef(),Zy(Qw(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=LI(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=ia(this._lContainer,l);d&&(Pc(Qw(this._lContainer),l),mo(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=ia(this._lContainer,l);return d&&null!=Pc(Qw(this._lContainer),l)?new Fl(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function LI(s){return s[8]}function Qw(s){return s[8]||(s[8]=[])}function Er(s,a){let l;const d=a[s.index];if(Qe(d))l=d;else{let f;if(8&s.type)f=xn(d);else{const g=a[11];f=g.createComment("");const v=Mi(s,a);_o(g,hm(g,v),f,function iv(s,a){return s.nextSibling(a)}(g,v),!1)}a[s.index]=l=sp(d,a,f,s),tu(a,l)}return new nh(l,s,a)}class Jw{constructor(a){this.queryList=a,this.matches=null}clone(){return new Jw(this.queryList)}setDirty(){this.queryList.setDirty()}}class vu{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new vu(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==Xw(a,l).matches&&this.queries[l].setDirty()}}class VI{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class S_{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new S_(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Zl{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Zl(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,l,sl(l,g)),this.matchTNodeWithReadOption(a,l,Ju(l,a,g,!1,!1))}else d===ma?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ju(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Lf||f===il||f===ma&&4&l.type)this.addMatch(l.index,-2);else{const g=Ju(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function sl(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function BI(s,a,l,d){return-1===l?function UI(s,a){return 11&s.type?Cd(s,a):4&s.type?jp(s,a):null}(a,s):-2===l?function jI(s,a,l){return l===Lf?Cd(a,s):l===ma?jp(a,s):l===il?Er(a,s):void 0}(s,a,d):Zo(s,s[1],l,a)}function wu(s,a,l,d){const f=a[19].queries[d];if(null===f.matches){const g=s.data,v=l.matches,C=[];for(let I=0;I<v.length;I+=2){const D=v[I];C.push(D<0?null:BI(a,g[D],v[I+1],l.metadata.read))}f.matches=C}return f.matches}function $p(s,a,l,d){const f=s.queries.getByIndex(l),g=f.matches;if(null!==g){const v=wu(s,a,f,l);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)d.push(v[C/2]);else{const D=g[C+1],M=a[-I];for(let V=B;V<M.length;V++){const J=M[V];J[17]===J[3]&&$p(J[1],J,D,d)}if(null!==M[9]){const V=M[9];for(let J=0;J<V.length;J++){const ce=V[J];$p(ce[1],ce,D,d)}}}}}return d}function A_(s){const a=Ue(),l=an(),d=_l();Go(d+1);const f=Xw(l,d);if(s.dirty&&function Y(s){return 4==(4&s[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?$p(l,a,d,[]):wu(l,a,f,d);s.reset(g,SC),s.notifyOnChanges()}return!0}return!1}function x_(s,a,l){const d=an();d.firstCreatePass&&(Un(d,new VI(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),Jr(d,Ue(),a)}function M_(s,a,l,d){const f=an();if(f.firstCreatePass){const g=Zr();Un(f,new VI(a,l,d),g.index),function HI(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}Jr(f,Ue(),l)}function $I(){return function Ix(s,a){return s[19].queries[a].queryList}(Ue(),_l())}function Jr(s,a,l){const d=new I_(4==(4&l));db(s,a,d,d.destroy),null===a[19]&&(a[19]=new vu),a[19].queries.push(new Jw(d))}function Un(s,a,l){null===s.queries&&(s.queries=new S_),s.queries.track(new Zl(a,l))}function Xw(s,a){return s.queries.getByIndex(a)}function _a(...s){}const c0=new Kn("Application Initializer");let ch=(()=>{class s{constructor(l){this.appInits=l,this.resolve=_a,this.reject=_a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Xm(g))l.push(g);else if(Vd(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Br(c0,8))},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const L_=new Kn("AppId",{providedIn:"root",factory:function u0(){return`${d0()}${d0()}${d0()}`}});function d0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h0=new Kn("Platform Initializer"),dT=new Kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wp=new Kn("appBootstrapListener"),Cu=new Kn("AnimationModuleType");let kx=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const U_=new Kn("LocaleId",{providedIn:"root",factory:()=>Qt(U_,ot.Optional|ot.SkipSelf)||function hT(){return typeof $localize<"u"&&$localize.locale||io}()}),Fx=new Kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Xl{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let fT=(()=>{class s{compileModuleSync(l){return new jw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Wa(at(l).declarations).reduce((v,C)=>{const I=O(C);return I&&v.push(new Ka(I)),v},[]);return new Xl(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const f0=(()=>Promise.resolve(0))();function H_(s){typeof Zone>"u"?f0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class lo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ga(!1),this.onMicrotaskEmpty=new ga(!1),this.onStable=new ga(!1),this.onError=new ga(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function z_(){let s=on.requestAnimationFrame,a=on.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function pT(s){const a=()=>{!function jx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(on,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,bu(s),s.isCheckStableRunning=!0,dh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),bu(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,C)=>{try{return qp(s),l.invokeTask(f,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),hh(s)}},onInvoke:(l,d,f,g,v,C,I)=>{try{return qp(s),l.invoke(f,g,v,C,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),hh(s)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,bu(s),dh(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lo.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new Oe(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,p0,_a,_a);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const p0={};function dh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function bu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function qp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hh(s){s._nesting--,dh(s)}class gT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ga,this.onMicrotaskEmpty=new ga,this.onStable=new ga,this.onError=new ga}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const g0=new Kn(""),$i=new Kn("");let W_,mT=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W_||(function G_(s){W_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),H_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())H_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(Br(lo),Br(Kp),Br($i))},s.\u0275prov=Be({token:s,factory:s.\u0275fac}),s})(),Kp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return W_?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),cs=null;const Iu=new Kn("AllowMultipleToken"),q_=new Kn("PlatformDestroyListeners");class ec{constructor(a,l){this.name=a,this.token=l}}function _0(s,a,l=[]){const d=`Platform: ${a}`,f=new Kn(d);return(g=[])=>{let v=y0();if(!v||v.injector.get(Iu,!1)){const C=[...l,...g,{provide:f,useValue:!0}];s?s(C):function yT(s){if(cs&&!cs.get(Iu,!1))throw new Oe(400,!1);cs=s;const a=s.get(v0);(function m0(s){const a=s.get(h0,null);a&&a.forEach(l=>l())})(s)}(function Yp(s=[],a){return Rl.create({name:a,providers:[{provide:Of,useValue:"platform"},{provide:q_,useValue:new Set([()=>cs=null])},...s]})}(C,d))}return function zx(s){const a=y0();if(!a)throw new Oe(401,!1);return a}()}}function y0(){return cs?.get(v0)??null}let v0=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function w0(s,a){let l;return l="noop"===s?new gT:("zone.js"===s?void 0:s)||new lo(a),l}(d?.ngZone,function vT(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:lo,useValue:f}];return f.run(()=>{const v=Rl.create({providers:g,parent:this.injector,name:l.moduleType.name}),C=l.create(v),I=C.injector.get(Vf,null);if(!I)throw new Oe(402,!1);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:M=>{I.handleError(M)}});C.onDestroy(()=>{Jp(this._modules,C),D.unsubscribe()})}),function tc(s,a,l){try{const d=l();return Xm(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(I,f,()=>{const D=C.injector.get(ch);return D.runInitializers(),D.donePromise.then(()=>(function Wd(s){se(s,"Expected localeId to be defined"),"string"==typeof s&&(Gd=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(U_,io)||io),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=fh({},d);return function $x(s,a,l){const d=new jw(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(Qp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Oe(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(q_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Br(Rl))},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function fh(s,a){return Array.isArray(a)?a.reduce(fh,s):{...s,...a}}let Qp=(()=>{class s{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new k.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),H_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof TC;if(!this._injector.get(ch).done)throw!f&&Re(l),new Oe(405,false);let v;v=f?l:this._injector.get(Ff).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function _T(s){return s.isBoundToModule}(v)?void 0:this._injector.get(pu),D=v.create(Rl.NULL,[],d||v.selector,C),M=D.location.nativeElement,V=D.injector.get(g0,null);return V?.registerApplication(M),D.onDestroy(()=>{this.detachView(D.hostView),Jp(this.components,D),V?.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Jp(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Wp,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Jp(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Oe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Br(lo),Br(Qc),Br(Vf))},s.\u0275prov=Be({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Jp(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let CT=!0,bT=!1;function E0(){return bT=!0,CT}function Ci(){if(bT)throw new Error("Cannot enable prod mode after platform setup.");CT=!1}let Wx=(()=>{class s{}return s.__NG_ELEMENT_ID__=C0,s})();function C0(s){return function qx(s,a,l){if(L(s)&&!l){const d=U(s.index,a);return new Fl(d,d)}return 47&s.type?new Fl(a[16],a):null}(Zr(),Ue(),16==(16&s))}class ey{constructor(){}supports(a){return Rd(a)}create(a){return new ST(a)}}const ty=(s,a)=>a;class ST{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ty}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<ny(d,f,g)?l:d,C=ny(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const D=C-f,M=I-f;if(D!=M){for(let J=0;J<D;J++){const ce=J<g.length?g[J]:g[J]=0,Ve=ce+J;M<=Ve&&Ve<D&&(g[J]=ce+1)}g[v.previousIndex]=M-D}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Rd(a))throw new Oe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),d=!0),l=l._next}else f=0,function BA(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[To()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new AT(l,d),g,f),a}_verifyReinsertion(a,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new MT),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class AT{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class MT{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new xT,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ny(s,a,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class PT{constructor(){}supports(a){return a instanceof Map||cw(a)}create(){return new x0}}class x0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||cw(a)))throw new Oe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new OT(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class OT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M0(){return new tg([new ey])}let tg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||M0()),deps:[[s,new Jo,new Qo]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Oe(901,!1)}}return s.\u0275prov=Be({token:s,providedIn:"root",factory:M0}),s})();function ph(){return new gh([new PT])}let gh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||ph()),deps:[[s,new Jo,new Qo]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Oe(901,!1)}}return s.\u0275prov=Be({token:s,providedIn:"root",factory:ph}),s})();const Qx=_0(null,"core",[]);let RT=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Br(Qp))},s.\u0275mod=bt({type:s}),s.\u0275inj=Tt({}),s})();function ry(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},6101:(Mt,je,R)=>{R.d(je,{Z:()=>Oe});var u=R(2090),$=R(4859),k=R(9752);R(1877);class de{constructor(De,fe){this._delegate=De,this.firebase=fe,(0,k._addComponent)(De,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(De,fe=k._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(De);return!ft.isInitialized()&&"EXPLICIT"===(null===(Ct=ft.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:fe})}_removeServiceInstance(De,fe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(fe)}_addComponent(De){(0,k._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,k._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function Ce(){const lt=function ye(lt){const De={},fe={__esModule:!0,initializeApp:function Fe(Xe,K={}){const be=k.initializeApp(Xe,K);if((0,u.r3)(De,be.name))return De[be.name];const Ze=new lt(be,fe);return De[be.name]=Ze,Ze},app:ft,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Me(Xe){const K=Xe.name,be=K.replace("-compat","");if(k._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Ze=(rt=ft())=>{if("function"!=typeof rt[be])throw ge.create("invalid-app-argument",{appName:K});return rt[be]()};void 0!==Xe.serviceProps&&(0,u.ZB)(Ze,Xe.serviceProps),fe[be]=Ze,lt.prototype[be]=function(...rt){return this._getService.bind(this,K).apply(this,Xe.multipleInstances?rt:[])}}return"PUBLIC"===Xe.type?fe[be]:null},removeApp:function Ct(Xe){delete De[Xe]},useAsService:function nt(Xe,K){return"serverAuth"===K?null:K},modularAPIs:k}};function ft(Xe){if(!(0,u.r3)(De,Xe=Xe||k._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Xe});return De[Xe]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Ae(){return Object.keys(De).map(Xe=>De[Xe])}}),ft.App=lt,fe}(de);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function De(fe){(0,u.ZB)(lt,fe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),lt}const W=Ce();(0,u.jU)()&&void 0!==self.firebase&&self;const Oe=W},9752:(Mt,je,R)=>{R.r(je),R.d(je,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>Ne,_addOrOverwriteComponent:()=>Be,_apps:()=>Te,_clearComponents:()=>Rt,_components:()=>le,_getProvider:()=>Tt,_registerComponent:()=>_t,_removeServiceInstance:()=>qt,deleteApp:()=>xr,getApp:()=>Zn,getApps:()=>Bn,initializeApp:()=>bn,onLog:()=>Fn,registerVersion:()=>jn,setLogLevel:()=>tr});var u=R(5861),$=R(4859),k=R(1877),ae=R(2090);R(8766);const W=new k.Yd("@firebase/app"),se="[DEFAULT]",oe={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Te=new Map,le=new Map;function Ne(_e,Z){try{_e.container.addComponent(Z)}catch(Ie){W.debug(`Component ${Z.name} failed to register with FirebaseApp ${_e.name}`,Ie)}}function Be(_e,Z){_e.container.addOrOverwriteComponent(Z)}function _t(_e){const Z=_e.name;if(le.has(Z))return W.debug(`There were multiple attempts to register component ${Z}.`),!1;le.set(Z,_e);for(const Ie of Te.values())Ne(Ie,_e);return!0}function Tt(_e,Z){const Ie=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),_e.container.getProvider(Z)}function qt(_e,Z,Ie=se){Tt(_e,Z).clearInstance(Ie)}function Rt(){le.clear()}const nn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(Z,Ie,We){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const er="9.23.0";function bn(_e,Z={}){let Ie=_e;"object"!=typeof Z&&(Z={name:Z});const We=Object.assign({name:se,automaticDataCollectionEnabled:!1},Z),dt=We.name;if("string"!=typeof dt||!dt)throw nn.create("bad-app-name",{appName:String(dt)});if(Ie||(Ie=(0,ae.aH)()),!Ie)throw nn.create("no-options");const bt=Te.get(dt);if(bt){if((0,ae.vZ)(Ie,bt.options)&&(0,ae.vZ)(We,bt.config))return bt;throw nn.create("duplicate-app",{appName:dt})}const vn=new $.H0(dt);for(const z of le.values())vn.addComponent(z);const G=new wn(Ie,We,vn);return Te.set(dt,G),G}function Zn(_e=se){const Z=Te.get(_e);if(!Z&&_e===se&&(0,ae.aH)())return bn();if(!Z)throw nn.create("no-app",{appName:_e});return Z}function Bn(){return Array.from(Te.values())}function xr(_e){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(_e){const Z=_e.name;Te.has(Z)&&(Te.delete(Z),yield Promise.all(_e.container.getProviders().map(Ie=>Ie.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function jn(_e,Z,Ie){var We;let dt=null!==(We=oe[_e])&&void 0!==We?We:_e;Ie&&(dt+=`-${Ie}`);const bt=dt.match(/\s|\//),vn=Z.match(/\s|\//);if(bt||vn){const G=[`Unable to register library "${dt}" with version "${Z}":`];return bt&&G.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),bt&&vn&&G.push("and"),vn&&G.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void W.warn(G.join(" "))}_t(new $.wA(`${dt}-version`,()=>({library:dt,version:Z}),"VERSION"))}function Fn(_e,Z){if(null!==_e&&"function"!=typeof _e)throw nn.create("invalid-log-argument");(0,k.Am)(_e,Z)}function tr(_e){(0,k.Ub)(_e)}},8140:(Mt,je,R)=>{R.d(je,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=R(9752)},1274:(Mt,je,R)=>{R.d(je,{Z:()=>u.Z});var u=R(6101)},5054:(Mt,je,R)=>{R.r(je);var u=R(5861),$=R(6101),k=R(9500),ae=R(2090);function ye(){return window}function q(){return(q=(0,u.Z)(function*(N,O,x){var ne;const{BuildInfo:Re}=ye();(0,k.as)(O.sessionId,"AuthEvent did not contain a session ID");const at=yield fe(O.sessionId),St={};return(0,k.at)()?St.ibi=Re.packageName:(0,k.au)()?St.apn=Re.packageName:(0,k.av)(N,"operation-not-supported-in-this-environment"),Re.displayName&&(St.appDisplayName=Re.displayName),St.sessionId=at,(0,k.aw)(N,x,O.type,void 0,null!==(ne=O.eventId)&&void 0!==ne?ne:void 0,St)})).apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(N){const{BuildInfo:O}=ye(),x={};(0,k.at)()?x.iosBundleId=O.packageName:(0,k.au)()?x.androidPackageName=O.packageName:(0,k.av)(N,"operation-not-supported-in-this-environment"),yield(0,k.ax)(N,x)})).apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(N,O,x){const{cordova:ne}=ye();let Re=()=>{};try{yield new Promise((at,St)=>{let Pe=null;function ut(){var Ht;at();const En=null===(Ht=ne.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof En&&En(),"function"==typeof x?.close&&x.close()}function vt(){Pe||(Pe=window.setTimeout(()=>{St((0,k.az)(N,"redirect-cancelled-by-user"))},2e3))}function hn(){"visible"===document?.visibilityState&&vt()}O.addPassiveListener(ut),document.addEventListener("resume",vt,!1),(0,k.au)()&&document.addEventListener("visibilitychange",hn,!1),Re=()=>{O.removePassiveListener(ut),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",hn,!1),Pe&&window.clearTimeout(Pe)}})}finally{Re()}})).apply(this,arguments)}function fe(N){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(N){const O=ft(N),x=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(x)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(N){if((0,k.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const O=new ArrayBuffer(N.length),x=new Uint8Array(O);for(let ne=0;ne<N.length;ne++)x[ne]=N.charCodeAt(ne);return x}R(9752),R(1877),R(4859);class Ae extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(O)),super.onEvent(O)}initialized(){var O=this;return(0,u.Z)(function*(){yield O.initPromise})()}}function Xe(N){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(N){const O=yield rt()._get(Nt(N));return O&&(yield rt()._remove(Nt(N))),O})).apply(this,arguments)}function Ze(){const N=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<20;x++){const ne=Math.floor(Math.random()*O.length);N.push(O.charAt(ne))}return N.join("")}function rt(){return(0,k.aC)(k.b)}function Nt(N){return(0,k.aD)("authEvent",N.config.apiKey,N.name)}function cr(N){if(!N?.includes("?"))return{};const[O,...x]=N.split("?");return(0,ae.zd)(x.join("?"))}function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function _t(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function Bn(){return function qt(N=(0,ae.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function ot(){return(ot=(0,u.Z)(function*(){return!!Bn()&&new Promise(N=>{const O=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),N(!0)})})})).apply(this,arguments)}const Mr="persistence";function dn(N){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(N){yield N._initializationPromise;const O=Dt(),x=k.aD(Mr,N.config.apiKey,N.name);O&&O.setItem(x,N._getPersistence())})).apply(this,arguments)}function Dt(){var N;try{return(null===(N=function jn(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const ct=k.aA;class on{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(class fr{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var x=this;return(0,u.Z)(function*(){const ne=O._key();let Re=x.eventManagers.get(ne);return Re||(Re=new Ae(O),x.eventManagers.set(ne,Re),x.attachCallbackListeners(O,Re)),Re})()}_openPopup(O){(0,k.av)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,x,ne,Re){var at=this;return(0,u.Z)(function*(){!function De(N){var O,x,ne,Re,at,St,Pe,ut,vt,hn;const Ht=ye();(0,k.aA)("function"==typeof(null===(O=Ht?.universalLinks)||void 0===O?void 0:O.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(x=Ht?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(at=null===(Re=null===(ne=Ht?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===at?void 0:at.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(ut=null===(Pe=null===(St=Ht?.cordova)||void 0===St?void 0:St.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===ut?void 0:ut.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(hn=null===(vt=Ht?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===hn?void 0:hn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const St=yield at._initialize(O);yield St.initialized(),St.resetRedirect(),(0,k.aG)(),yield at._originValidation(O);const Pe=function Me(N,O,x=null){return{type:O,eventId:x,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:N.tenantId,error:(0,k.az)(N,"no-auth-event")}}(O,ne,Re);yield function nt(N,O){return rt()._set(Nt(N),O)}(O,Pe);const ut=yield function W(N,O,x){return q.apply(this,arguments)}(O,Pe,x),vt=yield function Se(N){const{cordova:O}=ye();return new Promise(x=>{O.plugins.browsertab.isAvailable(ne=>{let Re=null;ne?O.plugins.browsertab.openUrl(N):Re=O.InAppBrowser.open(N,(0,k.ay)()?"_blank":"_system","location=yes"),x(Re)})})}(ut);return function Oe(N,O,x){return lt.apply(this,arguments)}(O,St,vt)})()}_isIframeWebStorageSupported(O,x){throw new Error("Method not implemented.")}_originValidation(O){const x=O._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function X(N){return qe.apply(this,arguments)}(O)),this.originValidationPromises[x]}attachCallbackListeners(O,x){const{universalLinks:ne,handleOpenURL:Re,BuildInfo:at}=ye(),St=setTimeout((0,u.Z)(function*(){yield Xe(O),x.onEvent(oe())}),500),Pe=function(){var hn=(0,u.Z)(function*(Ht){clearTimeout(St);const En=yield Xe(O);let Vr=null;En&&Ht?.url&&(Vr=function be(N,O){var x,ne;const Re=function kn(N){const O=cr(N),x=O.link?decodeURIComponent(O.link):void 0,ne=cr(x).link,Re=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return cr(Re).link||Re||ne||x||N}(O);if(Re.includes("/__/auth/callback")){const at=cr(Re),St=at.firebaseError?function st(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,Pe=null===(ne=null===(x=St?.code)||void 0===x?void 0:x.split("auth/"))||void 0===ne?void 0:ne[1],ut=Pe?(0,k.az)(Pe):null;return ut?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:ut,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Re,postBody:null}}return null}(En,Ht.url)),x.onEvent(Vr||oe())});return function(En){return hn.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,Pe);const ut=Re,vt=`${at.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var hn=(0,u.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(vt)&&Pe({url:Ht}),"function"==typeof ut)try{ut(Ht)}catch(En){console.error(En)}});return function(Ht){return hn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(O){var x=this;return(0,u.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,x,ne,Re){var at=this;return(0,u.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(O,x,ne,Re)})()}_openRedirect(O,x,ne,Re){var at=this;return(0,u.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(O,x,ne,Re)})()}_isIframeWebStorageSupported(O,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,x)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Bn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,u.Z)(function*(){if(O.underlyingResolver)return;const x=yield function xr(){return ot.apply(this,arguments)}();O.underlyingResolver=x?O.cordovaResolver:O.browserResolver})()}}function Ln(N){return N.unwrap()}function Gn(N){return br(N)}function br(N){const{_tokenResponse:O}=N instanceof ae.ZR?N.customData:N;if(!O)return null;if(!(N instanceof ae.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(N);const x=O.providerId;if(!x||x===k.p.PASSWORD)return null;let ne;switch(x){case k.p.GOOGLE:ne=k.V;break;case k.p.FACEBOOK:ne=k.U;break;case k.p.GITHUB:ne=k.W;break;case k.p.TWITTER:ne=k.Z;break;default:const{oauthIdToken:Re,oauthAccessToken:at,oauthTokenSecret:St,pendingToken:Pe,nonce:ut}=O;return at||St||Re||Pe?Pe?x.startsWith("saml.")?k.aO._create(x,Pe):k.L._fromParams({providerId:x,signInMethod:x,pendingToken:Pe,idToken:Re,accessToken:at}):new k.X(x).credential({idToken:Re,accessToken:at,rawNonce:ut}):null}return N instanceof ae.ZR?ne.credentialFromError(N):ne.credentialFromResult(N)}function Ft(N,O){return O.catch(x=>{throw x instanceof ae.ZR&&function $t(N,O){var x;const ne=null===(x=O.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new Wn(N,k.aq(N,O));else if(ne){const Re=br(O),at=O;Re&&(at.credential=Re,at.tenantId=ne.tenantId||void 0,at.email=ne.email||void 0,at.phoneNumber=ne.phoneNumber||void 0)}}(N,x),x}).then(x=>{const Re=x.user;return{operationType:x.operationType,credential:Gn(x),additionalUserInfo:k.ao(x),user:Sn.getOrCreate(Re)}})}function Pr(N,O){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(N,O){const x=yield O;return{verificationId:x.verificationId,confirm:ne=>Ft(N,x.confirm(ne))}})).apply(this,arguments)}class Wn{constructor(O,x){this.resolver=x,this.auth=function qn(N){return N.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Ft(Ln(this.auth),this.resolver.resolveSignIn(O))}}class Sn{constructor(O){this._delegate=O,this.multiFactor=k.ar(O)}static getOrCreate(O){return Sn.USER_MAP.has(O)||Sn.USER_MAP.set(O,new Sn(O)),Sn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var x=this;return(0,u.Z)(function*(){return Ft(x.auth,k.a0(x._delegate,O))})()}linkWithPhoneNumber(O,x){var ne=this;return(0,u.Z)(function*(){return Pr(ne.auth,k.l(ne._delegate,O,x))})()}linkWithPopup(O){var x=this;return(0,u.Z)(function*(){return Ft(x.auth,k.d(x._delegate,O,on))})()}linkWithRedirect(O){var x=this;return(0,u.Z)(function*(){return yield dn(k.aH(x.auth)),k.g(x._delegate,O,on)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var x=this;return(0,u.Z)(function*(){return Ft(x.auth,k.a1(x._delegate,O))})()}reauthenticateWithPhoneNumber(O,x){return Pr(this.auth,k.r(this._delegate,O,x))}reauthenticateWithPopup(O){return Ft(this.auth,k.e(this._delegate,O,on))}reauthenticateWithRedirect(O){var x=this;return(0,u.Z)(function*(){return yield dn(k.aH(x.auth)),k.h(x._delegate,O,on)})()}sendEmailVerification(O){return k.ae(this._delegate,O)}unlink(O){var x=this;return(0,u.Z)(function*(){return yield k.an(x._delegate,O),x})()}updateEmail(O){return k.aj(this._delegate,O)}updatePassword(O){return k.ak(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.ai(this._delegate,O)}verifyBeforeUpdateEmail(O,x){return k.af(this._delegate,O,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sn.USER_MAP=new WeakMap;class dt{constructor(){this.providerId="phone",this._delegate=new k.P(Ln($.Z.auth()))}static credential(O,x){return k.P.credential(O,x)}verifyPhoneNumber(O,x){return this._delegate.verifyPhoneNumber(O,x)}unwrap(){return this._delegate}}dt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,dt.PROVIDER_ID=k.P.PROVIDER_ID},8628:(Mt,je,R)=>{R.d(je,{KL:()=>zi,Gb:()=>Hi});var u=R(5861),k=(R(4727),R(4859));let de,Ee;const Ce=new WeakMap,W=new WeakMap,q=new WeakMap,X=new WeakMap,qe=new WeakMap;let lt={get(B,ee,Le){if(B instanceof IDBTransaction){if("done"===ee)return W.get(B);if("objectStoreNames"===ee)return B.objectStoreNames||q.get(B);if("store"===ee)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return ft(B[ee])},set:(B,ee,Le)=>(B[ee]=Le,!0),has:(B,ee)=>B instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in B};function Ct(B){return"function"==typeof B?function fe(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ee){return B.apply(Fe(this),ee),ft(Ce.get(this))}:function(...ee){return ft(B.apply(Fe(this),ee))}:function(ee,...Le){const Qe=B.call(Fe(this),ee,...Le);return q.set(Qe,ee.sort?ee.sort():[ee]),ft(Qe)}}(B):(B instanceof IDBTransaction&&function Oe(B){if(W.has(B))return;const ee=new Promise((Le,Qe)=>{const Pt=()=>{B.removeEventListener("complete",L),B.removeEventListener("error",Q),B.removeEventListener("abort",Q)},L=()=>{Le(),Pt()},Q=()=>{Qe(B.error||new DOMException("AbortError","AbortError")),Pt()};B.addEventListener("complete",L),B.addEventListener("error",Q),B.addEventListener("abort",Q)});W.set(B,ee)}(B),((B,ee)=>ee.some(Le=>B instanceof Le))(B,function ge(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,lt):B)}function ft(B){if(B instanceof IDBRequest)return function Se(B){const ee=new Promise((Le,Qe)=>{const Pt=()=>{B.removeEventListener("success",L),B.removeEventListener("error",Q)},L=()=>{Le(ft(B.result)),Pt()},Q=()=>{Qe(B.error),Pt()};B.addEventListener("success",L),B.addEventListener("error",Q)});return ee.then(Le=>{Le instanceof IDBCursor&&Ce.set(Le,B)}).catch(()=>{}),qe.set(ee,B),ee}(B);if(X.has(B))return X.get(B);const ee=Ct(B);return ee!==B&&(X.set(B,ee),qe.set(ee,B)),ee}const Fe=B=>qe.get(B);function Ae(B,ee,{blocked:Le,upgrade:Qe,blocking:Pt,terminated:L}={}){const Q=indexedDB.open(B,ee),he=ft(Q);return Qe&&Q.addEventListener("upgradeneeded",tt=>{Qe(ft(Q.result),tt.oldVersion,tt.newVersion,ft(Q.transaction))}),Le&&Q.addEventListener("blocked",()=>Le()),he.then(tt=>{L&&tt.addEventListener("close",()=>L()),Pt&&tt.addEventListener("versionchange",()=>Pt())}).catch(()=>{}),he}function Me(B,{blocked:ee}={}){const Le=indexedDB.deleteDatabase(B);return ee&&Le.addEventListener("blocked",()=>ee()),ft(Le).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],K=new Map;function be(B,ee){if(!(B instanceof IDBDatabase)||ee in B||"string"!=typeof ee)return;if(K.get(ee))return K.get(ee);const Le=ee.replace(/FromIndex$/,""),Qe=ee!==Le,Pt=Xe.includes(Le);if(!(Le in(Qe?IDBIndex:IDBObjectStore).prototype)||!Pt&&!nt.includes(Le))return;const L=function(){var Q=(0,u.Z)(function*(he,...tt){const fn=this.transaction(he,Pt?"readwrite":"readonly");let Kt=fn.store;return Qe&&(Kt=Kt.index(tt.shift())),(yield Promise.all([Kt[Le](...tt),Pt&&fn.done]))[0]});return function(tt){return Q.apply(this,arguments)}}();return K.set(ee,L),L}!function De(B){lt=B(lt)}(B=>({...B,get:(ee,Le,Qe)=>be(ee,Le)||B.get(ee,Le,Qe),has:(ee,Le)=>!!be(ee,Le)||B.has(ee,Le)}));var Ze=R(2090),rt=R(9681);const Nt="/firebase-messaging-sw.js",st="/firebase-cloud-messaging-push-scope",kn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dn="google.c.a.c_id",fr="google.c.a.c_l",se="google.c.a.ts",oe="google.c.a.e";var le=(()=>{return(B=le||(le={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",le;var B})();function Ne(B){const ee=new Uint8Array(B);return btoa(String.fromCharCode(...ee)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Be(B){const Le=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Qe=atob(Le),Pt=new Uint8Array(Qe.length);for(let L=0;L<Qe.length;++L)Pt[L]=Qe.charCodeAt(L);return Pt}const _t="fcm_token_details_db",qt="fcm_token_object_Store";function Rt(B){return un.apply(this,arguments)}function un(){return un=(0,u.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(L=>L.name).includes(_t))return null;let ee=null;return(yield Ae(_t,5,{upgrade:(Qe=(0,u.Z)(function*(Pt,L,Q,he){var tt;if(L<2||!Pt.objectStoreNames.contains(qt))return;const fn=he.objectStore(qt),Kt=yield fn.index("fcmSenderId").get(B);if(yield fn.clear(),Kt)if(2===L){const xt=Kt;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;ee={token:xt.fcmToken,createTime:null!==(tt=xt.createTime)&&void 0!==tt?tt:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:Ne(xt.vapidKey)}}}else if(3===L){const xt=Kt;ee={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Ne(xt.auth),p256dh:Ne(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Ne(xt.vapidKey)}}}else if(4===L){const xt=Kt;ee={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Ne(xt.auth),p256dh:Ne(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Ne(xt.vapidKey)}}}}),function(L,Q,he,tt){return Qe.apply(this,arguments)})})).close(),yield Me(_t),yield Me("fcm_vapid_details_db"),yield Me("undefined"),nn(ee)?ee:null;var Qe}),un.apply(this,arguments)}function nn(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:ee}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof ee.auth&&ee.auth.length>0&&"string"==typeof ee.p256dh&&ee.p256dh.length>0&&"string"==typeof ee.endpoint&&ee.endpoint.length>0&&"string"==typeof ee.swScope&&ee.swScope.length>0&&"string"==typeof ee.vapidKey&&ee.vapidKey.length>0}const bn="firebase-messaging-store";let Zn=null;function Bn(){return Zn||(Zn=Ae("firebase-messaging-database",1,{upgrade:(B,ee)=>{0===ee&&B.createObjectStore(bn)}})),Zn}function xr(B){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(B){const ee=mr(B),Qe=yield(yield Bn()).transaction(bn).objectStore(bn).get(ee);if(Qe)return Qe;{const Pt=yield Rt(B.appConfig.senderId);if(Pt)return yield jn(B,Pt),Pt}})).apply(this,arguments)}function jn(B,ee){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(B,ee){const Le=mr(B),Pt=(yield Bn()).transaction(bn,"readwrite");return yield Pt.objectStore(bn).put(ee,Le),yield Pt.done,ee})).apply(this,arguments)}function tr(B){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(B){const ee=mr(B),Qe=(yield Bn()).transaction(bn,"readwrite");yield Qe.objectStore(bn).delete(ee),yield Qe.done})).apply(this,arguments)}function mr({appConfig:B}){return B.appId}const Jt=new Ze.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kt(B,ee){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(B,ee){const Le=yield $t(B),Qe=Ft(ee),Pt={method:"POST",headers:Le,body:JSON.stringify(Qe)};let L;try{L=yield(yield fetch(Gn(B.appConfig),Pt)).json()}catch(Q){throw Jt.create("token-subscribe-failed",{errorInfo:Q?.toString()})}if(L.error)throw Jt.create("token-subscribe-failed",{errorInfo:L.error.message});if(!L.token)throw Jt.create("token-subscribe-no-token");return L.token})).apply(this,arguments)}function ct(B,ee){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(B,ee){const Le=yield $t(B),Qe=Ft(ee.subscriptionOptions),Pt={method:"PATCH",headers:Le,body:JSON.stringify(Qe)};let L;try{L=yield(yield fetch(`${Gn(B.appConfig)}/${ee.token}`,Pt)).json()}catch(Q){throw Jt.create("token-update-failed",{errorInfo:Q?.toString()})}if(L.error)throw Jt.create("token-update-failed",{errorInfo:L.error.message});if(!L.token)throw Jt.create("token-update-no-token");return L.token})).apply(this,arguments)}function Ln(B,ee){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(B,ee){const Qe={method:"DELETE",headers:yield $t(B)};try{const L=yield(yield fetch(`${Gn(B.appConfig)}/${ee}`,Qe)).json();if(L.error)throw Jt.create("token-unsubscribe-failed",{errorInfo:L.error.message})}catch(Pt){throw Jt.create("token-unsubscribe-failed",{errorInfo:Pt?.toString()})}})).apply(this,arguments)}function Gn({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function $t(B){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*({appConfig:B,installations:ee}){const Le=yield ee.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${Le}`})})).apply(this,arguments)}function Ft({p256dh:B,auth:ee,endpoint:Le,vapidKey:Qe}){const Pt={web:{endpoint:Le,auth:ee,p256dh:B}};return Qe!==kn&&(Pt.web.applicationPubKey=Qe),Pt}const Pr=6048e5;function rn(B){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(B){const ee=yield bt(B.swRegistration,B.vapidKey),Le={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:ee.endpoint,auth:Ne(ee.getKey("auth")),p256dh:Ne(ee.getKey("p256dh"))},Qe=yield xr(B.firebaseDependencies);if(Qe){if(G(Qe.subscriptionOptions,Le))return Date.now()>=Qe.createTime+Pr?Z(B,{token:Qe.token,createTime:Date.now(),subscriptionOptions:Le}):Qe.token;try{yield Ln(B.firebaseDependencies,Qe.token)}catch(Pt){console.warn(Pt)}return We(B.firebaseDependencies,Le)}return We(B.firebaseDependencies,Le)})).apply(this,arguments)}function Sn(B){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(B){const ee=yield xr(B.firebaseDependencies);ee&&(yield Ln(B.firebaseDependencies,ee.token),yield tr(B.firebaseDependencies));const Le=yield B.swRegistration.pushManager.getSubscription();return!Le||Le.unsubscribe()})).apply(this,arguments)}function Z(B,ee){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(B,ee){try{const Le=yield ct(B.firebaseDependencies,ee),Qe=Object.assign(Object.assign({},ee),{token:Le,createTime:Date.now()});return yield jn(B.firebaseDependencies,Qe),Le}catch(Le){throw yield Sn(B),Le}})).apply(this,arguments)}function We(B,ee){return dt.apply(this,arguments)}function dt(){return(dt=(0,u.Z)(function*(B,ee){const Qe={token:yield kt(B,ee),createTime:Date.now(),subscriptionOptions:ee};return yield jn(B,Qe),Qe.token})).apply(this,arguments)}function bt(B,ee){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(B,ee){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Be(ee)})})).apply(this,arguments)}function G(B,ee){return ee.vapidKey===B.vapidKey&&ee.endpoint===B.endpoint&&ee.auth===B.auth&&ee.p256dh===B.p256dh}function z(B){const ee={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function N(B,ee){if(!ee.notification)return;B.notification={};const Le=ee.notification.title;Le&&(B.notification.title=Le);const Qe=ee.notification.body;Qe&&(B.notification.body=Qe);const Pt=ee.notification.image;Pt&&(B.notification.image=Pt);const L=ee.notification.icon;L&&(B.notification.icon=L)}(ee,B),function O(B,ee){!ee.data||(B.data=ee.data)}(ee,B),function x(B,ee){var Le,Qe,Pt,L,Q;if(!(ee.fcmOptions||null!==(Le=ee.notification)&&void 0!==Le&&Le.click_action))return;B.fcmOptions={};const he=null!==(Pt=null===(Qe=ee.fcmOptions)||void 0===Qe?void 0:Qe.link)&&void 0!==Pt?Pt:null===(L=ee.notification)||void 0===L?void 0:L.click_action;he&&(B.fcmOptions.link=he);const tt=null===(Q=ee.fcmOptions)||void 0===Q?void 0:Q.analytics_label;tt&&(B.fcmOptions.analyticsLabel=tt)}(ee,B),ee}function ne(B){return"object"==typeof B&&!!B&&Dn in B}function Re(B,ee){const Le=[];for(let Qe=0;Qe<B.length;Qe++)Le.push(B.charAt(Qe)),Qe<ee.length&&Le.push(ee.charAt(Qe));return Le.join("")}function St(B){return Jt.create("missing-app-config-values",{valueName:B})}Re("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Re("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pe{constructor(ee,Le,Qe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pt=function at(B){if(!B||!B.options)throw St("App Configuration Object");if(!B.name)throw St("App Name");const ee=["projectId","apiKey","appId","messagingSenderId"],{options:Le}=B;for(const Qe of ee)if(!Le[Qe])throw St(Qe);return{appName:B.name,projectId:Le.projectId,apiKey:Le.apiKey,appId:Le.appId,senderId:Le.messagingSenderId}}(ee);this.firebaseDependencies={app:ee,appConfig:Pt,installations:Le,analyticsProvider:Qe}}_delete(){return Promise.resolve()}}function ut(B){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:st}),B.swRegistration.update().catch(()=>{})}catch(ee){throw Jt.create("failed-service-worker-registration",{browserErrorMessage:ee?.message})}})).apply(this,arguments)}function hn(B,ee){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(B,ee){if(!ee&&!B.swRegistration&&(yield ut(B)),ee||!B.swRegistration){if(!(ee instanceof ServiceWorkerRegistration))throw Jt.create("invalid-sw-registration");B.swRegistration=ee}})).apply(this,arguments)}function En(B,ee){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(B,ee){ee?B.vapidKey=ee:B.vapidKey||(B.vapidKey=kn)})).apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(B,ee){if(!navigator)throw Jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jt.create("permission-blocked");return yield En(B,ee?.vapidKey),yield hn(B,ee?.serviceWorkerRegistration),rn(B)})).apply(this,arguments)}function Ti(B,ee,Le){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(B,ee,Le){const Qe=Di(ee);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Qe,{message_id:Le[Dn],message_name:Le[fr],message_time:Le[se],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Di(B){switch(B){case le.NOTIFICATION_CLICKED:return"notification_open";case le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function es(){return(es=(0,u.Z)(function*(B,ee){const Le=ee.data;if(!Le.isFirebaseMessaging)return;B.onMessageHandler&&Le.messageType===le.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(z(Le)):B.onMessageHandler.next(z(Le)));const Qe=Le.data;ne(Qe)&&"1"===Qe[oe]&&(yield Ti(B,Le.messageType,Qe))})).apply(this,arguments)}const Ai="@firebase/messaging",gi=B=>{const ee=new Pe(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Le=>function Si(B,ee){return es.apply(this,arguments)}(ee,Le)),ee},xi=B=>{const ee=B.getProvider("messaging").getImmediate();return{getToken:Qe=>function Vn(B,ee){return oi.apply(this,arguments)}(ee,Qe)}};function Hi(){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(){try{yield(0,Ze.eu)()}catch{return!1}return typeof window<"u"&&(0,Ze.hl)()&&(0,Ze.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function zi(B=(0,rt.Mq)()){return Hi().then(ee=>{if(!ee)throw Jt.create("unsupported-browser")},ee=>{throw Jt.create("indexed-db-unsupported")}),(0,rt.qX)((0,Ze.m9)(B),"messaging").getImmediate()}!function Wr(){(0,rt.Xd)(new k.wA("messaging",gi,"PUBLIC")),(0,rt.Xd)(new k.wA("messaging-internal",xi,"PRIVATE")),(0,rt.KN)(Ai,"0.12.4"),(0,rt.KN)(Ai,"0.12.4","esm2017")}()},9681:(Mt,je,R)=>{R.d(je,{Jn:()=>er,KN:()=>jn,Mq:()=>Zn,Xd:()=>_t,qX:()=>Tt});var u=R(5861),$=R(4859),k=R(1877),ae=R(2090),de=R(8766);class Ee{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function ge(_e){return"VERSION"===_e.getComponent()?.type}(Ie)){const We=Ie.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ie=>Ie).join(" ")}}const ye="@firebase/app",W=new k.Yd("@firebase/app"),se="[DEFAULT]",oe={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Te=new Map,le=new Map;function Ne(_e,Z){try{_e.container.addComponent(Z)}catch(Ie){W.debug(`Component ${Z.name} failed to register with FirebaseApp ${_e.name}`,Ie)}}function _t(_e){const Z=_e.name;if(le.has(Z))return W.debug(`There were multiple attempts to register component ${Z}.`),!1;le.set(Z,_e);for(const Ie of Te.values())Ne(Ie,_e);return!0}function Tt(_e,Z){const Ie=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),_e.container.getProvider(Z)}const nn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(Z,Ie,We){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const er="10.3.0";function Zn(_e=se){const Z=Te.get(_e);if(!Z&&_e===se&&(0,ae.aH)())return function bn(_e,Z={}){let Ie=_e;"object"!=typeof Z&&(Z={name:Z});const We=Object.assign({name:se,automaticDataCollectionEnabled:!1},Z),dt=We.name;if("string"!=typeof dt||!dt)throw nn.create("bad-app-name",{appName:String(dt)});if(Ie||(Ie=(0,ae.aH)()),!Ie)throw nn.create("no-options");const bt=Te.get(dt);if(bt){if((0,ae.vZ)(Ie,bt.options)&&(0,ae.vZ)(We,bt.config))return bt;throw nn.create("duplicate-app",{appName:dt})}const vn=new $.H0(dt);for(const z of le.values())vn.addComponent(z);const G=new wn(Ie,We,vn);return Te.set(dt,G),G}();if(!Z)throw nn.create("no-app",{appName:_e});return Z}function jn(_e,Z,Ie){var We;let dt=null!==(We=oe[_e])&&void 0!==We?We:_e;Ie&&(dt+=`-${Ie}`);const bt=dt.match(/\s|\//),vn=Z.match(/\s|\//);if(bt||vn){const G=[`Unable to register library "${dt}" with version "${Z}":`];return bt&&G.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),bt&&vn&&G.push("and"),vn&&G.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void W.warn(G.join(" "))}_t(new $.wA(`${dt}-version`,()=>({library:dt,version:Z}),"VERSION"))}const dn="firebase-heartbeat-store";let Jt=null;function kt(){return Jt||(Jt=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(_e,Z)=>{0===Z&&_e.createObjectStore(dn)}}).catch(_e=>{throw nn.create("idb-open",{originalErrorMessage:_e.message})})),Jt}function ct(){return(ct=(0,u.Z)(function*(_e){try{return yield(yield kt()).transaction(dn).objectStore(dn).get(qn(_e))}catch(Z){if(Z instanceof ae.ZR)W.warn(Z.message);else{const Ie=nn.create("idb-get",{originalErrorMessage:Z?.message});W.warn(Ie.message)}}})).apply(this,arguments)}function on(_e,Z){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(_e,Z){try{const We=(yield kt()).transaction(dn,"readwrite");yield We.objectStore(dn).put(Z,qn(_e)),yield We.done}catch(Ie){if(Ie instanceof ae.ZR)W.warn(Ie.message);else{const We=nn.create("idb-set",{originalErrorMessage:Ie?.message});W.warn(We.message)}}})).apply(this,arguments)}function qn(_e){return`${_e.name}!${_e.options.appId}`}class br{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new rn(Ie),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Z=this;return(0,u.Z)(function*(){const We=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=Ft();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==dt&&!Z._heartbeatsCache.heartbeats.some(bt=>bt.date===dt))return Z._heartbeatsCache.heartbeats.push({date:dt,agent:We}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(bt=>{const vn=new Date(bt.date).valueOf();return Date.now()-vn<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,u.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Ie=Ft(),{heartbeatsToSend:We,unsentEntries:dt}=function Pr(_e,Z=1024){const Ie=[];let We=_e.slice();for(const dt of _e){const bt=Ie.find(vn=>vn.agent===dt.agent);if(bt){if(bt.dates.push(dt.date),Wn(Ie)>Z){bt.dates.pop();break}}else if(Ie.push({agent:dt.agent,dates:[dt.date]}),Wn(Ie)>Z){Ie.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:We}}(Z._heartbeatsCache.heartbeats),bt=(0,ae.L)(JSON.stringify({version:2,heartbeats:We}));return Z._heartbeatsCache.lastSentHeartbeatDate=Ie,dt.length>0?(Z._heartbeatsCache.heartbeats=dt,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),bt})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,u.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function Dt(_e){return ct.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Ie=this;return(0,u.Z)(function*(){var We;if(yield Ie._canUseIndexedDBPromise){const bt=yield Ie.read();return on(Ie.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:bt.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Ie=this;return(0,u.Z)(function*(){var We;if(yield Ie._canUseIndexedDBPromise){const bt=yield Ie.read();return on(Ie.app,{lastSentHeartbeatDate:null!==(We=Z.lastSentHeartbeatDate)&&void 0!==We?We:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...Z.heartbeats]})}})()}}function Wn(_e){return(0,ae.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Sn(_e){_t(new $.wA("platform-logger",Z=>new Ee(Z),"PRIVATE")),_t(new $.wA("heartbeat",Z=>new br(Z),"PRIVATE")),jn(ye,"0.9.17",_e),jn(ye,"0.9.17","esm2017"),jn("fire-js","")}("")},4859:(Mt,je,R)=>{R.d(je,{H0:()=>ye,wA:()=>k});var u=R(5861),$=R(2090);class k{constructor(W,q,X){this.name=W,this.instanceFactory=q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ae="[DEFAULT]";class de{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const X=new $.BH;if(this.instancesDeferred.set(q,X),this.isInitialized(q)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:q});qe&&X.resolve(qe)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const X=this.normalizeInstanceIdentifier(W?.identifier),qe=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Se){if(qe)return null;throw Se}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ge(Ce){return"EAGER"===Ce.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[q,X]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(q);try{const Se=this.getOrInitializeService({instanceIdentifier:qe});X.resolve(Se)}catch{}}}}clearInstance(W=ae){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...q.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ae){return this.instances.has(W)}getOptions(W=ae){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,X=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:X,options:q});for(const[Se,Oe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Se)&&Oe.resolve(qe);return qe}onInit(W,q){var X;const qe=this.normalizeInstanceIdentifier(q),Se=null!==(X=this.onInitCallbacks.get(qe))&&void 0!==X?X:new Set;Se.add(W),this.onInitCallbacks.set(qe,Se);const Oe=this.instances.get(qe);return Oe&&W(Oe,qe),()=>{Se.delete(W)}}invokeOnInitCallbacks(W,q){const X=this.onInitCallbacks.get(q);if(X)for(const qe of X)try{qe(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let X=this.instances.get(W);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=W,Ce===ae?void 0:Ce),options:q}),this.instances.set(W,X),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(X,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,X)}catch{}var Ce;return X||null}normalizeInstanceIdentifier(W=ae){return this.component?this.component.multipleInstances?W:ae:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new de(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},4727:(Mt,je,R)=>{var u=R(5861),$=R(9681),k=R(4859),ae=R(2090);let Ee,ge;const W=new WeakMap,q=new WeakMap,X=new WeakMap,qe=new WeakMap,Se=new WeakMap;let De={get(L,Q,he){if(L instanceof IDBTransaction){if("done"===Q)return q.get(L);if("objectStoreNames"===Q)return L.objectStoreNames||X.get(L);if("store"===Q)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return Fe(L[Q])},set:(L,Q,he)=>(L[Q]=he,!0),has:(L,Q)=>L instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in L};function ft(L){return"function"==typeof L?function Ct(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...Q){return L.apply(Ae(this),Q),Fe(W.get(this))}:function(...Q){return Fe(L.apply(Ae(this),Q))}:function(Q,...he){const tt=L.call(Ae(this),Q,...he);return X.set(tt,Q.sort?Q.sort():[Q]),Fe(tt)}}(L):(L instanceof IDBTransaction&&function lt(L){if(q.has(L))return;const Q=new Promise((he,tt)=>{const fn=()=>{L.removeEventListener("complete",Kt),L.removeEventListener("error",xt),L.removeEventListener("abort",xt)},Kt=()=>{he(),fn()},xt=()=>{tt(L.error||new DOMException("AbortError","AbortError")),fn()};L.addEventListener("complete",Kt),L.addEventListener("error",xt),L.addEventListener("abort",xt)});q.set(L,Q)}(L),((L,Q)=>Q.some(he=>L instanceof he))(L,function ye(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,De):L)}function Fe(L){if(L instanceof IDBRequest)return function Oe(L){const Q=new Promise((he,tt)=>{const fn=()=>{L.removeEventListener("success",Kt),L.removeEventListener("error",xt)},Kt=()=>{he(Fe(L.result)),fn()},xt=()=>{tt(L.error),fn()};L.addEventListener("success",Kt),L.addEventListener("error",xt)});return Q.then(he=>{he instanceof IDBCursor&&W.set(he,L)}).catch(()=>{}),Se.set(Q,L),Q}(L);if(qe.has(L))return qe.get(L);const Q=ft(L);return Q!==L&&(qe.set(L,Q),Se.set(Q,L)),Q}const Ae=L=>Se.get(L),Xe=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],be=new Map;function Ze(L,Q){if(!(L instanceof IDBDatabase)||Q in L||"string"!=typeof Q)return;if(be.get(Q))return be.get(Q);const he=Q.replace(/FromIndex$/,""),tt=Q!==he,fn=K.includes(he);if(!(he in(tt?IDBIndex:IDBObjectStore).prototype)||!fn&&!Xe.includes(he))return;const Kt=function(){var xt=(0,u.Z)(function*(Ir,...$n){const qr=this.transaction(Ir,fn?"readwrite":"readonly");let Ts=qr.store;return tt&&(Ts=Ts.index($n.shift())),(yield Promise.all([Ts[he](...$n),fn&&qr.done]))[0]});return function($n){return xt.apply(this,arguments)}}();return be.set(Q,Kt),Kt}!function fe(L){De=L(De)}(L=>({...L,get:(Q,he,tt)=>Ze(Q,he)||L.get(Q,he,tt),has:(Q,he)=>!!Ze(Q,he)||L.has(Q,he)}));const rt="@firebase/installations",kn="w:0.6.4",cr="FIS_v2",le=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(L){return L instanceof ae.ZR&&L.code.includes("request-failed")}function Be({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function _t(L){return{token:L.token,requestStatus:2,expiresIn:er(L.expiresIn),creationTime:Date.now()}}function Tt(L,Q){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(L,Q){const tt=(yield Q.json()).error;return le.create("request-failed",{requestName:L,serverCode:tt.code,serverMessage:tt.message,serverStatus:tt.status})})).apply(this,arguments)}function Rt({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function un(L,{refreshToken:Q}){const he=Rt(L);return he.append("Authorization",function bn(L){return`${cr} ${L}`}(Q)),he}function nn(L){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(L){const Q=yield L();return Q.status>=500&&Q.status<600?L():Q})).apply(this,arguments)}function er(L){return Number(L.replace("s","000"))}function Zn(L,Q){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*({appConfig:L,heartbeatServiceProvider:Q},{fid:he}){const tt=Be(L),fn=Rt(L),Kt=Q.getImmediate({optional:!0});if(Kt){const qr=yield Kt.getHeartbeatsHeader();qr&&fn.append("x-firebase-client",qr)}const Ir={method:"POST",headers:fn,body:JSON.stringify({fid:he,authVersion:cr,appId:L.appId,sdkVersion:kn})},$n=yield nn(()=>fetch(tt,Ir));if($n.ok){const qr=yield $n.json();return{fid:qr.fid||he,registrationStatus:2,refreshToken:qr.refreshToken,authToken:_t(qr.authToken)}}throw yield Tt("Create Installation",$n)})).apply(this,arguments)}function xr(L){return new Promise(Q=>{setTimeout(Q,L)})}const jn=/^[cdef][\w-]{21}$/;function tr(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const he=function Mr(L){return function ot(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return jn.test(he)?he:""}catch{return""}}function mr(L){return`${L.appName}!${L.appId}`}const dn=new Map;function Jt(L,Q){const he=mr(L);ct(he,Q),function on(L,Q){const he=function qn(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=L=>{ct(L.data.key,L.data.fid)}),Ln}();he&&he.postMessage({key:L,fid:Q}),function Gn(){0===dn.size&&Ln&&(Ln.close(),Ln=null)}()}(he,Q)}function ct(L,Q){const he=dn.get(L);if(he)for(const tt of he)tt(Q)}let Ln=null;const Ft="firebase-installations-store";let Pr=null;function rn(){return Pr||(Pr=function Me(L,Q,{blocked:he,upgrade:tt,blocking:fn,terminated:Kt}={}){const xt=indexedDB.open(L,Q),Ir=Fe(xt);return tt&&xt.addEventListener("upgradeneeded",$n=>{tt(Fe(xt.result),$n.oldVersion,$n.newVersion,Fe(xt.transaction))}),he&&xt.addEventListener("blocked",()=>he()),Ir.then($n=>{Kt&&$n.addEventListener("close",()=>Kt()),fn&&$n.addEventListener("versionchange",()=>fn())}).catch(()=>{}),Ir}("firebase-installations-database",1,{upgrade:(L,Q)=>{0===Q&&L.createObjectStore(Ft)}})),Pr}function Wn(L,Q){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(L,Q){const he=mr(L),fn=(yield rn()).transaction(Ft,"readwrite"),Kt=fn.objectStore(Ft),xt=yield Kt.get(he);return yield Kt.put(Q,he),yield fn.done,(!xt||xt.fid!==Q.fid)&&Jt(L,Q.fid),Q})).apply(this,arguments)}function _e(L){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(L){const Q=mr(L),tt=(yield rn()).transaction(Ft,"readwrite");yield tt.objectStore(Ft).delete(Q),yield tt.done})).apply(this,arguments)}function Ie(L,Q){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(L,Q){const he=mr(L),fn=(yield rn()).transaction(Ft,"readwrite"),Kt=fn.objectStore(Ft),xt=yield Kt.get(he),Ir=Q(xt);return void 0===Ir?yield Kt.delete(he):yield Kt.put(Ir,he),yield fn.done,Ir&&(!xt||xt.fid!==Ir.fid)&&Jt(L,Ir.fid),Ir})).apply(this,arguments)}function dt(L){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(L){let Q;const he=yield Ie(L.appConfig,tt=>{const fn=vn(tt),Kt=G(L,fn);return Q=Kt.registrationPromise,Kt.installationEntry});return""===he.fid?{installationEntry:yield Q}:{installationEntry:he,registrationPromise:Q}})).apply(this,arguments)}function vn(L){return Re(L||{fid:tr(),registrationStatus:0})}function G(L,Q){if(0===Q.registrationStatus){if(!navigator.onLine)return{installationEntry:Q,registrationPromise:Promise.reject(le.create("app-offline"))};const he={fid:Q.fid,registrationStatus:1,registrationTime:Date.now()},tt=function z(L,Q){return N.apply(this,arguments)}(L,he);return{installationEntry:he,registrationPromise:tt}}return 1===Q.registrationStatus?{installationEntry:Q,registrationPromise:O(L)}:{installationEntry:Q}}function N(){return(N=(0,u.Z)(function*(L,Q){try{const he=yield Zn(L,Q);return Wn(L.appConfig,he)}catch(he){throw Ne(he)&&409===he.customData.serverCode?yield _e(L.appConfig):yield Wn(L.appConfig,{fid:Q.fid,registrationStatus:0}),he}})).apply(this,arguments)}function O(L){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(L){let Q=yield ne(L.appConfig);for(;1===Q.registrationStatus;)yield xr(100),Q=yield ne(L.appConfig);if(0===Q.registrationStatus){const{installationEntry:he,registrationPromise:tt}=yield dt(L);return tt||he}return Q})).apply(this,arguments)}function ne(L){return Ie(L,Q=>{if(!Q)throw le.create("installation-not-found");return Re(Q)})}function Re(L){return function at(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function St(L,Q){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*({appConfig:L,heartbeatServiceProvider:Q},he){const tt=ut(L,he),fn=un(L,he),Kt=Q.getImmediate({optional:!0});if(Kt){const qr=yield Kt.getHeartbeatsHeader();qr&&fn.append("x-firebase-client",qr)}const Ir={method:"POST",headers:fn,body:JSON.stringify({installation:{sdkVersion:kn,appId:L.appId}})},$n=yield nn(()=>fetch(tt,Ir));if($n.ok)return _t(yield $n.json());throw yield Tt("Generate Auth Token",$n)})).apply(this,arguments)}function ut(L,{fid:Q}){return`${Be(L)}/${Q}/authTokens:generate`}function vt(L){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(L,Q=!1){let he;const tt=yield Ie(L.appConfig,Kt=>{if(!Ti(Kt))throw le.create("not-registered");const xt=Kt.authToken;if(!Q&&Zt(xt))return Kt;if(1===xt.requestStatus)return he=Ht(L,Q),Kt;{if(!navigator.onLine)throw le.create("app-offline");const Ir=Si(Kt);return he=Vn(L,Ir),Ir}});return he?yield he:tt.authToken})).apply(this,arguments)}function Ht(L,Q){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(L,Q){let he=yield Vr(L.appConfig);for(;1===he.authToken.requestStatus;)yield xr(100),he=yield Vr(L.appConfig);const tt=he.authToken;return 0===tt.requestStatus?vt(L,Q):tt})).apply(this,arguments)}function Vr(L){return Ie(L,Q=>{if(!Ti(Q))throw le.create("not-registered");return function es(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}(Q.authToken)?Object.assign(Object.assign({},Q),{authToken:{requestStatus:0}}):Q})}function Vn(L,Q){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(L,Q){try{const he=yield St(L,Q),tt=Object.assign(Object.assign({},Q),{authToken:he});return yield Wn(L.appConfig,tt),he}catch(he){if(!Ne(he)||401!==he.customData.serverCode&&404!==he.customData.serverCode){const tt=Object.assign(Object.assign({},Q),{authToken:{requestStatus:0}});yield Wn(L.appConfig,tt)}else yield _e(L.appConfig);throw he}})).apply(this,arguments)}function Ti(L){return void 0!==L&&2===L.registrationStatus}function Zt(L){return 2===L.requestStatus&&!function Di(L){const Q=Date.now();return Q<L.creationTime||L.creationTime+L.expiresIn<Q+36e5}(L)}function Si(L){const Q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:Q})}function Yn(){return(Yn=(0,u.Z)(function*(L){const Q=L,{installationEntry:he,registrationPromise:tt}=yield dt(Q);return tt?tt.catch(console.error):vt(Q).catch(console.error),he.fid})).apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(L,Q=!1){const he=L;return yield Wr(he),(yield vt(he,Q)).token})).apply(this,arguments)}function Wr(L){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(L){const{registrationPromise:Q}=yield dt(L);Q&&(yield Q)})).apply(this,arguments)}function ts(L){return le.create("missing-app-config-values",{valueName:L})}const B="installations",Le=L=>{const Q=L.getProvider("app").getImmediate(),he=function ms(L){if(!L||!L.options)throw ts("App Configuration");if(!L.name)throw ts("App Name");const Q=["projectId","apiKey","appId"];for(const he of Q)if(!L.options[he])throw ts(he);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(Q);return{app:Q,appConfig:he,heartbeatServiceProvider:(0,$.qX)(Q,"heartbeat"),_delete:()=>Promise.resolve()}},Qe=L=>{const Q=L.getProvider("app").getImmediate(),he=(0,$.qX)(Q,B).getImmediate();return{getId:()=>function Ai(L){return Yn.apply(this,arguments)}(he),getToken:fn=>function gi(L){return xi.apply(this,arguments)}(he,fn)}};(function Pt(){(0,$.Xd)(new k.wA(B,Le,"PUBLIC")),(0,$.Xd)(new k.wA("installations-internal",Qe,"PRIVATE"))})(),(0,$.KN)(rt,"0.6.4"),(0,$.KN)(rt,"0.6.4","esm2017")},1877:(Mt,je,R)=>{R.d(je,{Am:()=>Ce,Ub:()=>ye,Yd:()=>ge,in:()=>$});const u=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const k={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ae=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Ee=(W,q,...X)=>{if(q<W.logLevel)return;const qe=(new Date).toISOString(),Se=de[q];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Se](`[${qe}]  ${W.name}:`,...X)};class ge{constructor(q){this.name=q,this._logLevel=ae,this._logHandler=Ee,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function ye(W){u.forEach(q=>{q.setLogLevel(W)})}function Ce(W,q){for(const X of u){let qe=null;q&&q.level&&(qe=k[q.level]),X.userLogHandler=null===W?null:(Se,Oe,...lt)=>{const De=lt.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");Oe>=(qe??Se.logLevel)&&W({level:$[Oe].toLowerCase(),message:De,args:lt,type:Se.name})}}}},8766:(Mt,je,R)=>{R.d(je,{X3:()=>ft});var u=R(5861);let k,ae;const ge=new WeakMap,ye=new WeakMap,Ce=new WeakMap,W=new WeakMap,q=new WeakMap;let Se={get(K,be,Ze){if(K instanceof IDBTransaction){if("done"===be)return ye.get(K);if("objectStoreNames"===be)return K.objectStoreNames||Ce.get(K);if("store"===be)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return fe(K[be])},set:(K,be,Ze)=>(K[be]=Ze,!0),has:(K,be)=>K instanceof IDBTransaction&&("done"===be||"store"===be)||be in K};function De(K){return"function"==typeof K?function lt(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...be){return K.apply(Ct(this),be),fe(ge.get(this))}:function(...be){return fe(K.apply(Ct(this),be))}:function(be,...Ze){const rt=K.call(Ct(this),be,...Ze);return Ce.set(rt,be.sort?be.sort():[be]),fe(rt)}}(K):(K instanceof IDBTransaction&&function qe(K){if(ye.has(K))return;const be=new Promise((Ze,rt)=>{const Nt=()=>{K.removeEventListener("complete",st),K.removeEventListener("error",kn),K.removeEventListener("abort",kn)},st=()=>{Ze(),Nt()},kn=()=>{rt(K.error||new DOMException("AbortError","AbortError")),Nt()};K.addEventListener("complete",st),K.addEventListener("error",kn),K.addEventListener("abort",kn)});ye.set(K,be)}(K),((K,be)=>be.some(Ze=>K instanceof Ze))(K,function de(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,Se):K)}function fe(K){if(K instanceof IDBRequest)return function X(K){const be=new Promise((Ze,rt)=>{const Nt=()=>{K.removeEventListener("success",st),K.removeEventListener("error",kn)},st=()=>{Ze(fe(K.result)),Nt()},kn=()=>{rt(K.error),Nt()};K.addEventListener("success",st),K.addEventListener("error",kn)});return be.then(Ze=>{Ze instanceof IDBCursor&&ge.set(Ze,K)}).catch(()=>{}),q.set(be,K),be}(K);if(W.has(K))return W.get(K);const be=De(K);return be!==K&&(W.set(K,be),q.set(be,K)),be}const Ct=K=>q.get(K);function ft(K,be,{blocked:Ze,upgrade:rt,blocking:Nt,terminated:st}={}){const kn=indexedDB.open(K,be),cr=fe(kn);return rt&&kn.addEventListener("upgradeneeded",Dn=>{rt(fe(kn.result),Dn.oldVersion,Dn.newVersion,fe(kn.transaction),Dn)}),Ze&&kn.addEventListener("blocked",Dn=>Ze(Dn.oldVersion,Dn.newVersion,Dn)),cr.then(Dn=>{st&&Dn.addEventListener("close",()=>st()),Nt&&Dn.addEventListener("versionchange",fr=>Nt(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),cr}const Ae=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],nt=new Map;function Xe(K,be){if(!(K instanceof IDBDatabase)||be in K||"string"!=typeof be)return;if(nt.get(be))return nt.get(be);const Ze=be.replace(/FromIndex$/,""),rt=be!==Ze,Nt=Me.includes(Ze);if(!(Ze in(rt?IDBIndex:IDBObjectStore).prototype)||!Nt&&!Ae.includes(Ze))return;const st=function(){var kn=(0,u.Z)(function*(cr,...Dn){const fr=this.transaction(cr,Nt?"readwrite":"readonly");let se=fr.store;return rt&&(se=se.index(Dn.shift())),(yield Promise.all([se[Ze](...Dn),Nt&&fr.done]))[0]});return function(Dn){return kn.apply(this,arguments)}}();return nt.set(be,st),st}!function Oe(K){Se=K(Se)}(K=>({...K,get:(be,Ze,rt)=>Xe(be,Ze)||K.get(be,Ze,rt),has:(be,Ze)=>!!Xe(be,Ze)||K.has(be,Ze)}))},5861:(Mt,je,R)=>{function u(k,ae,de,Ee,ge,ye,Ce){try{var W=k[ye](Ce),q=W.value}catch(X){return void de(X)}W.done?ae(q):Promise.resolve(q).then(Ee,ge)}function $(k){return function(){var ae=this,de=arguments;return new Promise(function(Ee,ge){var ye=k.apply(ae,de);function Ce(q){u(ye,Ee,ge,Ce,W,"next",q)}function W(q){u(ye,Ee,ge,Ce,W,"throw",q)}Ce(void 0)})}}R.d(je,{Z:()=>$})},7582:(Mt,je,R)=>{function ae(se,oe){var Te={};for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&oe.indexOf(le)<0&&(Te[le]=se[le]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(le=Object.getOwnPropertySymbols(se);Ne<le.length;Ne++)oe.indexOf(le[Ne])<0&&Object.prototype.propertyIsEnumerable.call(se,le[Ne])&&(Te[le[Ne]]=se[le[Ne]])}return Te}function X(se,oe,Te,le){return new(Te||(Te=Promise))(function(Be,_t){function Tt(un){try{Rt(le.next(un))}catch(nn){_t(nn)}}function qt(un){try{Rt(le.throw(un))}catch(nn){_t(nn)}}function Rt(un){un.done?Be(un.value):function Ne(Be){return Be instanceof Te?Be:new Te(function(_t){_t(Be)})}(un.value).then(Tt,qt)}Rt((le=le.apply(se,oe||[])).next())})}function Fe(se){return this instanceof Fe?(this.v=se,this):new Fe(se)}function Ae(se,oe,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,le=Te.apply(se,oe||[]),Be=[];return Ne={},_t("next"),_t("throw"),_t("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function _t(wn){le[wn]&&(Ne[wn]=function(er){return new Promise(function(bn,Zn){Be.push([wn,er,bn,Zn])>1||Tt(wn,er)})})}function Tt(wn,er){try{!function qt(wn){wn.value instanceof Fe?Promise.resolve(wn.value.v).then(Rt,un):nn(Be[0][2],wn)}(le[wn](er))}catch(bn){nn(Be[0][3],bn)}}function Rt(wn){Tt("next",wn)}function un(wn){Tt("throw",wn)}function nn(wn,er){wn(er),Be.shift(),Be.length&&Tt(Be[0][0],Be[0][1])}}function nt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,oe=se[Symbol.asyncIterator];return oe?oe.call(se):(se=function lt(se){var oe="function"==typeof Symbol&&Symbol.iterator,Te=oe&&se[oe],le=0;if(Te)return Te.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&le>=se.length&&(se=void 0),{value:se&&se[le++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Te={},le("next"),le("throw"),le("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function le(Be){Te[Be]=se[Be]&&function(_t){return new Promise(function(Tt,qt){!function Ne(Be,_t,Tt,qt){Promise.resolve(qt).then(function(Rt){Be({value:Rt,done:Tt})},_t)}(Tt,qt,(_t=se[Be](_t)).done,_t.value)})}}}R.d(je,{FC:()=>Ae,KL:()=>nt,_T:()=>ae,mG:()=>X,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{Mt(Mt.s=7191)}]);